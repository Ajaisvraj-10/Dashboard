{"remainingRequest":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js!/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/task-tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/task-tags.vue","mtime":1676525982000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBtZXRhSW5mbzoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhZ3M6IFtdLAogICAgICBjdXJyZW50X3RhZzoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kcm9vdC5jdXJyZW50X3NlY3Rpb24gPSAndGFzayc7CiAgICB0aGlzLmdldFRhZ3MoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRhZ3M6IGZ1bmN0aW9uIGdldFRhZ3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7CiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiICsgdGhpcy4kcm9vdC50b2tlbik7CiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCArICcvZW1wbG95ZWUvdGFza190YWdzLz9tYWluX3RhZz10cnVlJywgewogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb25EYXRhKSB7CiAgICAgICAgX3RoaXMudGFncyA9IGpzb25EYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBkYXRhRm9ybTogZnVuY3Rpb24gZGF0YUZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogewogICAgICAgIGlkOiBudWxsCiAgICAgIH07CiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKTsKCiAgICAgIGlmICh0YWcuaWQpIHsKICAgICAgICBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nICsgdGFnLmlkKSk7CiAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCdtYWluX3RhZycsIHRhZy5pZCk7CiAgICAgIH0KCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3RhdHVzJywgMSk7CiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsKICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIgKyB0aGlzLiRyb290LnRva2VuKTsKICAgICAgZmV0Y2godGhpcy5hcGlfdXJsICsgJy9lbXBsb3llZS90YXNrX3RhZ3MvJywgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGJvZHk6IGZvcm1kYXRhLAogICAgICAgIGhlYWRlcnM6IGhlYWRlcnMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uRGF0YSkgewogICAgICAgIGlmIChqc29uRGF0YS5pZCA+IDApIHsKICAgICAgICAgIF90aGlzMi5nZXRUYWdzKCk7CgogICAgICAgICAgX3RoaXMyLnNob3dBbGVydCgnQWRkZWQgU3VjY2Vzc2Z1bGx5IScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVUYWc6IGZ1bmN0aW9uIGRlbGV0ZVRhZyh0YWcpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgY29uZmlybSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKCiAgICAgIGlmIChjb25maXJtKSB7CiAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICB0aXRsZTogIkRlbGV0ZSBUYWciLAogICAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObyIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgX3RoaXMzLmRlbGV0ZVRhZyh0YWcsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsKICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIgKyB0aGlzLiRyb290LnRva2VuKTsKICAgICAgZmV0Y2godGhpcy5hcGlfdXJsICsgJy9lbXBsb3llZS90YXNrX3RhZ3MvJyArIHRhZy5pZCArICcvJywgewogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5zaG93QWxlcnQoJ1JlbW92ZWQhJywgJ3JlZCcpOwoKICAgICAgICBfdGhpczMuZ2V0VGFncygpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["task-tags.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"main-content main-content2 task-sec task-tag\">\r\n    <div>\r\n      <div class=\"d-flex mb-2 align-items-center justify-content-between\">\r\n        <slot name=\"header\">\r\n          <div>\r\n           <h5 class=\"mb-0\">Task <span class=\"text-success\">/Tags</span></h5>\r\n          </div>\r\n        </slot>\r\n        <div style=\"margin-top:-10px\">\r\n          <b-card body-class=\"p-0\"> \r\n            <form  ref=\"dataForm\" @submit.prevent=\"dataForm()\" class=\"\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <b class=\"pl-2 d-flex align-items-center cursor-pointer w-100\" @click=\"$refs.tag_input.focus()\">\r\n                  <i class=\"fa fa-tags mx-1 text-primary\" style=\"font-size:18px\"></i>\r\n                  <div>\r\n                    <input name=\"name\" v-model=\"current_tag.name\" placeholder=\"Add a tag\" class=\"style-input \" ref=\"tag_input\" required>\r\n                  </div>\r\n                  <div class=\"d-flex align-items-center border-left pl-3\">\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 style-input-color\" value=\"#43da86\">\r\n                    <label class=\"mb-0 text-info pl-2\">Pick a Color</label>\r\n                  </div>\r\n                </b>\r\n                <div class=\"todo-add px-3 py-2\">\r\n                  <button class=\"btn\" type=\"submit\">+ Add</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n      <div class=\"separator-breadcrumb border-top\"></div>\r\n    </div>\r\n\r\n    <!-- contents -->\r\n    <b-row class=\"\" style=\"margin-top:-20px;\">\r\n      <b-col lg=\"12\" xl=\"12\">\r\n        <div class=\"mb-2\">\r\n          <div class=\"my-2 row\">\r\n            <div class=\"col-md-2 pr-0\" v-for=\"tag in tags\">\r\n              <div class=\"card p-2\">\r\n                <div class=\"d-flex mt-1\">\r\n                  <button class=\"btn btn-tag w-100\" style=\"padding: 5px!important\" :style=\"'background-color:'+tag.color+'!important;color:'+bgToTextColor(tag.color)\">\r\n                    {{tag.name}}\r\n                  </button>\r\n                  <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(tag)\"></i>\r\n                </div>\r\n                <hr class=\"my-2\">\r\n                <div class=\"sub_tags mx-2\">\r\n                  <div class=\"d-flex\" v-for=\"sub_tag in tag.sub_tags\">\r\n                    <button class=\"btn btn-tag mb-1 w-100\" :style=\"'background-color:'+sub_tag.color+'!important;color:'+bgToTextColor(sub_tag.color)\">\r\n                      {{sub_tag.name}}\r\n                    </button>\r\n                    <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(sub_tag)\"></i>\r\n                  </div>\r\n                </div>\r\n                <hr class=\"my-1\">\r\n                <form :id=\"'dataForm'+tag.id\" @submit.prevent=\"dataForm(tag)\" class=\"card p-2\">\r\n                  <div class=\"d-flex \">\r\n                    <i class=\"fa fa-tags ml-1 text-primary\" style=\"padding-top:6px\"></i>\r\n                    <input name=\"name\" placeholder=\"Add sub tag\" class=\"w-100 border-0\" required>\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 p-0\" style=\"appearance: none;background-color: transparent;border: none;\" value=\"#43da86\">\r\n                    <button type=\"submit\" class=\"btn btn-tag w-50 m-1\" style=\"background-color:#303e70!important;color:#fff\">\r\n                      Add\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n  </div>  \r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n   \r\n  },\r\n  data() {\r\n    return {\r\n      tags:[],\r\n      current_tag:{},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$root.current_section = 'task'\r\n    this.getTags()\r\n  },\r\n  methods: {\r\n    getTags() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/?main_tag=true', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.tags = jsonData\r\n      })\r\n    },\r\n    dataForm(tag={id:null}) {\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      if(tag.id){\r\n        formdata = new FormData(document.getElementById('dataForm'+tag.id))\r\n        formdata.append('main_tag', tag.id)\r\n      }\r\n      formdata.append('status',1)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.id>0){\r\n          this.getTags()\r\n          this.showAlert('Added Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!')\r\n        }\r\n      })\r\n    },\r\n    deleteTag(tag, confirm=true) {\r\n      if(confirm){\r\n        this.$swal({\r\n          title: \"Delete Tag\",\r\n          text: 'Are you sure?',\r\n          showCancelButton: true,\r\n          confirmButtonColor: \"#3085d6\",\r\n          cancelButtonColor: \"#d33\",\r\n          confirmButtonText: \"Yes\",\r\n          cancelButtonText: \"No\",\r\n        }).then(result => {\r\n          if (result.value) {\r\n            this.deleteTag(tag,false)\r\n          }\r\n        });\r\n        return false\r\n      }\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/'+tag.id+'/', {\r\n          method : 'DELETE',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n        this.showAlert('Removed!', 'red')\r\n        this.getTags()\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n  @import '../styles/style.css';\r\n</style>"],"sourceRoot":"src/views/app/oodo/task"}]}