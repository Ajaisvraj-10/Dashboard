{"remainingRequest":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/inspection-questions.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/inspection-questions.vue","mtime":1675280158000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQpAaW1wb3J0ICcuL3N0eWxlL3N0eWxlLmNzcyc7DQoueWVzX29yX25vX2J0biBsYWJlbC5idG4uYnRuLW91dGxpbmUtc3VjY2Vzc3sNCiAgZm9udC1zaXplOiAxM3B4Ow0KICBwYWRkaW5nOiA1cHggMjBweDsNCiAgbWluLWhlaWdodDozMnB4IWltcG9ydGFudDsNCn0NCi55ZXNfb3Jfbm9fYnRuIC5idG4tb3V0bGluZS1zdWNjZXNzOm5vdCg6ZGlzYWJsZWQpOm5vdCguZGlzYWJsZWQpLmFjdGl2ZTpudGgtY2hpbGQoMil7DQogIA0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjBkMGQ7DQogICAgYm9yZGVyLWNvbG9yOiAjZmYwZDBkOw0KfQ0KLnllc19vcl9ub19idG4gbGFiZWwuYnRuLmJ0bi1vdXRsaW5lLXN1Y2Nlc3M6bnRoLWNoaWxkKDIpIHsNCiAgDQogICAgYm9yZGVyOiAxcHggc29saWQgZ3JheTsNCn0NCi55ZXNfb3Jfbm9fYnRuIC5idG4tb3V0bGluZS1zdWNjZXNzOm5vdCg6ZGlzYWJsZWQpOm5vdCguZGlzYWJsZWQpLmFjdGl2ZTpudGgtY2hpbGQoMSl7DQogIA0KICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7DQogICAgYm9yZGVyLWNvbG9yOiAjNGNhZjUwOw0KfQ0KLnllc19vcl9ub19idG4gbGFiZWwuYnRuLmJ0bi1vdXRsaW5lLXN1Y2Nlc3M6bnRoLWNoaWxkKDEpIHsNCiAgDQogICAgYm9yZGVyOiAxcHggc29saWQgZ3JheTsNCn0NCg=="},{"version":3,"sources":["inspection-questions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"inspection-questions.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <main >\r\n      <div class=\"\" v-if=\"not_start\">\r\n        <div class=\"loading\" style=\"z-index:999999999999999\"></div>\r\n      </div>\r\n      <div :style=\"not_start?'opacity:0.5':''\">\r\n        <form v-for=\"(category,index) in categories\" :id=\"'questionAnswers'+category.id\" v-if=\"category.id==current_category.id\">\r\n          <div class=\"header-bio\">\r\n            <div class=\"container d-flex align-items-center px-4\">\r\n              <img src=\"/images/left-arrow.png\" width=\"10\" @click=\"index==0?goBack():current_category=categories[index-1]\">\r\n              <h4 class=\"font-weight-700 px-4\"> {{category.name}}</h4>\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"body-bio px-3 py-2 create\">\r\n               \r\n            <div class=\"my-3\" v-for=\"question in category.questions\">\r\n              <h5 class=\" py-2\"><b>Q :</b> {{question.name}}</h5>\r\n              <div v-if=\"question.field=='Boolean'\">\r\n              <!--   <select class=\"form-control\" :name=\"'answer'+question.id\">\r\n                  <option value=\"\" selected disabled>------</option>\r\n                  <option value=\"Yes\" :selected=\"question.answers?question.answers.answer=='Yes'?true:false:false\">YES</option>\r\n                  <option value=\"No\" :selected=\"question.answers?question.answers.answer=='No'?true:false:false\">NO</option>\r\n                </select> -->\r\n                <b-form-group class=\"yes_or_no_btn\">\r\n                  <b-form-radio-group\r\n                    v-model=\"question.answers.answer\"\r\n                    :options=\"['YES','NO']\"\r\n                    button-variant=\"outline-success\"\r\n                    :name=\"'answer'+question.id\"\r\n                    buttons\r\n                  ></b-form-radio-group>\r\n                </b-form-group>\r\n                <input type=\"hidden\" v-model=\"question.answers.answer\" :class=\"'check_field_'+category.id\" required>\r\n              </div>\r\n              <div v-else-if=\"question.field=='Textarea'\">\r\n                <textarea class=\"form-control2 form-control\" placeholder=\"Answer\" :name=\"'answer'+question.id\" v-model=\"question.answers.answer\"></textarea>\r\n              </div>\r\n              <div v-else-if=\"question.field=='File'\">\r\n                 <div class=\"prepend-1\">\r\n                   <b-input-group>\r\n                      <input type=\"file\" class=\"form-control\" :name=\"'answer'+question.id\"/>\r\n                      <template #append>\r\n                       Browse\r\n                      </template>\r\n                    </b-input-group>\r\n                  </div>\r\n              </div>\r\n              <div v-if=\"question.remark\">\r\n                <h5 class=\"py-2\">{{question.remark}}</h5>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Remark\" v-model=\"question.answers.remark\" :name=\"'remark'+question.id\"/>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class=\"my-1 footer border-top\">\r\n            <HomeBtn></HomeBtn>\r\n            <div class=\"px-4\">\r\n              <div class=\"\" style=\"display: flex;justify-content: flex-end;gap: 10px;\">\r\n                <button type=\"button\" @click=\"active_btn?addAnswers(category.id,index):''\" class=\"btn btn-secondary\">Save & Next <i class=\"fa fa-angle-right\" style=\"color:white;\"></i></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </main>\r\n\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Home\"\r\n  },\r\n  data() {\r\n    return {\r\n      categories:[],\r\n      current_category:{id:null},\r\n      id:this.$route.params.id,\r\n      active_btn:true,\r\n      not_start:true,\r\n    };\r\n  },\r\n  mounted(){\r\n    this.getQuestions()\r\n  },\r\n  methods: {\r\n    nextPage(page){\r\n      this.$router.push('/inspection-'+page+'/'+this.id)\r\n    },\r\n    getQuestions() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token)\r\n      fetch(this.api_url+'/employee/add_answers/?inspection='+this.id, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        self = this\r\n        var add_cat = false\r\n        jsonData.forEach(function(category,key1){\r\n          if(key1==0){\r\n            self.current_category = category;\r\n          }\r\n          if(self.$route.query.category){\r\n            if(category.id==self.$route.query.category){\r\n              self.current_category = category\r\n            }\r\n          }else{\r\n            if(category.answerd_count!=category.questions.length && !add_cat){\r\n              self.current_category = category\r\n              add_cat = true\r\n            }\r\n          }\r\n          category.questions.forEach(function(question,key2){\r\n            if(!question.answers){\r\n              jsonData[key1].questions[key2]['answers']['answer'] = ''\r\n              jsonData[key1].questions[key2]['answers']['remark'] = ''\r\n            }\r\n          })\r\n        })\r\n        this.categories = jsonData\r\n        this.not_start=false\r\n      })\r\n    },\r\n    addAnswers(cat_id,key) {\r\n      var is_input = document.getElementsByClassName('check_field_'+cat_id)\r\n      var not_next = false\r\n      for(var i=0;i<is_input.length;i++){\r\n        is_input[i].style.border = 'none'\r\n        if(is_input[i].value==''){\r\n          // is_input[i].style.border = '1px red solid'\r\n          not_next = true\r\n        }\r\n      }\r\n      if(not_next){\r\n        this.showAlert('Please select an option!')\r\n        return false\r\n      }\r\n      this.not_start=true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token)\r\n      var formdata = new FormData(document.getElementById('questionAnswers'+cat_id));\r\n      formdata.append('inspection',this.id)\r\n      formdata.append('category',cat_id)\r\n      this.active_btn = false\r\n      fetch(this.api_url+'/employee/add_answers/', {\r\n          method : 'post',\r\n          headers: headers,\r\n          body: formdata\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.not_start=false\r\n        if((key+1)<this.categories.length){\r\n          this.current_category=this.categories[key+1]\r\n          this.active_btn = true\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.nextPage('digital-sign')\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style>\r\n\r\n@import './style/style.css';\r\n.yes_or_no_btn label.btn.btn-outline-success{\r\n  font-size: 13px;\r\n  padding: 5px 20px;\r\n  min-height:32px!important;\r\n}\r\n.yes_or_no_btn .btn-outline-success:not(:disabled):not(.disabled).active:nth-child(2){\r\n  \r\n    background-color: #ff0d0d;\r\n    border-color: #ff0d0d;\r\n}\r\n.yes_or_no_btn label.btn.btn-outline-success:nth-child(2) {\r\n  \r\n    border: 1px solid gray;\r\n}\r\n.yes_or_no_btn .btn-outline-success:not(:disabled):not(.disabled).active:nth-child(1){\r\n  \r\n    background-color: #4caf50;\r\n    border-color: #4caf50;\r\n}\r\n.yes_or_no_btn label.btn.btn-outline-success:nth-child(1) {\r\n  \r\n    border: 1px solid gray;\r\n}\r\n</style>\r\n"]}]}