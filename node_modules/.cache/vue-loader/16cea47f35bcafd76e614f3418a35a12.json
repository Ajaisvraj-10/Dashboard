{"remainingRequest":"E:\\vue_projects\\flora_driver\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\flora_driver\\src\\views\\app\\pages\\task-details.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_projects\\flora_driver\\src\\views\\app\\pages\\task-details.vue","mtime":1639159008523},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbWV0YUluZm86IHsNCiAgICB0aXRsZTogIkhvbWUiDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhc2tfaWQ6MCwNCiAgICAgIHRhc2tfZGV0YWlsczp7YWRkb25zOltdfSwNCiAgICAgIGlzX25vdF9jbGlja19idG46dHJ1ZSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCl7DQogICAgdGhpcy50YXNrX2lkID0gdGhpcy4kcm91dGUucGFyYW1zLnRhc2tfaWQNCiAgICB0aGlzLmdldFRhc2soKSANCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJlZGlyZWN0UGhvbmUoKXsNCiAgICAgIGlmKHRoaXMudGFza19kZXRhaWxzLmRlbGl2ZXJ5X2FkZHJlc3Mpew0KICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj0ndGVsOicrdGhpcy50YXNrX2RldGFpbHMuZGVsaXZlcnlfYWRkcmVzcy5kaWFsX2NvZGUxK3RoaXMudGFza19kZXRhaWxzLmRlbGl2ZXJ5X2FkZHJlc3MubW9iaWxlbnVtDQogICAgICB9DQogICAgfSwNCiAgICByZWRpcmVjdE5hdmlnYXRpb24oKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbmF2aWdhdGlvbi8nK3RoaXMudGFza19kZXRhaWxzLmlkKQ0KICAgIH0sDQogICAgZ2V0VGFzaygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9kcml2ZXIvdGFzay1kZXRhaWwvP3Rhc2tfaWQ9Jyt0aGlzLnRhc2tfaWQsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy50YXNrX2RldGFpbHMgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHBpY2tVcCgpIHsNCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Rhc2tfaWQnLHRoaXMudGFza19pZCkNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICB0aGlzLmlzX25vdF9jbGlja19idG4gPSBmYWxzZQ0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZHJpdmVyL2NvbGxlY3QtcGlja3VwLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAncG9zdCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgICAgICBib2R5OmZvcm1kYXRhDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmdldFRhc2soKSANCiAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCdtb2RhbC1jb2QnKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG1hcmtDb21wbGV0ZWQoKSB7DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCd0YXNrX2lkJyx0aGlzLnRhc2tfaWQpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgdGhpcy5pc19ub3RfY2xpY2tfYnRuID0gZmFsc2UNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2RyaXZlci9jb21wbGV0ZS1kZWxpdmVyeS10YXNrLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAncG9zdCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgICAgICBib2R5OmZvcm1kYXRhDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmdldFRhc2soKSANCiAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCdtb2RhbC1jb2QnKQ0KICAgICAgfSkNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["task-details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task-details.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <main >\r\n      <div class=\"header-flora \">\r\n        <div class=\" d-flex align-items-center border-bottom px-4  py-3\">\r\n          <router-link to=\"/task\">\r\n            <i class=\"fas fa-angle-left text-20\"></i>\r\n          </router-link>\r\n          <p class=\"px-4 font-weight-600 m-0\">TASK DETAILS</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"body-flora\">\r\n         \r\n        <div class=\" px-4 py-3  bg-lightgray \">\r\n         \r\n          <div class=\"align-items-center \">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <h4 class=\"\">#{{task_details.order_id}}</h4>\r\n                <button class=\"btn btn-sm text-white radius-0 px-4 py-1 \" :class=\"task_details.delivery_type=='Delivery'?'btn-success':'btn-warning'\">{{task_details.delivery_type}}</button>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <h5 class=\"m-4\">DELIVERY ADDRESS</h5>\r\n        <div class=\"card m-4\" style=\"\">\r\n          <div class=\" p-3\" v-if=\"task_details.delivery_address\">\r\n            <h4 class=\"mb-3 font-weight-600\">{{task_details.delivery_address.fullname}}</h4>\r\n           \r\n            <p class=\"mb-0  text-12\">{{task_details.delivery_address.address}}</p>\r\n            <p class=\"mb-0  text-12\">{{task_details.delivery_address.landmark}}</p>\r\n            <p class=\"mb-0  text-12\">{{task_details.delivery_address.city}}</p>\r\n            <p class=\"mb-0  text-12\">{{task_details.delivery_address.pincode}}</p>\r\n\r\n            <h5 class=\"mt-3\">+{{task_details.delivery_address.dial_code1}} {{task_details.delivery_address.mobilenum}}</h5>\r\n\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex m-4\">\r\n          <button class=\"btn rose bg-white btn-lg border btn-block mr-4\" @click=\"redirectPhone()\">CALL</button>\r\n          <button class=\"btn btn-secondary btn-lg border btn-block m-0\" @click=\"redirectNavigation()\">NAVIGATE</button>\r\n        </div>\r\n        <div class=\" px-4 py-3  bg-lightgray \">\r\n          <div class=\"align-items-center \">\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <h4 class=\"text-16\">PAYMENT</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"card m-4\">\r\n          <div class=\"d-flex justify-content-between align-items-center p-3\">\r\n            <h4 class=\"font-weight-600\">{{currency.symbol}}{{task_details.total}}</h4>\r\n            <h5 class=\"text-success\" >Paid</h5>\r\n          </div>\r\n        </div>\r\n        <div class=\" px-4 py-3  bg-lightgray \">\r\n          <div class=\"align-items-center \">\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <h4 class=\"text-16\" v-if=\"task_details.delivery_type=='Delivery'\">DELIVERY</h4>\r\n              <h4 class=\"text-16\" v-else>PICKUP</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card mx-4 mt-4 mb-2\">\r\n          <div class=\"row p-3\">\r\n            <div class=\"col-4\">\r\n              <img :src=\"task_details.item_image\" width=\"70\"  >\r\n            </div>\r\n            <div class=\"col-8 pl-0\">\r\n              <h5 class=\"\">{{task_details.item_name}}</h5>\r\n              <h5 class=\"mt-2\" style=\"font-size:14px;color:gray\">QTY: x{{task_details.item_quantity}}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mx-4\" v-if=\"task_details.addons.length>0\">ADDON ITEMS</div>\r\n        <div v-else class=\"mt-3 text-center\">&nbsp;---&nbsp;  </div>\r\n        <div class=\"card mx-4 my-2\" v-for=\"addon in task_details.addons\">\r\n          <div class=\"row p-3\" v-if=\"addon.addon_item.product\">\r\n            <div class=\"col-4\">\r\n              <img :src=\"api_url+addon.addon_item.product.product_image\" width=\"70\"  >\r\n            </div>\r\n            <div class=\"col-8 pl-0\">\r\n              <h5 class=\"\">{{addon.addon_item.product.name}} <span v-if=\"addon.addon_item.variant\">({{addon.addon_item.variant.weight}})</span></h5>\r\n              <h5 class=\"mt-2\" style=\"font-size:14px;color:gray\">QTY: x{{addon.quantity}}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <b-modal id=\"modal-cod\" hide-header hide-footer>\r\n        <h5 class=\"my-3 font-weight-600\" v-if=\"task_details.delivery_type=='Delivery'\">Did you delivered?</h5>\r\n        <h5 class=\"my-3 font-weight-600\" v-else>Did you collect pickup?</h5>\r\n          <div class=\"card\">\r\n            <div class=\"row p-3\">\r\n              <div class=\"col-4\">\r\n                <img :src=\"task_details.item_image\" width=\"70\"  >\r\n              </div>\r\n              <div class=\"col-8 pl-0\">\r\n                <h5 class=\"\">{{task_details.item_name}}</h5>\r\n                <h5 class=\"mt-2\" style=\"font-size:14px;color:gray\">QTY: x{{task_details.item_quantity}}</h5>\r\n              </div>\r\n            </div>          \r\n          </div>\r\n       \r\n        <div class=\"d-flex my-4\">\r\n          <button class=\"btn green bg-white btn-lg border btn-block mr-4\" @click=\"$bvModal.hide('modal-cod')\">BACK</button>\r\n          <button class=\"btn btn-success btn-lg border btn-block m-0\" @click=\"task_details.delivery_type=='Delivery'?markCompleted():pickUp()\" v-if=\"is_not_click_btn\">YES</button>\r\n          <button type=\"button\" class=\"btn btn-success btn-lg border btn-block m-0\" v-else>YES2</button>\r\n\r\n        </div>\r\n\r\n      </b-modal>\r\n\r\n      <footer class=\"footer-login bg-lightgray align-items-center justify-content-center;\" v-if=\"task_details.is_completed\" style=\"height:60px!important\">\r\n        <h5 class=\"text-center text-success font-weight-700\" v-if=\"task_details.delivery_type=='Delivery'\">\r\n          <span v-if=\"task_details.is_courier\">SHIPPED</span>\r\n          <span v-else>DELIVERED</span>\r\n        </h5>\r\n        <h5 class=\"text-center text-success font-weight-700\" v-else>PICKED UP</h5>\r\n      </footer>\r\n\r\n      <footer class=\"footer-login u-line-top\" style=\"height:90px!important\" v-else>\r\n        <button class=\"btn btn-success btn-lg  btn-block font-weight-700\" v-b-modal.modal-cod v-if=\"is_not_click_btn\">MARK COMPLETED</button>\r\n      </footer>\r\n\r\n\r\n  </main>\r\n\r\n\r\n\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Home\"\r\n  },\r\n  data() {\r\n    return {\r\n      task_id:0,\r\n      task_details:{addons:[]},\r\n      is_not_click_btn:true,\r\n    };\r\n  },\r\n  mounted(){\r\n    this.task_id = this.$route.params.task_id\r\n    this.getTask() \r\n  },\r\n  methods: {\r\n    redirectPhone(){\r\n      if(this.task_details.delivery_address){\r\n        window.location.href='tel:'+this.task_details.delivery_address.dial_code1+this.task_details.delivery_address.mobilenum\r\n      }\r\n    },\r\n    redirectNavigation(){\r\n      this.$router.push('/navigation/'+this.task_details.id)\r\n    },\r\n    getTask() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/driver/task-detail/?task_id='+this.task_id, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.task_details = jsonData\r\n      })\r\n    },\r\n    pickUp() {\r\n      var formdata = new FormData()\r\n      formdata.append('task_id',this.task_id)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      this.is_not_click_btn = false\r\n      fetch(this.api_url+'/driver/collect-pickup/', {\r\n          method : 'post',\r\n          headers: headers,\r\n          body:formdata\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.getTask() \r\n        this.$bvModal.hide('modal-cod')\r\n      })\r\n    },\r\n    markCompleted() {\r\n      var formdata = new FormData()\r\n      formdata.append('task_id',this.task_id)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      this.is_not_click_btn = false\r\n      fetch(this.api_url+'/driver/complete-delivery-task/', {\r\n          method : 'post',\r\n          headers: headers,\r\n          body:formdata\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.getTask() \r\n        this.$bvModal.hide('modal-cod')\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n</style>\r\n"]}]}