{"remainingRequest":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/normal-procurement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/normal-procurement.vue","mtime":1678376705759},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1ldGFJbmZvOiB7DQogICAgdGl0bGU6ICJIb21lIg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBub3JtYWxzOltdLA0KICAgICAgeWVhcnM6W10sDQogICAgICBzZWxlY3RlZF95ZWFyOm51bGwsDQogICAgICB0ZW1wX25vcm1hbHM6W10sDQogICAgICBzZWFyY2hRdWVyeTpudWxsLA0KICAgICAgZmlsdGVyOntpY3M6bnVsbCxwYW5jaGF5YXRoOm51bGwsdmZjOm51bGwsY291bnQ6MH0sDQogICAgICBub3Rfc3RhcnQ6dHJ1ZSwNCiAgICAgIHN0YXR1czonJywNCiAgICAgIGJhY2tncm91bmRfc3RhcnQ6dHJ1ZSwNCiAgICAgIGxhc3RTY3JvbGxQb3NpdGlvbjogMCwNCiAgICAgIGxvYWRfbW9yZTpmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCl7DQogICAgdGhpcy5jaGVja0xvZ2luKCkNCiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibm9ybWFsX3Byb2N1cmVtbnRfZmlsdGVyIikpew0KICAgICAgdGhpcy5maWx0ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVsibm9ybWFsX3Byb2N1cmVtbnRfZmlsdGVyIl0pDQogICAgfQ0KICAgIHRoaXMuZ2V0WWVhcnMoKQ0KICAgIHZhciBzZWxmID0gdGhpcw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1haW4tYm9keTQiKVswXS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCAoKSA9PiB7DQogICAgICAgIHNlbGYuaGFuZGxlU2Nyb2xsKCkNCiAgICB9KTsgDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTY3JvbGwgKCkgew0KICAgICAgY29uc3QgY3VycmVudFNjcm9sbFBvc2l0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibWFpbi1ib2R5NCIpWzBdDQogICAgICAgICAgLnNjcm9sbFRvcA0KICAgICAgaWYgKGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA8IDApIHsNCiAgICAgICAgcmV0dXJuIDANCiAgICAgIH0NCiAgICAgIHRoaXMuYmFja2dyb3VuZF9zdGFydCA9IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA8IHRoaXMubGFzdFNjcm9sbFBvc2l0aW9uDQogICAgICB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbiA9IGN1cnJlbnRTY3JvbGxQb3NpdGlvbg0KICAgIH0sDQogICAgcmVzdWx0UXVlcnkoKXsNCiAgICAgIGlmKHRoaXMuc2VhcmNoUXVlcnkpew0KICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5ub3JtYWxzLmZpbHRlcigoaXRlbSk9PnsNCiAgICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZXZlcnkodiA9PiBpdGVtLnJhd19udW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2KSkNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5ub3JtYWxzID0gc2VhcmNoDQogICAgICAgIHRoaXMubG9hZF9tb3JlID0gZmFsc2UNCiAgICAgIH1lbHNlew0KICAgICAgICBpZih0aGlzLnRlbXBfbm9ybWFscy5sZW5ndGg+PTQwKXRoaXMubG9hZF9tb3JlPXRydWU7DQogICAgICAgIHRoaXMubm9ybWFscyA9IHRoaXMudGVtcF9ub3JtYWxzDQogICAgICB9DQogICAgfSwNCiAgICBnZXRZZWFycygpIHsNCiAgICAgIHRoaXMucGFnZSA9IDA7DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdmcG8nLHRoaXMuJHJvb3QudXNlckluZm8uZnBvKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLmljcylmb3JtZGF0YS5hcHBlbmQoJ2ljcycsdGhpcy5maWx0ZXIuaWNzKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLnBhbmNoYXlhdGgpZm9ybWRhdGEuYXBwZW5kKCdwYW5jaGF5YXRoJyx0aGlzLmZpbHRlci5wYW5jaGF5YXRoKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLnZmYylmb3JtZGF0YS5hcHBlbmQoJ3ZmYycsdGhpcy5maWx0ZXIudmZjKTsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvYWVvX2FwcF95ZWFycy8/eWVhcl9mb3I9bm9ybWFsJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdQT1NUJywNCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMueWVhcnMgPSBqc29uRGF0YQ0KICAgICAgICBpZihqc29uRGF0YS5sZW5ndGg+MCAmJiAhdGhpcy5zZWxlY3RlZF95ZWFyKXsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkX3llYXIgPSBqc29uRGF0YVswXS55ZWFyDQogICAgICAgIH1lbHNlIGlmKCF0aGlzLnNlbGVjdGVkX3llYXIpew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfeWVhciA9IHRoaXMudGhpc195ZWFyDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5maWx0ZXJEYXRhKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZWxlY3RGaWx0ZXIoKXsNCiAgICAgIHRoaXMucGFnZSA9IDA7DQogICAgICB0aGlzLmdldFR5cGVzKCkNCiAgICAgIHRoaXMuZ2V0SWNzKCkNCiAgICAgIGlmKHRoaXMuZmlsdGVyLmljcyl7DQogICAgICAgIHRoaXMuY2hhbmdlSUNTKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGNhbmNlbEZpbHRlcigpew0KICAgICAgdGhpcy5ub3JtYWxzID0gW10NCiAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnZmlsdGVyLWRhdGEnKTsNCiAgICAgIHRoaXMuZmlsdGVyPXtpY3M6bnVsbCxwYW5jaGF5YXRoOm51bGwsdmZjOm51bGwsY291bnQ6MH0NCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJub3JtYWxfcHJvY3VyZW1udF9maWx0ZXIiKTsNCiAgICAgIHRoaXMuZ2V0WWVhcnMoKTsNCiAgICB9LA0KICAgIGNhbGNGaWx0ZXJDb3VudCgpew0KICAgICAgdmFyIGNvdW50ID0gMA0KICAgICAgaWYodGhpcy5maWx0ZXIuaWNzKXsNCiAgICAgICAgY291bnQrKw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5maWx0ZXIucGFuY2hheWF0aCl7DQogICAgICAgIGNvdW50KysNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuZmlsdGVyLnZmYyl7DQogICAgICAgIGNvdW50KysNCiAgICAgIH0NCiAgICAgIHRoaXMuZmlsdGVyLmNvdW50ID0gY291bnQNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJub3JtYWxfcHJvY3VyZW1udF9maWx0ZXIiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbHRlcikpOw0KICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCdmaWx0ZXItZGF0YScpDQogICAgfSwNCiAgICBmaWx0ZXJEYXRhKCkgew0KICAgICAgdGhpcy5wYWdlKys7DQogICAgICB0aGlzLm5vdF9zdGFydCA9IHRydWUNCiAgICAgIHRoaXMuY2FsY0ZpbHRlckNvdW50KCkNCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ2ZwbycsdGhpcy4kcm9vdC51c2VySW5mby5mcG8pOw0KICAgICAgaWYodGhpcy5maWx0ZXIuaWNzKWZvcm1kYXRhLmFwcGVuZCgnaWNzJyx0aGlzLmZpbHRlci5pY3MpOw0KICAgICAgaWYodGhpcy5maWx0ZXIucGFuY2hheWF0aClmb3JtZGF0YS5hcHBlbmQoJ3BhbmNoYXlhdGgnLHRoaXMuZmlsdGVyLnBhbmNoYXlhdGgpOw0KICAgICAgaWYodGhpcy5maWx0ZXIudmZjKWZvcm1kYXRhLmFwcGVuZCgndmZjJyx0aGlzLmZpbHRlci52ZmMpOw0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9ub3JtYWxfcHJvY3VyZWQvP3BhZ2U9Jyt0aGlzLnBhZ2UrJyZ5ZWFyPScrdGhpcy5zZWxlY3RlZF95ZWFyLCB7DQogICAgICAgICAgbWV0aG9kIDogJ3Bvc3QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5ub3Rfc3RhcnQgPSBmYWxzZQ0KICAgICAgICBpZih0aGlzLnBhZ2U9PTEpew0KICAgICAgICAgIHRoaXMubm9ybWFscz1qc29uRGF0YQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLm5vcm1hbHMucHVzaC5hcHBseSh0aGlzLm5vcm1hbHMsanNvbkRhdGEpDQogICAgICAgIH0NCiAgICAgICAgaWYoanNvbkRhdGEubGVuZ3RoPj00MCl7DQogICAgICAgICAgdGhpcy5sb2FkX21vcmU9dHJ1ZQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLmxvYWRfbW9yZT1mYWxzZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMudGVtcF9ub3JtYWxzID0gdGhpcy5ub3JtYWxzDQogICAgICAgIGlmKHRoaXMubm9ybWFscy5sZW5ndGg8PTApew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdObyBkYXRhIGZvdW5kIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["normal-procurement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"normal-procurement.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\" :class=\"background_start?'':'biowin-scroll'\">\r\n    <main >\r\n   \r\n      <div class=\"header-bio\">\r\n        <div class=\"container d-flex justify-content-between align-items-center px-4\">\r\n          <div class=\"d-flex\">\r\n            <router-link tag=\"a\" class to=\"/\"><img src=\"/images/left-arrow.png\" width=\"10\"></router-link>\r\n            <h4 class=\"font-weight-700 px-3\"> Normal Procurement</h4>\r\n          </div>\r\n          <router-link tag=\"a\" class to=\"/normal-procurement/create\">\r\n            <div class=\"add-btn\">\r\n              <img src=\"/images/plus.png\">\r\n              <h6 class=\"text-16 add-btn-text ml-2\">Add</h6>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"\" v-if=\"not_start\">\r\n        <div class=\"loading\" style=\"z-index:999999999999999\"></div>\r\n      </div>\r\n\r\n      <div class=\"main-body4 py-2\" :style=\"not_start?'opacity:0.5':''\">\r\n        \r\n        <div class=\"mx-0 row\">\r\n          <div class=\"col-6 pr-1\">\r\n           <b-form-select v-model=\"selected_year\" @change=\"getYears()\" autocomplete=\"off\">\r\n            <b-form-select-option v-for=\"year in years\" :value=\"year.year\">{{year.year}} ({{year.count}})</b-form-select-option>\r\n          </b-form-select>\r\n          </div>\r\n          <div class=\"col-6 pl-1\">\r\n            <b-form-select v-model=\"status\">\r\n              <b-form-select-option value=''>Status</b-form-select-option>\r\n              <b-form-select-option v-for=\"status in ['Collecting','On the Way','Reached Factory','Qc Approved','Qc Rejected','Lots Created','Processing','Completed']\" :value=\"status\">{{status}}</b-form-select-option>\r\n            </b-form-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"my-1 flex-align px-3\" style=\"gap:10px;\">\r\n          <div  class=\"input-group mb-2 input-group-lg\">\r\n            <div  class=\"input-group-prepend\">\r\n              <div  class=\"input-group-text\"><img src=\"/images/search.png\" width=\"25\"></div>\r\n            </div>\r\n            <input  type=\"text\" class=\"form-control\" autocomplete=\"off\" placeholder=\"Search\"  v-model=\"searchQuery\" @keyup=\"resultQuery()\" style=\"border-left:0;\">\r\n          </div>\r\n          <b-modal id=\"filter-data\" title=\"Filter\" hide-footer>\r\n            <div>\r\n              <form ref=\"filterData\" @submit.prevent=\"getYears()\">\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">ICS\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.ics\" name=\"ics\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\" @change=\"changeICS()\">\r\n                    <b-form-select-option v-for=\"ics in all_ics\" :value=\"ics.id\" v-if=\"ics.type==$root.userInfo.fpo\">{{ics.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">Panchayath\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.panchayath\" name=\"panchayath\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\">\r\n                    <b-form-select-option v-for=\"panchayath in all_panchayaths\" :value=\"panchayath.id\">{{panchayath.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">VFC\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.vfc\" name=\"vfc\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\">\r\n                    <b-form-select-option v-for=\"vfc in all_vfc\" :value=\"vfc.id\" v-if=\"vfc.location.revenue_village_detail.panchayath  == filter.panchayath\">{{vfc.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <hr>\r\n                <div class=\"filter-item flex-align\">\r\n                  <b-button type=\"button\" variant=\"outline-info\" class=\"w-100 px-3 py-1 ml-1 mr-2\" @click=\"cancelFilter()\">Cancel</b-button>\r\n                  <b-button @click=\"normals=[]\" type=\"submit\" variant=\"success\" class=\"w-100 px-3 py-1 mr-1 ml-2\">Submit</b-button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </b-modal>\r\n        </div>\r\n        <div class=\"hr-min m-0\"></div>\r\n        <div class=\"my-3 px-3\" style=\"display: flex;flex-direction: column;gap: 16px;\">\r\n          <div v-for=\"normal in normals\" v-show=\"status=='' || status==normal.status\">\r\n            <router-link :to=\"'/normal-procurement-detail/'+normal.id\">\r\n              <div class=\" borderless-card\">\r\n                <div class=\"d-flex justify-content-between align-items-center  px-0 py-1\">\r\n                  <h4 class=\"font-weight-700\">\r\n                    {{normal.category}}/{{normal.product}}/{{normal.product_type}}\r\n                    <span class=\"badge badge-success\" v-if=\"normal.farmer_status=='Organic'\">ORG</span>\r\n                  </h4>\r\n                  <h4 class=\"font-weight-700 px-4  \" style=\"margin-right:-22px;white-space:nowrap;\">{{dateFormate(normal.created_on)}}</h4>\r\n                </div>\r\n                <div class=\"hr-min\"></div>\r\n                <div class=\"d-flex justify-content-between px-0 py-1 \">\r\n                  <h6 class=\" font-weight-500 text-light\">Total Farmers: <b class=\"text-dark\">{{normal.total_farmers}}</b></h6>\r\n                  <h6 class=\"m-0 font-weight-500  badge-secondary badge\">Quantity :<b>{{normal.total_procured_qty}}KG</b></h6>\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-between align-items-center  px-0 py-1\">\r\n                  <h6 class=\" font-weight-500 text-light\">Vehicle: <b>{{normal.vehicle_detail.vehicle_type}}</b>/ {{normal.vehicle_detail.name}}</h6>\r\n                  <h6 class=\"m-0 font-weight-700 pl-2 text-light \">{{normal.vehicle_detail.vehicle_number}}</h6>\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-between px-0 py-1 \">\r\n                  <h6 class=\" font-weight-500 text-info\">{{normal.raw_number}}  </h6>\r\n                  <h6 class=\"m-0 font-weight-700 pl-2 badge\" :class=\"normal.status=='Collecting'?'badge-warning':normal.status=='On the Way'?'badge-info':normal.status=='Qc Rejected'?'badge-danger':'badge-success'\">{{normal.status}}</h6>\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n            \r\n          </div>\r\n        </div>      \r\n        <div class=\"\">\r\n          <h4 class=\"font-weight-700 my-2 pl-2 text-green text-center\" @click=\"filterData()\" v-if=\"load_more\">Load More</h4>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filter-footer\">\r\n        <div class=\"footer-item2 d-flex align-items-center\" @click=\"$router.push('/')\">\r\n          <img src=\"/images/home.png\" class=\"\" width=\"25\">\r\n          <h5 class=\"m-0 pl-2 text-white\">Home</h5>\r\n        </div>\r\n        <div class=\"footer-item2 filter-icon d-flex align-items-center\">\r\n          <img src=\"/images/settings.png\" class=\"\" width=\"25\" @click=\"selectFilter()\" v-b-modal.filter-data>\r\n          <div class=\"filter-number\" v-if=\"filter.count>0\">{{filter.count}}</div>\r\n          <h5 class=\"m-0 pl-2 text-white\">Filter</h5>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Home\"\r\n  },\r\n  data() {\r\n    return {\r\n      normals:[],\r\n      years:[],\r\n      selected_year:null,\r\n      temp_normals:[],\r\n      searchQuery:null,\r\n      filter:{ics:null,panchayath:null,vfc:null,count:0},\r\n      not_start:true,\r\n      status:'',\r\n      background_start:true,\r\n      lastScrollPosition: 0,\r\n      load_more:false,\r\n    };\r\n  },\r\n  mounted(){\r\n    this.checkLogin()\r\n    if(localStorage.getItem(\"normal_procuremnt_filter\")){\r\n      this.filter = JSON.parse(localStorage[\"normal_procuremnt_filter\"])\r\n    }\r\n    this.getYears()\r\n    var self = this\r\n    document.getElementsByClassName(\"main-body4\")[0].addEventListener(\"scroll\", () => {\r\n        self.handleScroll()\r\n    }); \r\n  },\r\n  methods: {\r\n    handleScroll () {\r\n      const currentScrollPosition = document.getElementsByClassName(\"main-body4\")[0]\r\n          .scrollTop\r\n      if (currentScrollPosition < 0) {\r\n        return 0\r\n      }\r\n      this.background_start = currentScrollPosition < this.lastScrollPosition\r\n      this.lastScrollPosition = currentScrollPosition\r\n    },\r\n    resultQuery(){\r\n      if(this.searchQuery){\r\n        var search = this.normals.filter((item)=>{\r\n          return this.searchQuery.toLowerCase().split(' ').every(v => item.raw_number.toLowerCase().includes(v))\r\n        })\r\n        this.normals = search\r\n        this.load_more = false\r\n      }else{\r\n        if(this.temp_normals.length>=40)this.load_more=true;\r\n        this.normals = this.temp_normals\r\n      }\r\n    },\r\n    getYears() {\r\n      this.page = 0;\r\n      var formdata = new FormData()\r\n      formdata.append('fpo',this.$root.userInfo.fpo);\r\n      if(this.filter.ics)formdata.append('ics',this.filter.ics);\r\n      if(this.filter.panchayath)formdata.append('panchayath',this.filter.panchayath);\r\n      if(this.filter.vfc)formdata.append('vfc',this.filter.vfc);\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/aeo_app_years/?year_for=normal', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.years = jsonData\r\n        if(jsonData.length>0 && !this.selected_year){\r\n          this.selected_year = jsonData[0].year\r\n        }else if(!this.selected_year){\r\n          this.selected_year = this.this_year\r\n        }\r\n        this.filterData()\r\n      })\r\n    },\r\n    selectFilter(){\r\n      this.page = 0;\r\n      this.getTypes()\r\n      this.getIcs()\r\n      if(this.filter.ics){\r\n        this.changeICS()\r\n      }\r\n    },\r\n    cancelFilter(){\r\n      this.normals = []\r\n      this.$bvModal.hide('filter-data');\r\n      this.filter={ics:null,panchayath:null,vfc:null,count:0}\r\n      localStorage.removeItem(\"normal_procuremnt_filter\");\r\n      this.getYears();\r\n    },\r\n    calcFilterCount(){\r\n      var count = 0\r\n      if(this.filter.ics){\r\n        count++\r\n      }\r\n      if(this.filter.panchayath){\r\n        count++\r\n      }\r\n      if(this.filter.vfc){\r\n        count++\r\n      }\r\n      this.filter.count = count\r\n      localStorage.setItem(\"normal_procuremnt_filter\", JSON.stringify(this.filter));\r\n      this.$bvModal.hide('filter-data')\r\n    },\r\n    filterData() {\r\n      this.page++;\r\n      this.not_start = true\r\n      this.calcFilterCount()\r\n      var formdata = new FormData()\r\n      formdata.append('fpo',this.$root.userInfo.fpo);\r\n      if(this.filter.ics)formdata.append('ics',this.filter.ics);\r\n      if(this.filter.panchayath)formdata.append('panchayath',this.filter.panchayath);\r\n      if(this.filter.vfc)formdata.append('vfc',this.filter.vfc);\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/normal_procured/?page='+this.page+'&year='+this.selected_year, {\r\n          method : 'post',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.not_start = false\r\n        if(this.page==1){\r\n          this.normals=jsonData\r\n        }else{\r\n          this.normals.push.apply(this.normals,jsonData)\r\n        }\r\n        if(jsonData.length>=40){\r\n          this.load_more=true\r\n        }else{\r\n          this.load_more=false\r\n        }\r\n        this.temp_normals = this.normals\r\n        if(this.normals.length<=0){\r\n          this.showAlert('No data found!')\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n</style>\r\n"]}]}