{"remainingRequest":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/task-tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/task-tags.vue","mtime":1676525982000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1ldGFJbmZvOiB7DQogICANCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFnczpbXSwNCiAgICAgIGN1cnJlbnRfdGFnOnt9LA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy4kcm9vdC5jdXJyZW50X3NlY3Rpb24gPSAndGFzaycNCiAgICB0aGlzLmdldFRhZ3MoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0VGFncygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza190YWdzLz9tYWluX3RhZz10cnVlJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLnRhZ3MgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRhdGFGb3JtKHRhZz17aWQ6bnVsbH0pIHsNCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKQ0KICAgICAgaWYodGFnLmlkKXsNCiAgICAgICAgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFGb3JtJyt0YWcuaWQpKQ0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ21haW5fdGFnJywgdGFnLmlkKQ0KICAgICAgfQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGF0dXMnLDEpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3Rhc2tfdGFncy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5nZXRUYWdzKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnQWRkZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZVRhZyh0YWcsIGNvbmZpcm09dHJ1ZSkgew0KICAgICAgaWYoY29uZmlybSl7DQogICAgICAgIHRoaXMuJHN3YWwoew0KICAgICAgICAgIHRpdGxlOiAiRGVsZXRlIFRhZyIsDQogICAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZT8nLA0KICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcyIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vIiwNCiAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuZGVsZXRlVGFnKHRhZyxmYWxzZSkNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza190YWdzLycrdGFnLmlkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdERUxFVEUnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdSZW1vdmVkIScsICdyZWQnKQ0KICAgICAgICB0aGlzLmdldFRhZ3MoKQ0KICAgICAgfSkNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["task-tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task-tags.vue","sourceRoot":"src/views/app/oodo/task","sourcesContent":["<template>\r\n  <div class=\"main-content main-content2 task-sec task-tag\">\r\n    <div>\r\n      <div class=\"d-flex mb-2 align-items-center justify-content-between\">\r\n        <slot name=\"header\">\r\n          <div>\r\n           <h5 class=\"mb-0\">Task <span class=\"text-success\">/Tags</span></h5>\r\n          </div>\r\n        </slot>\r\n        <div style=\"margin-top:-10px\">\r\n          <b-card body-class=\"p-0\"> \r\n            <form  ref=\"dataForm\" @submit.prevent=\"dataForm()\" class=\"\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <b class=\"pl-2 d-flex align-items-center cursor-pointer w-100\" @click=\"$refs.tag_input.focus()\">\r\n                  <i class=\"fa fa-tags mx-1 text-primary\" style=\"font-size:18px\"></i>\r\n                  <div>\r\n                    <input name=\"name\" v-model=\"current_tag.name\" placeholder=\"Add a tag\" class=\"style-input \" ref=\"tag_input\" required>\r\n                  </div>\r\n                  <div class=\"d-flex align-items-center border-left pl-3\">\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 style-input-color\" value=\"#43da86\">\r\n                    <label class=\"mb-0 text-info pl-2\">Pick a Color</label>\r\n                  </div>\r\n                </b>\r\n                <div class=\"todo-add px-3 py-2\">\r\n                  <button class=\"btn\" type=\"submit\">+ Add</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n      <div class=\"separator-breadcrumb border-top\"></div>\r\n    </div>\r\n\r\n    <!-- contents -->\r\n    <b-row class=\"\" style=\"margin-top:-20px;\">\r\n      <b-col lg=\"12\" xl=\"12\">\r\n        <div class=\"mb-2\">\r\n          <div class=\"my-2 row\">\r\n            <div class=\"col-md-2 pr-0\" v-for=\"tag in tags\">\r\n              <div class=\"card p-2\">\r\n                <div class=\"d-flex mt-1\">\r\n                  <button class=\"btn btn-tag w-100\" style=\"padding: 5px!important\" :style=\"'background-color:'+tag.color+'!important;color:'+bgToTextColor(tag.color)\">\r\n                    {{tag.name}}\r\n                  </button>\r\n                  <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(tag)\"></i>\r\n                </div>\r\n                <hr class=\"my-2\">\r\n                <div class=\"sub_tags mx-2\">\r\n                  <div class=\"d-flex\" v-for=\"sub_tag in tag.sub_tags\">\r\n                    <button class=\"btn btn-tag mb-1 w-100\" :style=\"'background-color:'+sub_tag.color+'!important;color:'+bgToTextColor(sub_tag.color)\">\r\n                      {{sub_tag.name}}\r\n                    </button>\r\n                    <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(sub_tag)\"></i>\r\n                  </div>\r\n                </div>\r\n                <hr class=\"my-1\">\r\n                <form :id=\"'dataForm'+tag.id\" @submit.prevent=\"dataForm(tag)\" class=\"card p-2\">\r\n                  <div class=\"d-flex \">\r\n                    <i class=\"fa fa-tags ml-1 text-primary\" style=\"padding-top:6px\"></i>\r\n                    <input name=\"name\" placeholder=\"Add sub tag\" class=\"w-100 border-0\" required>\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 p-0\" style=\"appearance: none;background-color: transparent;border: none;\" value=\"#43da86\">\r\n                    <button type=\"submit\" class=\"btn btn-tag w-50 m-1\" style=\"background-color:#303e70!important;color:#fff\">\r\n                      Add\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n  </div>  \r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n   \r\n  },\r\n  data() {\r\n    return {\r\n      tags:[],\r\n      current_tag:{},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$root.current_section = 'task'\r\n    this.getTags()\r\n  },\r\n  methods: {\r\n    getTags() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/?main_tag=true', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.tags = jsonData\r\n      })\r\n    },\r\n    dataForm(tag={id:null}) {\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      if(tag.id){\r\n        formdata = new FormData(document.getElementById('dataForm'+tag.id))\r\n        formdata.append('main_tag', tag.id)\r\n      }\r\n      formdata.append('status',1)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.id>0){\r\n          this.getTags()\r\n          this.showAlert('Added Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!')\r\n        }\r\n      })\r\n    },\r\n    deleteTag(tag, confirm=true) {\r\n      if(confirm){\r\n        this.$swal({\r\n          title: \"Delete Tag\",\r\n          text: 'Are you sure?',\r\n          showCancelButton: true,\r\n          confirmButtonColor: \"#3085d6\",\r\n          cancelButtonColor: \"#d33\",\r\n          confirmButtonText: \"Yes\",\r\n          cancelButtonText: \"No\",\r\n        }).then(result => {\r\n          if (result.value) {\r\n            this.deleteTag(tag,false)\r\n          }\r\n        });\r\n        return false\r\n      }\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/'+tag.id+'/', {\r\n          method : 'DELETE',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n        this.showAlert('Removed!', 'red')\r\n        this.getTags()\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n  @import '../styles/style.css';\r\n</style>"]}]}