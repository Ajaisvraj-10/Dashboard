{"remainingRequest":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/production/process/processing-packing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/production/process/processing-packing.vue","mtime":1676396276000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUHJvZHVjdEZpZWxkcyBmcm9tICcvc3JjL3ZpZXdzL2FwcC9vb2RvL2NvbXBvbmVudHMvcHJvZHVjdF9maWVsZHMnDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbJ3Byb2Nlc3NfZGV0YWlsX2lkJywnc3RhcnRfcHJvY2Vzc19pZCcsJ3Byb2Nlc3NpbmdfaWQnLCdhY3Rpb24nLCdpc192aWV3J10sDQogIGNvbXBvbmVudHM6ew0KICAgIFByb2R1Y3RGaWVsZHMNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybV9kYXRhOnsNCiAgICAgICAgaWQ6bnVsbCwNCiAgICAgICAgZGF0ZTpudWxsLA0KICAgICAgICBwcm9kdWN0Om51bGwsDQogICAgICAgIHN0YXR1czonRHJhZnQnLA0KICAgICAgICBzaGlmdDonREFZJywNCiAgICAgICAgd29ya2VyczpbXSwNCiAgICAgICAgd2FnZV93b3JrZXJzOltdLA0KICAgICAgICB3b3JrX3R5cGU6J3dhZ2VzJywNCiAgICAgICAgb3ZlcnRpbWVfaG91cnNlX3N0MToyLA0KICAgICAgICBtYWNoaW5lczpbXSwNCiAgICAgICAgc3RhcnRfcHJvY2Vzc19kZXRhaWw6e3Byb2Nlc3NfcHJvZHVjdHNfbGlzdDpbXSxtYWluX3Byb2Nlc3NfZGV0YWlsOnt9LGZpcmV3b29kX2RldGFpbHM6e30sZHJ5ZXJfZGV0YWlsczp7fSwgYXR0cmlidXQ6bnVsbCwgYXR0cmlidXRlX2RldGFpbDp7fX0sDQogICAgICAgIG90aGVyX2xvdHM6W10sDQogICAgICAgIGxvdDpudWxsLA0KICAgICAgICBpc19vcmdhbmljOmZhbHNlLA0KICAgICAgICBwcm9jZXNzX291dHB1dHM6W10sDQogICAgICAgIGJhcnJlbF9zdG9ja3M6W10sDQogICAgICAgIG5leHRfcHJvY2VzczpudWxsLA0KICAgICAgICBjb25zdW1hYmxlX2l0ZW1zX2xpc3Q6W10sDQogICAgICAgIHVubG9hZGluZzp7DQogICAgICAgICAgd29ya2VyczpbXSwNCiAgICAgICAgICB3YWdlX3dvcmtlcnM6W10sDQogICAgICAgICAgd29ya190eXBlOid3YWdlcycsDQogICAgICAgICAgb3ZlcnRpbWVfaG91cnNlX3N0MToyLA0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICAgIHByb2Nlc3NfZGV0YWlsOntvdXRwdXRzOltdLGNvbnN1bWFibGVfaXRlbXNfbGlzdDpbXSxpbnB1dHM6W119LA0KICAgICAgcGFja2luZ19tYXRlcmlhbHM6W10sDQogICAgICBpbmRlbnRfcGFja2luZ3M6W10sDQogICAgICBiYXJyZWxfaWQ6bnVsbCwNCiAgICAgIGlkOm51bGwsDQogICAgICBwcm9kdWN0X25hbWUgOiAnJywNCiAgICAgIHRvdGFsX3dlaWdodDowLA0KICAgICAgdG90YWxfb3V0cHV0OjAsDQogICAgICB3b3JrZXJzOltdLA0KICAgICAgbmV4dF9wcm9jZXNzZXM6W10sDQogICAgICBzdG9ja19wYXJhbWV0ZXJzOltdLA0KICAgICAgaXNfc3RhcnQ6ZmFsc2UsDQogICAgICBmaWx0ZXJfbWF0ZXJpYWw6e3NwZWNpZmljYXRpb25zOltdfSwNCiAgICAgIG1hdGVyaWFsczpbXSwNCiAgICAgIHNwZWNpZmljYXRpb25zOltdLA0KICAgICAgYm9pbGVyczpbXSwNCiAgICAgIHBhY2tpbmdfbm90ZTonJywNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZm9ybV9kYXRhLmRhdGUgPSB0aGlzLmN1cnJlbnREYXRlKCkNCiAgICBpZih0aGlzLnByb2Nlc3NpbmdfaWQpew0KICAgICAgdGhpcy5nZXRQcm9jZXNzKCkNCiAgICB9ZWxzZXsNCiAgICAgIHRoaXMuZ2V0UHJvY2Vzc0RldGFpbHMoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFByb2Nlc3MoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzaW5nLycrdGhpcy5wcm9jZXNzaW5nX2lkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmZvcm1fZGF0YSA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZ2V0UGFja2luZ01hdGVyaWFscygpDQogICAgICAgIGlmKHRoaXMuYWN0aW9uPT0naW5kZW50X3BhY2tpbmcnKXsNCiAgICAgICAgICB0aGlzLmdldEluZGVudHMoKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZ2V0UHJvY2Vzc0RldGFpbHMoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFByb2Nlc3NEZXRhaWxzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc19kZXRhaWxzLycrdGhpcy5wcm9jZXNzX2RldGFpbF9pZCsnLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5wcm9jZXNzX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZm9ybV9kYXRhLm1hY2hpbmVzID0ganNvbkRhdGEubWFjaGluZXMNCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgIGlmKCF0aGlzLmZvcm1fZGF0YS5jb250cmFjdF9sYWJvdXJfY2hhcmdlKXsNCiAgICAgICAgICB0aGlzLmZvcm1fZGF0YS5jb250cmFjdF9sYWJvdXJfY2hhcmdlID0ganNvbkRhdGEucHJvZHVjdGlvbl9wcm9jZXNzX2RldGFpbC5sYWJvdXJfY2hhcmdlDQogICAgICAgIH0NCiAgICAgICAgaWYodGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzLmxlbmd0aDw9MCl7DQogICAgICAgICAgdGhpcy5nZXRQYXJhbWV0ZXJzKCkNCiAgICAgICAgfQ0KICAgICAgICAvLyBpZih0aGlzLmZvcm1fZGF0YS5wcm9jZXNzX291dHB1dHMubGVuZ3RoPjAgJiYgdGhpcy5mb3JtX2RhdGEuZGlyZWN0X3BhY2tpbmdfaWRzLmxlbmd0aDw9MCAmJiB0aGlzLmFjdGlvbj09J2RpcmVjdF9wYWNraW5nJyl7DQogICAgICAgIC8vICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgIC8vICAgdGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgIC8vICAgICBzZWxmLnBhY2tpbmdfbWF0ZXJpYWxzLnB1c2guYXBwbHkoc2VsZi5wYWNraW5nX21hdGVyaWFscyxzZWxmLmZvcm1fZGF0YS5wcm9jZXNzX291dHB1dHNba2V5XS5wYWNraW5nX21hdGVyaWFscykNCiAgICAgICAgLy8gICAgIHNlbGYuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0c1trZXldLnBhY2tpbmdfbWF0ZXJpYWxzID0gc2VsZi5wYWNraW5nX21hdGVyaWFscw0KICAgICAgICAvLyAgIH0pDQogICAgICAgIC8vICAgdGhpcy5zZXRQYWNraW5nTWF0ZXJpYWxGaWx0ZXIoKQ0KICAgICAgICAvLyB9DQogICAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLmNvbnN1bWFibGVfaXRlbXNfbGlzdC5sZW5ndGg8PTApew0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLmNvbnN1bWFibGVfaXRlbXNfbGlzdCA9IGpzb25EYXRhLmNvbnN1bWFibGVfaXRlbXNfbGlzdA0KICAgICAgICB9DQogICAgICAgIGlmKGpzb25EYXRhLmhhdmVfYmFycmVsICYmIHRoaXMuZm9ybV9kYXRhLmJhcnJlbF9zdG9ja3MubGVuZ3RoPD0wKXsNCiAgICAgICAgICB0aGlzLmdldEJhcnJlbHMoKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZ2V0U3RhcnRQcm9jZXNzKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRTdGFydFByb2Nlc3MoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9zdGFydF9wcm9jZXNzLycrdGhpcy5zdGFydF9wcm9jZXNzX2lkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgIHZhciBsYXN0X3Byb2Nlc3NfaWQgPSBudWxsIA0KICAgICAgICBqc29uRGF0YS5wcm9jZXNzZXMuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgICBsYXN0X3Byb2Nlc3NfaWQgPSB2YWwuaWQNCiAgICAgICAgfSkNCiAgICAgICAgdmFyIGxvdHMgPSBbXTsNCiAgICAgICAgdmFyIGxvdCA9IG51bGw7DQogICAgICAgIHZhciB0b3RhbCA9IDA7DQogICAgICAgIHZhciBpc19vcmdhbmljID0gdHJ1ZQ0KICAgICAgICBqc29uRGF0YS5wcm9jZXNzX3Byb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAgaWYoIXZhbC5pc19vcmdhbmljKXsNCiAgICAgICAgICAgIGlzX29yZ2FuaWMgPSBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZihrZXk9PTApbG90PXZhbC5sb3QNCiAgICAgICAgICBsb3RzLnB1c2godmFsLmxvdCkNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy50b3RhbF93ZWlnaHQgPSBqc29uRGF0YS50b3RhbF93ZWlnaHQNCiAgICAgICAgdGhpcy5mb3JtX2RhdGEubG90ID0gbG90DQogICAgICAgIHRoaXMuZm9ybV9kYXRhLm90aGVyX2xvdHMgPSBsb3RzDQogICAgICAgIHRoaXMuZm9ybV9kYXRhLmlzX29yZ2FuaWMgPSBpc19vcmdhbmljDQogICAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cy5sZW5ndGg+MCl7DQogICAgICAgICAgdGhpcy5jYWxjdWxhdGVRdHkoKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuaXNfc3RhcnQgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0QmFycmVscygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0L2JhcnJlbC8/cHJvZHVjdD0nK3RoaXMuZm9ybV9kYXRhLnByb2R1Y3QsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgIGpzb25EYXRhLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAganNvbkRhdGFba2V5XVsncXVhbnRpdHknXSA9IDANCiAgICAgICAgICBqc29uRGF0YVtrZXldWydxdWFudGl0eV9wZXJzZW50YWdlJ10gPSAwDQogICAgICAgICAganNvbkRhdGFba2V5XVsnY29uc3VtYWJsZV9pdGVtc19saXN0J10gPSBzZWxmLmZvcm1fZGF0YS5jb25zdW1hYmxlX2l0ZW1zX2xpc3QNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5mb3JtX2RhdGEuYmFycmVsX3N0b2NrcyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0UGFyYW1ldGVycygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0L3BhcmFtZXRlcnMvP291dHB1dHM9Jyt0aGlzLnByb2Nlc3NfZGV0YWlsLm91dHB1dHMrJyZzdGFydF9wcm9jZXNzPScrdGhpcy5zdGFydF9wcm9jZXNzX2lkLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGpzb25EYXRhLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAganNvbkRhdGFba2V5XS5wYXJhbWV0ZXIgPSB2YWwuaWQNCiAgICAgICAgICBqc29uRGF0YVtrZXldLnBhcmFtZXRlcl9kZXRhaWwgPSB2YWwNCiAgICAgICAgICBqc29uRGF0YVtrZXldLnF1YW50aXR5ID0gMA0KICAgICAgICAgIGpzb25EYXRhW2tleV0ucXVhbnRpdHlfcGVyc2VudGFnZSA9ICcwJScNCiAgICAgICAgICBqc29uRGF0YVtrZXldWydkaXJlY3RfcGFja2luZ19pZHMnXSA9IFtdDQogICAgICAgICAganNvbkRhdGFba2V5XVsnaW5kZW50X3BhY2tpbmdfaWRzJ10gPSBbXQ0KICAgICAgICAgIGpzb25EYXRhW2tleV1bJ3BhY2tpbmdfaWRzJ10gPSBbXQ0KICAgICAgICAgIGpzb25EYXRhW2tleV1bJ3BhY2tpbmdfbWF0ZXJpYWxzJ10gPSBbXQ0KICAgICAgICAgIGpzb25EYXRhW2tleV1bJ2luZGVudF9pZHMnXSA9IFtdDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cyA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuc2V0UGFja2luZ01hdGVyaWFsRmlsdGVyKCkNCiAgICAgICAgdGhpcy5jYWxjdWxhdGVRdHkoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNhbGN1bGF0ZVF0eSgpew0KICAgICAgdmFyIHNlbGY9dGhpczsNCiAgICAgIHZhciB0b3RhbCA9IDA7DQogICAgICB0aGlzLmZvcm1fZGF0YS5wcm9jZXNzX291dHB1dHMuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgaWYodmFsLnBhcmFtZXRlcl90eXBlPT0nc2VtaV9maW5pc2hlZF9wcm9kdWN0JyB8fCB2YWwucGFyYW1ldGVyX3R5cGU9PSdmdWxsX2ZpbmlzaGVkX3Byb2R1Y3QnIHx8IHZhbC5wYXJhbWV0ZXJfdHlwZT09J21haW5fcHJvZHVjdCcpew0KICAgICAgICAgIHRvdGFsID0gdG90YWwrcGFyc2VGbG9hdCh2YWwucXVhbnRpdHkpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICB0aGlzLnRvdGFsX3dlaWdodCA9IHRvdGFsK3RoaXMudG90YWxfd2VpZ2h0DQogICAgICB0aGlzLnRvdGFsX291dHB1dCA9IHRvdGFsDQogICAgfSwNCiAgICBjYWxjdWxhdGlvbihwYXJhbWV0ZXIsYmFycmVsPXtpZDpudWxsfSl7DQogICAgICB2YXIgc2VsZj10aGlzOw0KICAgICAgdmFyIHRvdGFsID0gMDsNCiAgICAgIHZhciBwcm9jZXNzX291dHB1dHMgPSB0aGlzLmZvcm1fZGF0YS5wcm9jZXNzX291dHB1dHMNCiAgICAgIHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cyA9IFtdDQogICAgICBwcm9jZXNzX291dHB1dHMuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgaWYoc2VsZi5wcm9jZXNzX2RldGFpbC5oYXZlX2JhcnJlbCAmJiBiYXJyZWwuaWQpew0KICAgICAgICAgIHZhciB0b3RhbF9icl9xdHkgPSAwIA0KICAgICAgICAgIHNlbGYuZm9ybV9kYXRhLmJhcnJlbF9zdG9ja3MuZm9yRWFjaChmdW5jdGlvbihicil7DQogICAgICAgICAgICBpZihici5pZCE9YmFycmVsLmlkKXsNCiAgICAgICAgICAgICAgdG90YWxfYnJfcXR5ID0gdG90YWxfYnJfcXR5K3BhcnNlRmxvYXQoYnIucXVhbnRpdHkpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICB2YWwucXVhbnRpdHkgPSBwYXJzZUZsb2F0KGJhcnJlbC5xdWFudGl0eSkrdG90YWxfYnJfcXR5DQogICAgICAgICAgYmFycmVsLnF1YW50aXR5X3BlcnNlbnRhZ2UgPSBzZWxmLkNhbGN1bGF0ZVBlcnNlbnRhZ2UoYmFycmVsLnF1YW50aXR5LGJhcnJlbC5tYXhfcXVhbnRpdHksJ0JhcnJlbCBpcyBmdWxsJykNCiAgICAgICAgfQ0KICAgICAgICBpZih2YWwucXVhbnRpdHkpew0KICAgICAgICAgIGlmKHNlbGYudG90YWxfd2VpZ2h0IT0wKXsNCiAgICAgICAgICAgIHZhciBwZXJzZW50YWdlID0gKHZhbC5xdWFudGl0eS9zZWxmLnRvdGFsX3dlaWdodCkqMTAwDQogICAgICAgICAgICBwZXJzZW50YWdlID0gcGVyc2VudGFnZS50b0ZpeGVkKDIpDQogICAgICAgICAgICBwcm9jZXNzX291dHB1dHNba2V5XS5xdWFudGl0eV9wZXJzZW50YWdlID0gcGVyc2VudGFnZSsnJScNCiAgICAgICAgICB9DQogICAgICAgICAgaWYodmFsLnBhcmFtZXRlcl90eXBlPT0nc2VtaV9maW5pc2hlZF9wcm9kdWN0JyB8fCB2YWwucGFyYW1ldGVyX3R5cGU9PSdmdWxsX2ZpbmlzaGVkX3Byb2R1Y3QnIHx8IHZhbC5wYXJhbWV0ZXJfdHlwZT09J21haW5fcHJvZHVjdCcpew0KICAgICAgICAgICAgdG90YWwgPSB0b3RhbCtwYXJzZUZsb2F0KHZhbC5xdWFudGl0eSkNCiAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgcHJvY2Vzc19vdXRwdXRzW2tleV0ucXVhbnRpdHlfcGVyc2VudGFnZSA9ICcwJScNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cyA9IHByb2Nlc3Nfb3V0cHV0cw0KICAgICAgdGhpcy50b3RhbF9vdXRwdXQgPSB0b3RhbA0KICAgIH0sDQogICAgQ2FsY3VsYXRlUGVyc2VudGFnZSh2YWx1ZSx0b3RhbF93ZWlnaHQsIG1lc3NhZ2U9J091dHB1dCBpcyBvdmVyJyl7DQogICAgICBpZih2YWx1ZSl7DQogICAgICAgIGlmKHRoaXMudG90YWxfd2VpZ2h0IT0wKXsNCiAgICAgICAgICB2YXIgcGVyc2VudGFnZSA9ICh2YWx1ZS90b3RhbF93ZWlnaHQpKjEwMA0KICAgICAgICAgIHBlcnNlbnRhZ2UgPSBwZXJzZW50YWdlLnRvRml4ZWQoMikNCiAgICAgICAgICBpZihwZXJzZW50YWdlPjEwMCl7DQogICAgICAgICAgICB0aGlzLnNob3dBbGVydChtZXNzYWdlLCdyZWQnKQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gcGVyc2VudGFnZSsnJScNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuICcwJScNCiAgICB9LA0KICAgIGRhdGFGb3JtKCkgew0KICAgICAgaWYodGhpcy5hY3Rpb24gPT0gJ2NvbnN1bWFibGVzJyl7DQogICAgICAgIHRoaXMuY29uc3VtYWJsZVN0b2NrQ3JlYXRlKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdvdXRwdXQnIHx8IHRoaXMuYWN0aW9uID09ICdkaXJlY3RfcGFja2luZycgfHwgdGhpcy5hY3Rpb24gPT0gJ2luZGVudF9wYWNraW5nJ3x8IHRoaXMuYWN0aW9uID09ICdiYXJyZWwnKXsNCiAgICAgICAgdGhpcy5jcmVhdGVPdXRwdXQoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgY29uc3VtYWJsZVN0b2NrQ3JlYXRlKCkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3NfZGV0YWlsJyx0aGlzLnByb2Nlc3NfZGV0YWlsLmlkKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGFydF9wcm9jZXNzJyx0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3MnLHRoaXMuZm9ybV9kYXRhLmlkKQ0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL2NvbnN1bWFibGVfc3RvY2tfY3JlYXRlLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgaWYoanNvbkRhdGEub3V0X29mX3N0b2NrKXsNCiAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdPdXQgb2Ygc3RvY2shJywncmVkJykNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpDQogICAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydChqc29uRGF0YS5tZXNzYWdlLCdyZWQnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0SW5kZW50cygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0L2luZGVudC8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMuaW5kZW50X3BhY2tpbmdzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRQYWNraW5nTWF0ZXJpYWxzKCl7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdC9wYWNraW5nX21hdGVyaWFsX3N0b2NrLz93YXJlaG91c2U9Jyt0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5tYWluX3Byb2Nlc3NfZGV0YWlsLndhcmVob3VzZSsnJmluX3N0b2NrPXRydWUnLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHZhciBwYWNraW5nX3R5cGUgPSB0aGlzLmFjdGlvbg0KICAgICAgICBqc29uRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICAgIGpzb25EYXRhW2tleV0uaXNfYWRkZWQgPSBmYWxzZQ0KICAgICAgICAgIGpzb25EYXRhW2tleV0ucGFja2luZ190eXBlID0gcGFja2luZ190eXBlDQogICAgICAgICAganNvbkRhdGFba2V5XS5xdHlzID0gW3twYWNraW5nX3F1YW50aXR5OjAsIG51bWJlcl9vZl9iYWdzOjB9XQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnBhY2tpbmdfbWF0ZXJpYWxzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICB0b3RhbFBhY2tNZXRRdHkocGFja2luZ19tYXRlcmlhbCx0eXBlPSJwaWVjZSIpew0KICAgICAgdmFyIHRvdGFsX2JhZ3M9MA0KICAgICAgdmFyIHRvdGFsPTANCiAgICAgIHBhY2tpbmdfbWF0ZXJpYWwucXR5cy5mb3JFYWNoKGZ1bmN0aW9uKHF0eSl7DQogICAgICAgIHRvdGFsX2JhZ3MgPSB0b3RhbF9iYWdzK3BhcnNlSW50KHF0eS5udW1iZXJfb2ZfYmFncykNCiAgICAgICAgdG90YWwgPSB0b3RhbCsocGFyc2VGbG9hdChxdHkucGFja2luZ19xdWFudGl0eSkqcGFyc2VJbnQocXR5Lm51bWJlcl9vZl9iYWdzKSkNCiAgICAgIH0pDQogICAgICBpZih0eXBlPT0ncGllY2UnKXsNCiAgICAgICAgcmV0dXJuIHRvdGFsX2JhZ3MNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYodHlwZT09J3dlaWdodCcpew0KICAgICAgICByZXR1cm4gdG90YWwudG9GaXhlZCgyKQ0KICAgICAgfWVsc2V7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQoNCiAgICB9LA0KICAgIHRvdGFsUGFja1F0eShwYXJhbWV0ZXIsdHlwZT0icGllY2UiKXsNCiAgICAgIHZhciB0b3RhbF9tZXRzPTANCiAgICAgIHZhciB0b3RhbF9iYWdzPTANCiAgICAgIHZhciB0b3RhbD0wDQogICAgICB2YXIgdG90YWxfcXR5PTANCiAgICAgIHZhciB1bml0ID0nJw0KICAgICAgdmFyIHNlbGY9dGhpcw0KICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzLmZvckVhY2goZnVuY3Rpb24ocGFja2luZ19tYXRlcmlhbCl7DQogICAgICAgIGlmKHBhY2tpbmdfbWF0ZXJpYWwuaXNfYWRkZWQpew0KICAgICAgICAgIHZhciB0b3RhbF9iYWdzMj0wDQogICAgICAgICAgdmFyIHRvdGFsMj0wDQogICAgICAgICAgdW5pdCA9IHBhY2tpbmdfbWF0ZXJpYWwubWF0ZXJpYWxfZGV0YWlsLnVuaXQNCiAgICAgICAgICBwYWNraW5nX21hdGVyaWFsLnF0eXMuZm9yRWFjaChmdW5jdGlvbihxdHkpew0KICAgICAgICAgICAgdG90YWxfYmFnczIgPSB0b3RhbF9iYWdzMitwYXJzZUludChxdHkubnVtYmVyX29mX2JhZ3MpDQogICAgICAgICAgICB0b3RhbDIgPSB0b3RhbDIrKHBhcnNlRmxvYXQocXR5LnBhY2tpbmdfcXVhbnRpdHkpKnBhcnNlSW50KHF0eS5udW1iZXJfb2ZfYmFncykpDQogICAgICAgICAgfSkNCiAgICAgICAgICBpZihwYWNraW5nX21hdGVyaWFsLnBhY2tpbmdfdHlwZT09c2VsZi5hY3Rpb24pew0KICAgICAgICAgICAgdG90YWxfbWV0cysrDQogICAgICAgICAgICB0b3RhbF9iYWdzID0gdG90YWxfYmFncyt0b3RhbF9iYWdzMg0KICAgICAgICAgICAgdG90YWwgPSB0b3RhbCt0b3RhbDINCiAgICAgICAgICB9DQogICAgICAgICAgdG90YWxfcXR5ID0gdG90YWxfcXR5K3RvdGFsMg0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcGFyYW1ldGVyLnF1YW50aXR5ID0gdG90YWxfcXR5DQogICAgICB2YXIgc2VsZj10aGlzOw0KICAgICAgdmFyIHRvdGFsX3F0eSA9IDA7DQogICAgICB2YXIgcHJvY2Vzc19vdXRwdXRzID0gdGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzDQogICAgICBwcm9jZXNzX291dHB1dHMuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgaWYodmFsLnF1YW50aXR5KXsNCiAgICAgICAgICBpZihzZWxmLnRvdGFsX3dlaWdodCE9MCl7DQogICAgICAgICAgICB2YXIgcGVyc2VudGFnZSA9ICh2YWwucXVhbnRpdHkvc2VsZi50b3RhbF93ZWlnaHQpKjEwMA0KICAgICAgICAgICAgcGVyc2VudGFnZSA9IHBlcnNlbnRhZ2UudG9GaXhlZCgyKQ0KICAgICAgICAgICAgcHJvY2Vzc19vdXRwdXRzW2tleV0ucXVhbnRpdHlfcGVyc2VudGFnZSA9IHBlcnNlbnRhZ2UrJyUnDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmKHZhbC5wYXJhbWV0ZXJfdHlwZT09J3NlbWlfZmluaXNoZWRfcHJvZHVjdCcgfHwgdmFsLnBhcmFtZXRlcl90eXBlPT0nZnVsbF9maW5pc2hlZF9wcm9kdWN0JyB8fCB2YWwucGFyYW1ldGVyX3R5cGU9PSdtYWluX3Byb2R1Y3QnKXsNCiAgICAgICAgICAgIHRvdGFsX3F0eSA9IHRvdGFsX3F0eStwYXJzZUZsb2F0KHZhbC5xdWFudGl0eSkNCiAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgcHJvY2Vzc19vdXRwdXRzW2tleV0ucXVhbnRpdHlfcGVyc2VudGFnZSA9ICcwJScNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHRoaXMudG90YWxfb3V0cHV0ID0gdG90YWxfcXR5DQogICAgICBpZih0eXBlPT0nbWF0ZXJpYWxzJyl7DQogICAgICAgIHJldHVybiB0b3RhbF9tZXRzDQogICAgICB9DQogICAgICBlbHNlIGlmKHR5cGU9PSdwaWVjZScpew0KICAgICAgICByZXR1cm4gdG90YWxfYmFncw0KICAgICAgfQ0KICAgICAgZWxzZSBpZih0eXBlPT0nd2VpZ2h0Jyl7DQogICAgICAgIHJldHVybiB0b3RhbC50b0ZpeGVkKDIpK3VuaXQNCiAgICAgIH1lbHNlew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgc2V0UGFja2luZ01hdGVyaWFsRmlsdGVyKCl7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdC9tYXRlcmlhbHMvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLm1hdGVyaWFscyA9IGpzb25EYXRhDQogICAgICB9KQ0KDQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0L3NwZWNpZmljYXRpb25zLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5zcGVjaWZpY2F0aW9ucyA9IGpzb25EYXRhDQogICAgICAgIHZhciBzcGVjaWZpY2F0aW9uX3ZhbHVlcyA9IFtdOw0KICAgICAgICB0aGlzLnNwZWNpZmljYXRpb25zLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAgaWYodmFsLnNwZWNpZmljYXRpb25fZm9yPT0nUGFja2luZyBNYXRlcmlhbCcpew0KICAgICAgICAgICAgc3BlY2lmaWNhdGlvbl92YWx1ZXMucHVzaCh7aWQ6dmFsLmlkLCBuYW1lOnZhbC5uYW1lICx2YWx1ZTonJywgaXNfdmFsdWVzOnZhbC5pc192YWx1ZXMsIHZhbHVlczp2YWwudmFsdWVzLG1hdGVyaWFsX2lkczp2YWwubWF0ZXJpYWxfaWRzfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMuZmlsdGVyX21hdGVyaWFsID0ge21hdGVyaWFsOidhbGwnLCByZXF1ZXN0ZWRfcXVhbnRpdHk6MCwgcHJpY2U6MCxtYXhfcXVhbnRpdHk6MCxzdG9ja19xdWFudGl0eTowLCBwcmludF9pbmRlbnQ6e2lkOm51bGx9LCBzcGVjaWZpY2F0aW9uczpzcGVjaWZpY2F0aW9uX3ZhbHVlcywgbWF0ZXJpYWxfZGV0YWlsOntpZDonYWxsJyxzcGVjaWZpY2F0aW9uczpbXX19DQogICAgICB9KQ0KICAgIH0sDQogICAgY2hlY2tNZXRGaWx0ZXIocGFja2luZ19tYXRlcmlhbCl7DQogICAgICB2YXIgZmlsdGVyPWZhbHNlDQogICAgICBpZihwYWNraW5nX21hdGVyaWFsLm1hdGVyaWFsPT10aGlzLmZpbHRlcl9tYXRlcmlhbC5tYXRlcmlhbCB8fCB0aGlzLmZpbHRlcl9tYXRlcmlhbC5tYXRlcmlhbD09J2FsbCcpDQogICAgICB7DQogICAgICAgIGZpbHRlcj10cnVlDQogICAgICB9DQogICAgICBmb3IodmFyIHNrPTA7c2s8dGhpcy5maWx0ZXJfbWF0ZXJpYWwuc3BlY2lmaWNhdGlvbnMubGVuZ3RoO3NrKyspew0KICAgICAgICB2YXIgc3BlY2lmaWNhdGlvbj10aGlzLmZpbHRlcl9tYXRlcmlhbC5zcGVjaWZpY2F0aW9uc1tza10NCiAgICAgICAgaWYoc3BlY2lmaWNhdGlvbi5tYXRlcmlhbF9pZHMuaW5jbHVkZXModGhpcy5maWx0ZXJfbWF0ZXJpYWwubWF0ZXJpYWwpKXsNCiAgICAgICAgICBpZihzcGVjaWZpY2F0aW9uLnZhbHVlKXsNCiAgICAgICAgICAgIGlmKHBhY2tpbmdfbWF0ZXJpYWwuc3BlY2lmaWNhdGlvbnNbc2tdLnZhbHVlcz09bnVsbCl7DQogICAgICAgICAgICAgIGlmKChwYWNraW5nX21hdGVyaWFsLnNwZWNpZmljYXRpb25zW3NrXS52YWx1ZT09J29uJyAmJiAhc3BlY2lmaWNhdGlvbi52YWx1ZSkgfHwgcGFja2luZ19tYXRlcmlhbC5zcGVjaWZpY2F0aW9uc1tza10udmFsdWU9PSdvZmYnICYmIHNwZWNpZmljYXRpb24udmFsdWUpew0KICAgICAgICAgICAgICAgIGZpbHRlcj1mYWxzZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZSBpZihwYWNraW5nX21hdGVyaWFsLnNwZWNpZmljYXRpb25zW3NrXS52YWx1ZSE9c3BlY2lmaWNhdGlvbi52YWx1ZSl7DQogICAgICAgICAgICAgIGZpbHRlcj1mYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gZmlsdGVyDQogICAgfSwNCiAgICBjcmVhdGVPdXRwdXQoKSB7DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmc1snZGF0YUZvcm0nXSkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2Vzc19kZXRhaWwnLHRoaXMucHJvY2Vzc19kZXRhaWwuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXJ0X3Byb2Nlc3MnLHRoaXMuc3RhcnRfcHJvY2Vzc19pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2VzcycsdGhpcy5mb3JtX2RhdGEuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3BhY2tpbmdfdHlwZScsdGhpcy5hY3Rpb24pDQogICAgICBpZih0aGlzLmxvY2tfYnRuKXsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLmxvY2tfYnRuID0gdHJ1ZQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc19vdXRwdXRzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJywncmVkJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsb3NlUG9wdXAoKXsNCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlUG9wdXAnLCB0cnVlKQ0KICAgIH0sDQogICAgYWRkTWF0ZXJpYWwocGFyYW1ldGVyLHBhY2tpbmdfbWF0ZXJpYWwpew0KICAgICAgcGFja2luZ19tYXRlcmlhbC5pc19hZGRlZCA9IHRydWUNCiAgICAgIHZhciBwbSA9IEpTT04uc3RyaW5naWZ5KHBhY2tpbmdfbWF0ZXJpYWwpDQogICAgICBwYXJhbWV0ZXIucGFja2luZ19tYXRlcmlhbHMucHVzaChKU09OLnBhcnNlKHBtKSkNCiAgICAgIHBhcmFtZXRlci5kaXJlY3RfcGFja2luZ19pZHMucHVzaChwYWNraW5nX21hdGVyaWFsLmlkKQ0KICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfaWRzLnB1c2gocGFja2luZ19tYXRlcmlhbC5pZCkNCiAgICB9LA0KICAgIHJlbW92ZU1hdGVyaWFsKHBhcmFtZXRlcixwYWNraW5nX21hdGVyaWFsKXsNCiAgICAgIHBhY2tpbmdfbWF0ZXJpYWwuaXNfYWRkZWQgPSBmYWxzZQ0KICAgICAgdmFyIGluZGV4ID0gcGFyYW1ldGVyLnBhY2tpbmdfaWRzLmluZGV4T2YocGFja2luZ19tYXRlcmlhbC5pZCkNCiAgICAgIHZhciBpbmRleDIgPSBwYXJhbWV0ZXIuZGlyZWN0X3BhY2tpbmdfaWRzLmluZGV4T2YocGFja2luZ19tYXRlcmlhbC5pZCkNCiAgICAgIHBhcmFtZXRlci5wYWNraW5nX21hdGVyaWFscy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfaWRzLnNwbGljZShpbmRleCwgMSk7DQogICAgICBwYXJhbWV0ZXIuZGlyZWN0X3BhY2tpbmdfaWRzLnNwbGljZShpbmRleDIsIDEpOw0KICAgIH0sDQogICAgc2VsZWN0SW5kZW50KHBhcmFtZXRlcixpbmRlbnQpew0KICAgICAgaW5kZW50LmlzX2FkZGVkID0gdHJ1ZQ0KICAgICAgcGFyYW1ldGVyLmluZGVudF9pZHMucHVzaChpbmRlbnQuaWQpDQogICAgICBmb3IodmFyIHA9MDtwPGluZGVudC52YWx1ZXMubGVuZ3RoO3ArKyl7DQogICAgICAgIHZhciBwYWNrID0gdGhpcy5jaGVja01hdGVyaWFsU3RvY2soaW5kZW50LnZhbHVlc1twXSkNCiAgICAgICAgaWYocGFjay5pZCl7DQogICAgICAgICAgaWYocGFjay5wYWNraW5nX3R5cGU9PSdpbmRlbnRfcGFja2luZycpew0KICAgICAgICAgICAgdGhpcy5wYWNraW5nX21hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICAgICAgICBpZihwYWNrLmlkPT12YWwuaWQpew0KICAgICAgICAgICAgICAgIHZhbFsnaXNfYWRkZWQnXSA9IHRydWUNCiAgICAgICAgICAgICAgICB2YWxbJ2luZGVudCddID0gaW5kZW50LmlkDQogICAgICAgICAgICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzLnB1c2godmFsKQ0KICAgICAgICAgICAgICAgIHBhcmFtZXRlci5wYWNraW5nX2lkcy5wdXNoKHZhbC5pZCkNCiAgICAgICAgICAgICAgICBwYXJhbWV0ZXIuaW5kZW50X3BhY2tpbmdfaWRzLnB1c2godmFsLmlkKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2cocGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzKQ0KICAgIH0sDQogICAgcmVtb3ZlSW5kZW50KHBhcmFtZXRlcixpbmRlbnQpew0KICAgICAgaW5kZW50LmlzX2FkZGVkID0gZmFsc2UNCiAgICAgIHRoaXMucGFja2luZ19ub3RlID0gJycNCiAgICAgIHBhcmFtZXRlci5wYWNraW5nX21hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uKG1hdGVyaWFsLHBtaSl7DQogICAgICAgIGlmKG1hdGVyaWFsLmluZGVudD09aW5kZW50LmlkICYmIG1hdGVyaWFsLnBhY2tpbmdfdHlwZT09J2luZGVudF9wYWNraW5nJyl7DQogICAgICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzLnNwbGljZShwbWksIDEpOw0KICAgICAgICAgIHBhcmFtZXRlci5wYWNraW5nX2lkcy5zcGxpY2UocG1pLCAxKTsNCiAgICAgICAgICBwYXJhbWV0ZXIuaW5kZW50X3BhY2tpbmdfaWRzLnNwbGljZShwYXJhbWV0ZXIuaW5kZW50X3BhY2tpbmdfaWRzLmluZGV4T2YobWF0ZXJpYWwuaWQpLCAxKTsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHBhcmFtZXRlci5pbmRlbnRfaWRzLnNwbGljZShwYXJhbWV0ZXIuaW5kZW50X2lkcy5pbmRleE9mKGluZGVudC5pZCksIDEpDQogICAgfSwNCiAgICBjaGVja01hdGVyaWFsU3RvY2sobWF0ZXJpYWwpew0KICAgICAgdmFyIGF2YWlfbWF0ZXJpYWwgPSB7aWQ6bnVsbH0NCiAgICAgIHZhciBwYWNraW5nX21hdGVyaWFscyA9IHRoaXMucGFja2luZ19tYXRlcmlhbHMNCiAgICAgIHBhY2tpbmdfbWF0ZXJpYWxzLmZvckVhY2goZnVuY3Rpb24ocDEsa2V5KXsNCiAgICAgICAgdmFyIGlzX3BhY2sgPSB0cnVlDQogICAgICAgIGlmKG1hdGVyaWFsLm1hdGVyaWFsPT1wMS5tYXRlcmlhbCl7DQogICAgICAgICAgcDEuc3BlY2lmaWNhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihzMil7DQogICAgICAgICAgICB2YXIgaXNfc3BlY3MgPSB0cnVlDQogICAgICAgICAgICBpZihwMS5tYXRlcmlhbF9kZXRhaWwuc3BlY2lmaWNhdGlvbnMuaW5jbHVkZXMoczIuaWQpKXsNCiAgICAgICAgICAgICAgdmFyIHNwZWMgPSB0cnVlDQogICAgICAgICAgICAgIG1hdGVyaWFsLnNwZWNpZmljYXRpb25zLmZvckVhY2goZnVuY3Rpb24oczEpew0KICAgICAgICAgICAgICAgIGlmKHMxLm1hdGVyaWFsX2lkcy5pbmNsdWRlcyhtYXRlcmlhbC5tYXRlcmlhbCkpew0KICAgICAgICAgICAgICAgICAgaWYoczIuaWQ9PXMxLmlkKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoczIudmFsdWU9PXMxLnZhbHVlIHx8IChzMS52YWx1ZXM9PW51bGwgJiYgczIudmFsdWU9PSdvbicgJiYgczEudmFsdWUpKXsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgc3BlYyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIGlmKCFzcGVjKXsNCiAgICAgICAgICAgICAgICBpc19zcGVjcyA9IGZhbHNlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKCFpc19zcGVjcyl7DQogICAgICAgICAgICAgIGlzX3BhY2sgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIGlzX3BhY2sgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICAgIGlmKGlzX3BhY2spew0KICAgICAgICAgIGF2YWlfbWF0ZXJpYWwgPSBwMQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGF2YWlfbWF0ZXJpYWwNCiAgICB9LA0KICB9LA0KfTsNCg=="},null]}