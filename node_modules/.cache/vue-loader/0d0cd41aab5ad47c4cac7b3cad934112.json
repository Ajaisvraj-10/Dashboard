{"remainingRequest":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/production/process/processing-component.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/production/process/processing-component.vue","mtime":1676396180000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgV29ya2Vyc0Zvcm0gZnJvbSAnL3NyYy92aWV3cy9hcHAvb29kby9jb21wb25lbnRzL3dvcmtlcnMtZm9ybScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IFsncHJvY2Vzc19kZXRhaWxfaWQnLCdzdGFydF9wcm9jZXNzX2lkJywncHJvY2Vzc2luZ19pZCcsJ2FjdGlvbicsJ2lzX3ZpZXcnXSwNCiAgY29tcG9uZW50czp7DQogICAgV29ya2Vyc0Zvcm0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybV9kYXRhOnsNCiAgICAgICAgaWQ6bnVsbCwNCiAgICAgICAgZGF0ZTpudWxsLA0KICAgICAgICBwcm9kdWN0Om51bGwsDQogICAgICAgIHN0YXR1czonRHJhZnQnLA0KICAgICAgICBzaGlmdDonREFZJywNCiAgICAgICAgbmV4dF9wcm9jZXNzOm51bGwsDQogICAgICAgIG1hY2hpbmVzOltdLA0KICAgICAgICBzdGFydF9wcm9jZXNzX2RldGFpbDp7cHJvY2Vzc19wcm9kdWN0c19saXN0OltdLG1haW5fcHJvY2Vzc19kZXRhaWw6e30sZmlyZXdvb2RfZGV0YWlsczp7fSxkcnllcl9kZXRhaWxzOnt9LGF0dHJpYnV0ZV9kZXRhaWw6e2lkOm51bGwsY3V0X3NoYXBlX2RldGFpbDp7aWQ6bnVsbCwgbmFtZTonJywgZGltZW5zaW9uOjF9fSwgc2lldjpudWxsfSwNCiAgICAgICAgb3RoZXJfbG90czpbXSwNCiAgICAgICAgbG90Om51bGwsDQogICAgICAgIGlzX29yZ2FuaWM6ZmFsc2UsDQogICAgICAgIHByb2Nlc3Nfb3V0cHV0czpbXSwNCiAgICAgICAgYmFycmVsX2RldGFpbDp7fSwNCiAgICAgICAgbmV4dF9wcm9jZXNzOm51bGwsDQogICAgICAgIGNvbnN1bWFibGVfaXRlbXNfbGlzdDpbXSwNCiAgICAgICAgbGFib3VyX2RldGFpbDp7DQogICAgICAgICAgd29ya2VyczpbXSwNCiAgICAgICAgICB3YWdlX3dvcmtlcnM6W10sDQogICAgICAgICAgd29ya190eXBlOid3YWdlcycsDQogICAgICAgICAgb3ZlcnRpbWVfaG91cnNlX3N0MToyLA0KICAgICAgICB9LA0KICAgICAgICB1bmxvYWRpbmc6ew0KICAgICAgICAgIHdvcmtlcnM6W10sDQogICAgICAgICAgd2FnZV93b3JrZXJzOltdLA0KICAgICAgICAgIHdvcmtfdHlwZTond2FnZXMnLA0KICAgICAgICAgIG92ZXJ0aW1lX2hvdXJzZV9zdDE6MiwNCiAgICAgICAgfSwNCiAgICAgICAgcGFja2luZ19sYWJvdXJzOnsNCiAgICAgICAgICB3b3JrZXJzOltdLA0KICAgICAgICAgIHdhZ2Vfd29ya2VyczpbXSwNCiAgICAgICAgICB3b3JrX3R5cGU6J3dhZ2VzJywNCiAgICAgICAgICBvdmVydGltZV9ob3Vyc2Vfc3QxOjIsDQogICAgICAgIH0sDQogICAgICB9LA0KICAgICAgcHJvY2Vzc19kZXRhaWw6e291dHB1dHM6W10sY29uc3VtYWJsZV9pdGVtc19saXN0OltdLGlucHV0czpbXX0sDQogICAgICBwYWNraW5nX21hdGVyaWFsczpbXSwNCiAgICAgIGluZGVudF9wYWNraW5nczpbXSwNCiAgICAgIGJhcnJlbF9pZDpudWxsLA0KICAgICAgaWQ6bnVsbCwNCiAgICAgIHByb2R1Y3RfbmFtZSA6ICcnLA0KICAgICAgdG90YWxfd2VpZ2h0OjAsDQogICAgICB0b3RhbF9vdXRwdXQ6MCwNCiAgICAgIGJhcnJlbHM6W10sDQogICAgICBuZXh0X3Byb2Nlc3NlczpbXSwNCiAgICAgIHN0b2NrX3BhcmFtZXRlcnM6W10sDQogICAgICBpc19zdGFydDpmYWxzZSwNCiAgICAgIGZpbHRlcl9tYXRlcmlhbDp7c3BlY2lmaWNhdGlvbnM6W119LA0KICAgICAgbWF0ZXJpYWxzOltdLA0KICAgICAgc3BlY2lmaWNhdGlvbnM6W10sDQogICAgICBib2lsZXJzOltdLA0KICAgICAgY3V0X3NoYXBlczpbXSwNCiAgICAgIG5ld19zaGFwZTp7aWQ6bnVsbCwgbmFtZTonJywgZGltZW5zaW9uOjF9LA0KICAgICAgYWRkX25ld19zaGFwZTpmYWxzZSwNCiAgICAgIHBhY2tpbmdfbm90ZTonJywNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZm9ybV9kYXRhLmRhdGUgPSB0aGlzLmN1cnJlbnREYXRlKCkNCiAgICBpZih0aGlzLnByb2Nlc3NpbmdfaWQpew0KICAgICAgdGhpcy5nZXRQcm9jZXNzKCkNCiAgICB9ZWxzZXsNCiAgICAgIHRoaXMuZ2V0UHJvY2Vzc0RldGFpbHMoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFByb2Nlc3MoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzaW5nLycrdGhpcy5wcm9jZXNzaW5nX2lkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmZvcm1fZGF0YSA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZ2V0UHJvY2Vzc0RldGFpbHMoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFByb2Nlc3NEZXRhaWxzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc19kZXRhaWxzLycrdGhpcy5wcm9jZXNzX2RldGFpbF9pZCsnLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5wcm9jZXNzX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZm9ybV9kYXRhLm1hY2hpbmVzID0ganNvbkRhdGEubWFjaGluZXMNCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgIGlmKCF0aGlzLmZvcm1fZGF0YS5jb250cmFjdF9sYWJvdXJfY2hhcmdlKXsNCiAgICAgICAgICB0aGlzLmZvcm1fZGF0YS5jb250cmFjdF9sYWJvdXJfY2hhcmdlID0ganNvbkRhdGEucHJvZHVjdGlvbl9wcm9jZXNzX2RldGFpbC5sYWJvdXJfY2hhcmdlDQogICAgICAgIH0NCiAgICAgICAgaWYodGhpcy5hY3Rpb249PSdzdG9wJyl7DQogICAgICAgICAgdGhpcy5uZXh0UHJvY2Vzc2VzKCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmdldFN0YXJ0UHJvY2VzcygpDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0U3RhcnRQcm9jZXNzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vc3RhcnRfcHJvY2Vzcy8nK3RoaXMuc3RhcnRfcHJvY2Vzc19pZCsnLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoIWpzb25EYXRhLmF0dHJpYnV0ZSl7DQogICAgICAgICAganNvbkRhdGEuYXR0cmlidXRlX2RldGFpbCA9IHtpZDpudWxsLCBzaXplOicnLCB1bml0OicnLCBjdXRfc2hhcGVfZGV0YWlsOntpZDpudWxsLCBuYW1lOicnLCBvcGVyYXRpb246JycsIGRpbWVuc2lvbjoxfX0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgIHZhciBsYXN0X3Byb2Nlc3NfaWQgPSBudWxsIA0KICAgICAgICBqc29uRGF0YS5wcm9jZXNzZXMuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgICBsYXN0X3Byb2Nlc3NfaWQgPSB2YWwuaWQNCiAgICAgICAgfSkNCiAgICAgICAgaWYoIXRoaXMucHJvY2Vzc19kZXRhaWwuYmFycmVsX2lucHV0ICYmIGpzb25EYXRhLnByb2Nlc3NfcHJvZHVjdHMubGVuZ3RoPD0wKXsNCiAgICAgICAgICB0aGlzLnN0b2NrUGFyYW1ldGVyKCkNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgaWYodGhpcy5hY3Rpb249PSdpbnB1dCcpdGhpcy5hY3Rpb24gPSAnYmF0Y2gnOw0KICAgICAgICB9DQogICAgICAgIHZhciBsb3RzID0gW107DQogICAgICAgIHZhciBsb3QgPSBudWxsOw0KICAgICAgICB2YXIgdG90YWwgPSAwOw0KICAgICAgICB2YXIgaXNfb3JnYW5pYyA9IHRydWUNCiAgICAgICAganNvbkRhdGEucHJvY2Vzc19wcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICAgIGlmKCF2YWwuaXNfb3JnYW5pYyl7DQogICAgICAgICAgICBpc19vcmdhbmljID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgICAgaWYoa2V5PT0wKWxvdD12YWwubG90DQogICAgICAgICAgbG90cy5wdXNoKHZhbC5sb3QpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMudG90YWxfd2VpZ2h0ID0ganNvbkRhdGEudG90YWxfd2VpZ2h0DQogICAgICAgIHRoaXMuZm9ybV9kYXRhLmxvdCA9IGxvdA0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5pc19vcmdhbmljID0gaXNfb3JnYW5pYw0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5vdGhlcl9sb3RzID0gbG90cw0KICAgICAgICBpZih0aGlzLmFjdGlvbj09J2JvaWxlcicpew0KICAgICAgICAgIHRoaXMuZ2V0Qm9pbGVycygpDQogICAgICAgIH1pZih0aGlzLmFjdGlvbj09J2N1dF9zaGFwZScpew0KICAgICAgICAgIHRoaXMuZ2V0Q3V0U2hhcGVzKCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmlzX3N0YXJ0ID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEJvaWxlcnMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvc2VjdXJpdHkvYm9pbGVyLz9zdGF0dXM9T24nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMuYm9pbGVycyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgc2V0U2hhcGVOYW1lKCkgew0KICAgICAgdmFyIG5hbWUgPScnDQogICAgICB0aGlzLmFkZF9uZXdfc2hhcGUgPSBmYWxzZQ0KICAgICAgdmFyIGRpbWVuc2lvbnMgPSBwYXJzZUludCh0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5hdHRyaWJ1dGVfZGV0YWlsLmN1dF9zaGFwZV9kZXRhaWwuZGltZW5zaW9uKQ0KICAgICAgZm9yICh2YXIgZD0wOyBkPGRpbWVuc2lvbnM7IGQrKyl7DQogICAgICAgIHZhciB2YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaW1lbnNpb24nK2QpDQogICAgICAgIGlmKHZhbHVlICYmIHZhbHVlLnZhbHVlKXsNCiAgICAgICAgICBuYW1lICs9IHZhbHVlLnZhbHVlK3RoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmF0dHJpYnV0ZV9kZXRhaWwudW5pdA0KICAgICAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmF0dHJpYnV0ZV9kZXRhaWwuY3V0X3NoYXBlX2RldGFpbC5vcGVyYXRpb24gJiYgZGltZW5zaW9ucz4xICYmIGQ8KGRpbWVuc2lvbnMtMSkpew0KICAgICAgICAgICAgbmFtZSArPSB0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5hdHRyaWJ1dGVfZGV0YWlsLmN1dF9zaGFwZV9kZXRhaWwub3BlcmF0aW9uDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBuYW1lICs9ICcgJw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuYXR0cmlidXRlX2RldGFpbC5zaXplID0gdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuYXR0cmlidXRlX2RldGFpbC5jdXRfc2hhcGVfZGV0YWlsLm5hbWUrJywgJytuYW1lDQogICAgfSwNCiAgICBnZXRDdXRTaGFwZXMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdC9jdXRfc2hhcGVzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5jdXRfc2hhcGVzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBjcmVhdGVTaGFwZSgpIHsNCiAgICAgIGlmKCF0aGlzLm5ld19zaGFwZS5uYW1lIHx8ICF0aGlzLm5ld19zaGFwZS5kaW1lbnNpb24pew0KICAgICAgICB0aGlzLnNob3dBbGVydCgnUGxlYXNlIGZpbGwgZm9ybSBkYXRhIScsJ3JlZCcpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnbmFtZScsdGhpcy5uZXdfc2hhcGUubmFtZSkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnZGltZW5zaW9uJyx0aGlzLm5ld19zaGFwZS5kaW1lbnNpb24pDQogICAgICBpZih0aGlzLm5ld19zaGFwZS5vcGVyYXRpb24pZm9ybWRhdGEuYXBwZW5kKCdvcGVyYXRpb24nLHRoaXMubmV3X3NoYXBlLm9wZXJhdGlvbik7DQogICAgICBpZih0aGlzLmxvY2tfYnRuKXsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLmxvY2tfYnRuID0gdHJ1ZQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3QvY3V0X3NoYXBlcy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5sb2NrX2J0biA9IGZhbHNlDQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIHRoaXMuYWRkX25ld19zaGFwZSA9IGZhbHNlDQogICAgICAgICAgdGhpcy5nZXRDdXRTaGFwZXMoKQ0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmF0dHJpYnV0ZV9kZXRhaWwuY3V0X3NoYXBlX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScsJ3JlZCcpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBkYXRhRm9ybSgpIHsNCiAgICAgIGlmKHRoaXMuYWN0aW9uPT0naW5wdXQnKXsNCiAgICAgICAgdGhpcy5jcmVhdGVOZXh0UHJvY2VzcygpDQogICAgICB9DQogICAgICBpZih0aGlzLmFjdGlvbiA9PSAnYmF0Y2gnKXsNCiAgICAgICAgdGhpcy5mb3JtX2RhdGEuc3RhdHVzID0gJ1N0YXJ0aW5nJw0KICAgICAgICB0aGlzLnByb2Nlc3NGb3JtKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdtYWNoaW5lJyl7DQogICAgICAgIHRoaXMuZm9ybV9kYXRhLnN0YXR1cyA9ICdSdW5uaW5nJw0KICAgICAgICB0aGlzLnByb2Nlc3NGb3JtKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdmaXJld29vZCcgfHwgdGhpcy5hY3Rpb24gPT0gJ2RyeWVyJyl7DQogICAgICAgIHRoaXMuZm9ybV9kYXRhLnN0YXR1cyA9ICdTdGFydGluZycNCiAgICAgICAgdGhpcy5wcm9jZXNzRm9ybSgpDQogICAgICB9ZWxzZSBpZih0aGlzLmFjdGlvbiA9PSAnYm9pbGVyJyB8fCB0aGlzLmFjdGlvbiA9PSAnY3V0X3NoYXBlJyB8fCB0aGlzLmFjdGlvbiA9PSAnc2lldmluZycgfHwgdGhpcy5hY3Rpb24gPT0gJ3Zlc2Vscycpew0KICAgICAgICB0aGlzLnN0YXJ0UHJvY2Vzc0Zvcm0oKQ0KICAgICAgfWVsc2UgaWYodGhpcy5hY3Rpb24gPT0gJ3VubG9hZGluZycgfHwgdGhpcy5hY3Rpb24gPT0gJ2VtcGxveWVlX3BhcnRpY2lwYXRlJyB8fCB0aGlzLmFjdGlvbiA9PSAncGFja2luZ19sYWJvdXJzJyl7DQogICAgICAgIGlmKHRoaXMuYWN0aW9uID09ICdlbXBsb3llZV9wYXJ0aWNpcGF0ZScgJiYgKHRoaXMucHJvY2Vzc19kZXRhaWwuaXNfcmVzdGFja2luZyB8fCB0aGlzLnByb2Nlc3NfZGV0YWlsLmF1dG9fb3V0cHV0KSl7DQogICAgICAgICAgdGhpcy5mb3JtX2RhdGEuc3RhdHVzID0gJ0NvbXBsZXRlZCcNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmFjdGlvbiA9PSAndW5sb2FkaW5nJyl7DQogICAgICAgICAgdGhpcy5mb3JtX2RhdGEuc3RhdHVzID0gJ0NvbXBsZXRlZCcNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnByb2Nlc3NMYWJvdXJzRm9ybSgpDQogICAgICB9ZWxzZSBpZih0aGlzLmFjdGlvbiA9PSAnc3RvcCcpew0KICAgICAgICB0aGlzLmNvbXBsZXRlUHJvY2VzcygpDQogICAgICB9DQogICAgfSwNCiAgICBzdGFydFByb2Nlc3NGb3JtKCkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnbWFpbl9wcm9jZXNzJyx0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5tYWluX3Byb2Nlc3MpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3NfZGV0YWlsJyx0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5wcm9jZXNzX2RldGFpbCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3VwZXJ2aXNvcicsdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuc3VwZXJ2aXNvcikNCiAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmJvaWxlcnMubGVuZ3RoPjApew0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ2JvaWxlcnMnLHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmJvaWxlcnMpDQogICAgICB9DQogICAgICBpZih0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5hdHRyaWJ1dGVfZGV0YWlsLnNpemUgJiYgdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuYXR0cmlidXRlX2RldGFpbC5jdXRfc2hhcGVfZGV0YWlsLmlkKXsNCiAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCdjdXRfc2hhcGUnLHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLmF0dHJpYnV0ZV9kZXRhaWwuY3V0X3NoYXBlX2RldGFpbC5pZCkNCiAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzaXplJyx0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5hdHRyaWJ1dGVfZGV0YWlsLnNpemUpDQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgndW5pdCcsdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuYXR0cmlidXRlX2RldGFpbC51bml0KQ0KICAgICAgfQ0KICAgICAgaWYodGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuc2lldil7DQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc2lldicsdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwuc2lldikNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLm51bWJlcl9vZl92ZXNlbHMpew0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ251bWJlcl9vZl92ZXNlbHMnLHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLm51bWJlcl9vZl92ZXNlbHMpDQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgndXNlc19vZl92ZXNlbHMnLHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLnVzZXNfb2ZfdmVzZWxzKQ0KICAgICAgfQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGF0dXMnLHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsLnN0YXR1cykNCg0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3N0YXJ0X3Byb2Nlc3MvJyt0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQrJy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BVVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJywncmVkJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHByb2Nlc3NGb3JtKG1ldGhvZD0nUE9TVCcpIHsNCiAgICAgIGlmKHRoaXMuJHJvb3QudXNlcl90eXBlIT0nc3VwZXJ2aXNvcicpew0KICAgICAgICB0aGlzLnNob3dBbGVydCgnWW91IGNhbm5vdCBhZGQgdG8gdGhpcyBwcm9jZXNzIScsJ3JlZCcpDQogICAgICAgIC8vIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdmFyIHBhcmFtID0gJycNCiAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLmlkKXsNCiAgICAgICAgbWV0aG9kID0gJ1BVVCcNCiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm1fZGF0YS5pZCsnLycNCiAgICAgIH0NCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdXBlcnZpc29yJyx0aGlzLmVtcGxveWVlSWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXR1cycsdGhpcy5mb3JtX2RhdGEuc3RhdHVzKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGFydF9wcm9jZXNzJyx0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQpDQogICAgICBpZih0aGlzLmxvY2tfYnRuKXsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLmxvY2tfYnRuID0gdHJ1ZQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc2luZy8nK3BhcmFtLCB7DQogICAgICAgICAgbWV0aG9kIDogbWV0aG9kLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5sb2NrX2J0biA9IGZhbHNlDQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLmlkID0ganNvbkRhdGEuaWQNCiAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKQ0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTYXZlZCBTdWNjZXNzZnVsbHkhJykNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NvbWV0aGluZyBXcm9uZyEnLCdyZWQnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgcHJvY2Vzc0xhYm91cnNGb3JtKG1ldGhvZD0nUE9TVCcpIHsNCiAgICAgIHZhciBwYXJhbSA9ICcnDQogICAgICBpZih0aGlzLmFjdGlvbiA9PSAndW5sb2FkaW5nJyAmJiB0aGlzLmZvcm1fZGF0YS51bmxvYWRpbmcuaWQpew0KICAgICAgICBtZXRob2QgPSAnUFVUJw0KICAgICAgICBwYXJhbSA9IHRoaXMuZm9ybV9kYXRhLnVubG9hZGluZy5pZCsnLycNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdwYWNraW5nX2xhYm91cnMnICYmIHRoaXMuZm9ybV9kYXRhLnBhY2tpbmdfbGFib3Vycy5pZCl7DQogICAgICAgIG1ldGhvZCA9ICdQVVQnDQogICAgICAgIHBhcmFtID0gdGhpcy5mb3JtX2RhdGEucGFja2luZ19sYWJvdXJzLmlkKycvJw0KICAgICAgfWVsc2UgaWYodGhpcy5hY3Rpb24gPT0gJ2VtcGxveWVlX3BhcnRpY2lwYXRlJyAmJiB0aGlzLmZvcm1fZGF0YS5sYWJvdXJfZGV0YWlsLmlkKXsNCiAgICAgICAgbWV0aG9kID0gJ1BVVCcNCiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm1fZGF0YS5sYWJvdXJfZGV0YWlsLmlkKycvJw0KICAgICAgfQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3MnLHRoaXMuZm9ybV9kYXRhLmlkKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGF0dXMnLCdDb21wbGV0ZWQnKQ0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3Byb2Nlc3NfbGFib3Vycy8nK3BhcmFtLCB7DQogICAgICAgICAgbWV0aG9kIDogbWV0aG9kLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5sb2NrX2J0biA9IGZhbHNlDQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLnVubG9hZGluZyA9IGpzb25EYXRhDQogICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJywncmVkJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEluZGVudHMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdC9pbmRlbnQvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmluZGVudF9wYWNraW5ncyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgbmV4dFByb2Nlc3NlcygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3Byb2Nlc3NfZGV0YWlscy8/bmV4dF9wcm9jZXNzX2RldGFpbD0nK3RoaXMucHJvY2Vzc19kZXRhaWwuaWQsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5uZXh0X3Byb2Nlc3NlcyA9IGpzb25EYXRhDQogICAgICAgIGlmKGpzb25EYXRhLmxlbmd0aD4wKXsNCiAgICAgICAgICB0aGlzLmZvcm1fZGF0YS5uZXh0X3Byb2Nlc3MgPSB0aGlzLm5leHRfcHJvY2Vzc2VzWzBdLmlkDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBjb21wbGV0ZVByb2Nlc3MoKSB7DQogICAgICBpZih0aGlzLiRyb290LnVzZXJfdHlwZSE9J3N1cGVydmlzb3InKXsNCiAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1lvdSBjYW5ub3QgY29tcGxldGUgdG8gdGhpcyBwcm9jZXNzIScsJ3JlZCcpDQogICAgICAgIC8vIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N1cGVydmlzb3InLHRoaXMuZW1wbG95ZWVJZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2Vzc19kZXRhaWwnLHRoaXMucHJvY2Vzc19kZXRhaWwuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXJ0X3Byb2Nlc3MnLHRoaXMuc3RhcnRfcHJvY2Vzc19pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2VzcycsdGhpcy5mb3JtX2RhdGEuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ25leHRfcHJvY2VzcycsIHRoaXMuZm9ybV9kYXRhLm5leHRfcHJvY2VzcykNCiAgICAgIGlmKHRoaXMubG9ja19idG4pew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMubG9ja19idG4gPSB0cnVlDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9jb21wbGV0ZV9wcm9jZXNzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJywncmVkJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNsb3NlUG9wdXAoKXsNCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlUG9wdXAnLCB0cnVlKQ0KICAgIH0sDQogICAgc3RvY2tQYXJhbWV0ZXIoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9kdWN0c19zdG9jay8/cHJvY2Vzc19kZXRhaWw9Jyt0aGlzLnByb2Nlc3NfZGV0YWlsLmlkKycmd2FyZWhvdXNlPScrdGhpcy5mb3JtX2RhdGEuc3RhcnRfcHJvY2Vzc19kZXRhaWwubWFpbl9wcm9jZXNzX2RldGFpbC53YXJlaG91c2UsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5zdG9ja19wYXJhbWV0ZXJzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBhZGRQcm9kdWN0KHN0b2NrX3BhcmFtZXRlcil7DQogICAgICBzdG9ja19wYXJhbWV0ZXIuaXNfYWRkZWQgPSB0cnVlDQogICAgICBzdG9ja19wYXJhbWV0ZXIucXVhbnRpdHkgPSBzdG9ja19wYXJhbWV0ZXIuc3RvY2tfcXVhbnRpdHkNCiAgICB9LA0KICAgIHJlbW92ZVByb2R1Y3Qoc3RvY2tfcGFyYW1ldGVyKXsNCiAgICAgIHN0b2NrX3BhcmFtZXRlci5pc19hZGRlZCA9IGZhbHNlDQogICAgICBzdG9ja19wYXJhbWV0ZXIucXVhbnRpdHkgPSAnJw0KICAgIH0sDQogICAgY3JlYXRlTmV4dFByb2Nlc3MoKSB7DQogICAgICBpZih0aGlzLiRyb290LnVzZXJfdHlwZSE9J3N1cGVydmlzb3InKXsNCiAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1lvdSBjYW5ub3QgYWRkIHRvIHRoaXMgcHJvY2VzcyEnLCdyZWQnKQ0KICAgICAgICAvLyByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdpbnB1dHMnLHRoaXMucHJvY2Vzc19kZXRhaWwuaW5wdXRzKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGFydF9wcm9jZXNzJyx0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N1cGVydmlzb3InLHRoaXMuZW1wbG95ZWVJZCkNCiAgICAgIGlmKHRoaXMubG9ja19idG4pew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMubG9ja19idG4gPSB0cnVlDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzX3Byb2R1Y3RzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5nZXRQcm9jZXNzRGV0YWlscygpDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScsJ3JlZCcpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["processing-component.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"processing-component.vue","sourceRoot":"src/views/app/oodo/production/process","sourcesContent":["<template>\r\n  <div class=\"main-content create-main\">\r\n    <form ref=\"dataForm\" @submit.prevent=\"dataForm()\" v-if=\"is_start\">\r\n      <div class=\"d-flex mb-2 align-items-center  justify-content-between\">\r\n        <slot name=\"header\">\r\n          <h5 class=\"mb-0\"><span class=\"text-success\">{{process_detail.name}}</span> / {{slugToWord(action=='attribute'?'cut shape':action)}}</h5>\r\n        </slot>\r\n        <div class=\"d-flex\">\r\n          <div class=\"d-flex\" v-if=\"action=='input'\">\r\n            <b-button variant=\"success\" type=\"button\" class=\" px-3 py-1  d-sm-block mx-1\" @click=\"dataForm()\">Start Process\r\n            </b-button>\r\n          </div>\r\n          <div class=\"d-flex\" v-else>\r\n            <b-button variant=\"success\" type=\"button\" class=\" px-3 py-1  d-sm-block mx-1\" @click=\"dataForm()\" v-if=\"!is_view && action!='stop'\">Save\r\n            </b-button>\r\n          </div>\r\n          <b-button variant=\"danger\" class=\" px-3 py-1  d-sm-block mx-1\" @click=\"closePopup()\"\r\n            >Discard\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n      <div class=\" my-3 border-top\" v-if=\"action!='stop'\"></div>\r\n      <fieldset :disabled=\"is_view\">\r\n        <b-row class=\"main-scroll\">\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='input'\">\r\n            <div>\r\n              <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n                <div class=\"\">\r\n                  <table class=\"table mt-2 w-100\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Input</th>\r\n                        <th>Lot</th>\r\n                        <th>Available Qty(KG)</th>\r\n                        <th>Quantity(KG)</th>\r\n                        <th>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"(stock_parameter,key) in stock_parameters\">\r\n                        <td :style=\"stock_parameter.is_added?'opacity:1':'opacity:0.5'\">\r\n                          {{stock_parameter.parameter_detail.name}}\r\n                        </td>\r\n                        <td :style=\"stock_parameter.is_added?'opacity:1':'opacity:0.5'\">\r\n                          #{{stock_parameter.lot}}/Lot\r\n                          <input type=\"hidden\" :name=\"'lot'+stock_parameter.id\" :value=\"stock_parameter.lot\">\r\n                        </td>\r\n                        <td :style=\"stock_parameter.is_added?'opacity:1':'opacity:0.5'\">\r\n                          {{stock_parameter.stock_quantity}}\r\n                        </td>\r\n                        <td :style=\"stock_parameter.is_added?'opacity:1':'opacity:0.5'\">\r\n                          <input type=\"number\" class=\"ui-autocomplete-input w-100\" :max=\"stock_parameter.stock_quantity\" v-model=\"stock_parameter.quantity\" :name=\"'quantity'+stock_parameter.id\" :disabled=\"!stock_parameter.is_added\">\r\n                          <input type=\"hidden\" :name=\"'is_added'+stock_parameter.id+'lot'\" :value=\"stock_parameter.is_added?'yes':'no'\" min=\"0\">\r\n                        </td>\r\n                        <td>\r\n                          <button type=\"button\" class=\"btn btn-primary btn-sm px-3 py-1 ml-4\" @click=\"addProduct(stock_parameter)\" v-if=\"!stock_parameter.is_added\">Add</button>\r\n                          <button type=\"button\" class=\"btn btn-danger btn-sm px-3 py-1 ml-4\" @click=\"removeProduct(stock_parameter)\" v-else>Remove</button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </b-card>\r\n            </div>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-show=\"action=='batch'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"o_thread_search_input\" v-for=\"(process_product,key) in form_data.start_process_detail.process_products\">\r\n                      <span style=\"width:90px;\"> {{key==0?'Input :':''}} </span>\r\n                      <input placeholder=\"Product\" type=\"text\" class=\"ui-autocomplete-input\" :value=\"process_product.parameter_detail.name\" readonly style=\"width:120px\">\r\n                      <button class=\"btn btn-white append_btn_left\" type=\"button\">Lot</button>\r\n                      <input placeholder=\"Lot\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"process_product.lot\" name=\"lot\" min=\"0\" readonly>\r\n                      <button class=\"btn btn-white append_btn_left\" type=\"button\" v-show=\"!process_detail.is_dryer\">Qty(KG)</button>\r\n                      <input placeholder=\"Quantity\" type=\"number\" min=\"0\" class=\"ui-autocomplete-input append_btn_input_right\" :value=\"process_product.quantity\" :max=\"process_product.quantity\" name=\"quantity\" v-show=\"!process_detail.is_dryer\" readonly>\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:90px;\"> Shift: </span>\r\n                      <select class=\"ui-autocomplete-input w-100 ml-1\" name=\"shift\" v-model=\"form_data.shift\">\r\n                        <option v-for=\"shift in shifts\" :value=\"shift\"> {{shift}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:90px;\"> Date : </span>\r\n                      <input placeholder=\"Date\" type=\"date\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.date\" name=\"date\" required>\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <input type=\"hidden\" name=\"lot\" v-model=\"form_data.lot\">\r\n                      <select name=\"other_lots\" v-model=\"form_data.other_lots\" multiple v-show=\"false\">\r\n                        <option v-for=\"lot in form_data.other_lots\" :value=\"lot\">{{lot}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <input type=\"hidden\" name=\"status\" value=\"Starting\">\r\n                    <input type=\"hidden\" name=\"is_organic\" v-model=\"form_data.is_organic\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-show=\"action=='machine'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"\" v-if=\"process_detail.is_machine\">\r\n                      <div class=\"o_thread_search_input mt-3\">\r\n                        <b> Machine Details </b>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input\">\r\n                        <span style=\"width:90px;\"> Run Time: </span>\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">Start</button>\r\n                        <input placeholder=\"00:01\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.start_time\" name=\"start_time\" style=\"margin-right:10px\">\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">End</button>\r\n                        <input placeholder=\"00:10\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.end_time\" name=\"end_time\">\r\n                      </div>\r\n                      <div class=\"o_thread_search_input mt-2\">\r\n                        <span style=\"width:90px\"> Machines: </span>\r\n                        <div class=\"ui-autocomplete-input w-100 ml-1\">\r\n                          <span v-for=\"machine in form_data.machines\">\r\n                            <span class=\"badge badge-success p-1 mr-1\"> {{machine.name}}</span>\r\n                          </span>\r\n                        </div>\r\n                        <select name=\"machines\" multiple v-show=\"false\">\r\n                          <option v-for=\"machine in form_data.machines\" :value=\"machine.id\" selected> {{machine.name}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-show=\"action=='dryer'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"\" v-if=\"process_detail.is_dryer\">\r\n                      <div class=\"o_thread_search_input mt-3\">\r\n                        <b> Dryer Details </b>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input\">\r\n                        <span style=\"width:90px;\"> Date: </span>\r\n                        <input placeholder=\"\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" :value=\"dateFormate(form_data.start_process_detail.dryer_details.dryer_start_date)\" readonly>\r\n                        <input placeholder=\"\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" :value=\"dateFormate(form_data.start_process_detail.dryer_details.dryer_end_date)\" style=\"margin-left:14px\" readonly>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input\">\r\n                        <span style=\"width:90px;\"> Run Time: </span>\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">Start</button>\r\n                        <input placeholder=\"00:01\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.dryer_details.dryer_start_time\" name=\"dryer_start_time\" style=\"margin-right:10px\">\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">End</button>\r\n                        <input placeholder=\"00:10\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.dryer_details.dryer_end_time\" name=\"dryer_end_time\">\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"o_thread_search_input w-50 mt-3\">\r\n                          <span style=\"width:90px;\"> Dryer stock : </span>\r\n                          <b class=\"mx-2\">{{form_data.start_process_detail.dryer_details.total_quantity}}KG</b>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input mt-2\">\r\n                        <span style=\"width:90px\"> Dryer: </span>\r\n                        <div class=\"ui-autocomplete-input w-100 ml-1\">\r\n                          <span v-for=\"machine in form_data.machines\" v-if=\"machine.note_stock\">\r\n                            <span class=\"badge badge-success p-1 mr-1\"> {{machine.name}}</span>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-show=\"action=='firewood'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"\" v-if=\"process_detail.is_dryer\">\r\n                      <div class=\"o_thread_search_input mt-3\">\r\n                        <b> Firewood Details </b>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input\">\r\n                        <span style=\"width:90px;\"> Date: </span>\r\n                        <input placeholder=\"\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" :value=\"dateFormate(form_data.start_process_detail.firewood_details.firewood_start_date)\" readonly>\r\n                        <input placeholder=\"\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" :value=\"dateFormate(form_data.start_process_detail.firewood_details.firewood_end_date)\" style=\"margin-left:14px\" readonly>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input\">\r\n                        <span style=\"width:100px;\"> Run Time: </span>\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">Start</button>\r\n                        <input placeholder=\"00:01\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.firewood_details.firewood_start_time\" name=\"firewood_start_time\" style=\"margin-right:10px\">\r\n                        <button class=\"btn btn-white append_btn_left\" type=\"button\">End</button>\r\n                        <input placeholder=\"00:10\" type=\"time\" class=\"ui-autocomplete-input append_btn_input_left\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.firewood_details.firewood_end_time\" name=\"firewood_end_time\">\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"o_thread_search_input w-50 mt-3\">\r\n                          <span style=\"width:100px;\"> Total firewood : </span>\r\n                          <b class=\"mx-2\">{{form_data.start_process_detail.firewood_details.total_quantity}}KG</b>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input mt-2\">\r\n                        <span style=\"width:100px\"> Dryer: </span>\r\n                        <div class=\"ui-autocomplete-input w-100 ml-1\">\r\n                          <span v-for=\"machine in form_data.machines\" v-if=\"machine.note_stock\">\r\n                            <span class=\"badge badge-success p-1 mr-1\"> {{machine.name}}</span>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='boiler'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"o_thread_search_input\" v-if=\"!is_view\">\r\n                      <span style=\"width:90px;\"> Select Boiler : </span>\r\n                      <select name=\"boilers\" v-model=\"form_data.start_process_detail.boilers\" multiple>\r\n                        <option v-for=\"boiler in boilers\" :value=\"boiler.id\">{{boiler.name}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\" v-if=\"form_data.start_process_detail.boilers.length>0 && is_view\">\r\n                      <span style=\"width:90px;\"> Boiler : </span>\r\n                      <input placeholder=\"Date\" type=\"date\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.date\" name=\"date\" required>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='cut_shape'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div :class=\"add_new_shape?'col-md-7':'col-md-12'\">\r\n                  <b> Select Cut Shape </b>\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:120px;\"> Cut Shape : </span>\r\n                      <select v-model=\"form_data.start_process_detail.attribute_detail.cut_shape_detail\" @change=\"form_data.start_process_detail.attribute_detail.cut_shape_detail.id?setShapeName():add_new_shape=true\">\r\n                        <option :value=\"{id:null}\" class=\"text-success\">Create New Shape</option>\r\n                        <option v-for=\"cut_shape in cut_shapes\" :value=\"cut_shape\">{{cut_shape.name}}</option>\r\n                      </select>\r\n                      <select class=\"ui-autocomplete-input\" placeholder=\"Unit\" name=\"unit\" v-model=\"form_data.start_process_detail.attribute_detail.unit\" @change=\"form_data.start_process_detail.attribute_detail.cut_shape_detail.id?setShapeName():add_new_shape=true\">\r\n                        <option v-for=\"unit in units\" :value=\"unit\">{{unit}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div v-if=\"form_data.start_process_detail.attribute_detail.cut_shape_detail.id && form_data.start_process_detail.attribute_detail.cut_shape_detail.dimension && form_data.start_process_detail.attribute_detail.unit\">\r\n                      <div class=\"o_thread_search_input\" style=\"margin-right:10px\" v-for=\"(dimension,key) in parseInt(form_data.start_process_detail.attribute_detail.cut_shape_detail.dimension)\">\r\n                        <span style=\"width:120px;\" v-if=\"key==0\"> Cut Dimension: </span>\r\n                        <span style=\"width:120px;\" v-else> </span>\r\n                        <input placeholder=\"Dimension\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" value=\"\" :id=\"'dimension'+key\" @input=\"setShapeName()\">\r\n                        <button class=\"btn btn-white append_btn_right\" type=\"button\">{{form_data.start_process_detail.attribute_detail.unit}}</button>\r\n                        <span style=\"width:40%;\"> </span>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input mt-3\">\r\n                        <span style=\"width:120px;\"> Shape : </span>\r\n                        <input placeholder=\"Size\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.attribute_detail.size\" name=\"size\" readonly>\r\n                        <input type=\"hidden\" name=\"cut_shape\" v-model=\"form_data.start_process_detail.attribute_detail.cut_shape_detail.id\"/>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-5 border-left\" v-if=\"add_new_shape\">\r\n                  <b> Create New Shape </b>\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:90px;\"> Name: </span>\r\n                      <input placeholder=\"Name\" type=\"text\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"new_shape.name\">\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:90px;\"> Dimension: </span>\r\n                      <input placeholder=\"Dimension\" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"new_shape.dimension\">\r\n                    </div>\r\n                    <!-- <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:90px;\"> Operation: </span>\r\n                      <select class=\"ui-autocomplete-input\" name=\"operation\" v-model=\"new_shape.operation\">\r\n                        <option v-for=\"operation in ['',' ','x']\" :value=\"operation\">{{operation}}</option>\r\n                      </select>\r\n                    </div> -->\r\n                    <div class=\"text-right px-2 mt-2\">\r\n                      <input type=\"hidden\" name=\"operation\" value=\"x\">\r\n                      <b-button variant=\"success\" class=\"px-2 py-1 w-25\" :disabled=\"!new_shape.name || !new_shape.dimension\" @click=\"createShape()\">Create</b-button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='sieving'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:120px;\"> Select Siev : </span>\r\n                      <select name=\"siev\" v-model=\"form_data.start_process_detail.siev\">\r\n                        <optgroup v-for=\"machine in form_data.machines\" :label=\"machine.name\">\r\n                          <option v-for=\"spare in machine.spares\" :value=\"spare.id\">{{spare.spare_name}}</option>\r\n                        </optgroup>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='vesels'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-2\"></div>\r\n                <div class=\"col-md-8\">\r\n                  <div class=\"user-info pt-2 mb-5\">\r\n                    <div class=\"text-center mb-4\">\r\n                      <img src=\"/img/chemp.png\" style=\"height:200px\">\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:120px;\"> {{slugToWord('number_of_vesels')}} : </span>\r\n                      <input placeholder=\"Vesels\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.number_of_vesels\" name=\"number_of_vesels\">\r\n                      <button class=\"btn btn-white append_btn_right\" type=\"button\">Number</button>\r\n                    </div>\r\n                    <div class=\"o_thread_search_input\">\r\n                      <span style=\"width:120px;\"> {{slugToWord('total_uses')}} : </span>\r\n                      <input placeholder=\"Uses\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" v-model=\"form_data.start_process_detail.uses_of_vesels\" name=\"uses_of_vesels\">\r\n                      <button class=\"btn btn-white append_btn_right\" type=\"button\">Number</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='employee_participate'\">\r\n            <WorkersForm :worker_data=\"form_data.labour_detail\" :work_type=\"'wages'\"></WorkersForm>\r\n            <div class=\"o_thread_search_input mt-2\">\r\n              <input type=\"hidden\" name=\"labour_type\" value=\"Labours\">\r\n            </div>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='unloading'\">\r\n            <WorkersForm :worker_data=\"form_data.unloading\" :work_type=\"'contract'\"></WorkersForm>\r\n            <div class=\"o_thread_search_input mt-2\">\r\n              <input type=\"hidden\" name=\"labour_type\" value=\"Unloading Labours\">\r\n            </div>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='packing_labours'\">\r\n            <WorkersForm :worker_data=\"form_data.unloading\" :work_type=\"'contract'\"></WorkersForm>\r\n            <div class=\"o_thread_search_input mt-2\">\r\n              <input type=\"hidden\" name=\"labour_type\" value=\"Packing Labours\">\r\n            </div>\r\n          </b-col>\r\n          <b-col lg=\"12\" xl=\"12\" class=\"my-3\" v-if=\"action=='stop'\">\r\n            <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"text-center mb-5\">\r\n                    <img src=\"/img/quality.png\" style=\"height:200px\">\r\n                    <h5 class=\"my-3\"><span class=\"text-success\">{{process_detail.name}}</span> Complete Process</h5>\r\n                    <div class=\"mb-3\" v-if=\"process_detail.next_process_details.length>0\">\r\n                      <div> Next Process: </div>\r\n                      <div class=\"mt-2\">\r\n                        <b-button type=\"button\" variant=\"outline-success\" class=\"mx-1 py-2\" v-for=\"next in next_processes\" @click=\"form_data.next_process=next.id;form_data.complete_process=true;dataForm()\">#{{next.sort_order}}/{{next.name}}</b-button>\r\n                      </div>\r\n                      <!-- <select class=\"ui-autocomplete-input w-25 p-2 mx-1\" name=\"next_process\" v-model=\"form_data.next_process\">\r\n                        <option v-for=\"next in next_processes\" :value=\"next.id\"> #{{next.sort_order}}/{{next.name}}</option>\r\n                        <option value=\"\">Complete & Finish Process</option>\r\n                      </select> -->\r\n                    </div>\r\n                    <div class=\"mt-2\">\r\n                      <b-button variant=\"outline-danger\" class=\"mx-1 py-2\" @click=\"form_data.next_process='';form_data.complete_process=true;dataForm()\"> Finish & Complete Process</b-button>\r\n                    </div>\r\n                    <!-- <div>\r\n                      <input type=\"checkbox\" name=\"complete_process\" v-model=\"form_data.complete_process\" v-show=\"false\">\r\n                      <button type=\"button\" class=\"btn\" :class=\"form_data.complete_process?'btn-success':'btn-outline-success'\" @click=\"form_data.complete_process=true;dataForm()\">YES</button>\r\n                      <button type=\"button\" class=\"btn ml-2\" :class=\"!form_data.complete_process?'btn-danger':'btn-outline-danger'\" @click=\"form_data.complete_process=false;closePopup()\">NO</button>\r\n                    </div> -->\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </b-card>\r\n          </b-col>\r\n        </b-row>\r\n      </fieldset>\r\n    </form>\r\n    <div style=\"height:84vh\" v-else>\r\n      <div>\r\n        <div class=\"loader_logo\">\r\n          <img src=\"/img/logo.png\" class=\"\" alt=\"logo\">\r\n        </div>\r\n\r\n        <div class=\"loading\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport WorkersForm from '/src/views/app/oodo/components/workers-form'\r\nexport default {\r\n  props: ['process_detail_id','start_process_id','processing_id','action','is_view'],\r\n  components:{\r\n    WorkersForm\r\n  },\r\n  data() {\r\n    return {\r\n      form_data:{\r\n        id:null,\r\n        date:null,\r\n        product:null,\r\n        status:'Draft',\r\n        shift:'DAY',\r\n        next_process:null,\r\n        machines:[],\r\n        start_process_detail:{process_products_list:[],main_process_detail:{},firewood_details:{},dryer_details:{},attribute_detail:{id:null,cut_shape_detail:{id:null, name:'', dimension:1}}, siev:null},\r\n        other_lots:[],\r\n        lot:null,\r\n        is_organic:false,\r\n        process_outputs:[],\r\n        barrel_detail:{},\r\n        next_process:null,\r\n        consumable_items_list:[],\r\n        labour_detail:{\r\n          workers:[],\r\n          wage_workers:[],\r\n          work_type:'wages',\r\n          overtime_hourse_st1:2,\r\n        },\r\n        unloading:{\r\n          workers:[],\r\n          wage_workers:[],\r\n          work_type:'wages',\r\n          overtime_hourse_st1:2,\r\n        },\r\n        packing_labours:{\r\n          workers:[],\r\n          wage_workers:[],\r\n          work_type:'wages',\r\n          overtime_hourse_st1:2,\r\n        },\r\n      },\r\n      process_detail:{outputs:[],consumable_items_list:[],inputs:[]},\r\n      packing_materials:[],\r\n      indent_packings:[],\r\n      barrel_id:null,\r\n      id:null,\r\n      product_name : '',\r\n      total_weight:0,\r\n      total_output:0,\r\n      barrels:[],\r\n      next_processes:[],\r\n      stock_parameters:[],\r\n      is_start:false,\r\n      filter_material:{specifications:[]},\r\n      materials:[],\r\n      specifications:[],\r\n      boilers:[],\r\n      cut_shapes:[],\r\n      new_shape:{id:null, name:'', dimension:1},\r\n      add_new_shape:false,\r\n      packing_note:'',\r\n    };\r\n  },\r\n  mounted() {\r\n    this.form_data.date = this.currentDate()\r\n    if(this.processing_id){\r\n      this.getProcess()\r\n    }else{\r\n      this.getProcessDetails()\r\n    }\r\n  },\r\n  methods: {\r\n    getProcess() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/processing/'+this.processing_id+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.form_data = jsonData\r\n        this.getProcessDetails()\r\n      })\r\n    },\r\n    getProcessDetails() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/process_details/'+this.process_detail_id+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.process_detail = jsonData\r\n        this.form_data.machines = jsonData.machines\r\n        var self = this\r\n        if(!this.form_data.contract_labour_charge){\r\n          this.form_data.contract_labour_charge = jsonData.production_process_detail.labour_charge\r\n        }\r\n        if(this.action=='stop'){\r\n          this.nextProcesses()\r\n        }\r\n        this.getStartProcess()\r\n      })\r\n    },\r\n    getStartProcess() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/start_process/'+this.start_process_id+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(!jsonData.attribute){\r\n          jsonData.attribute_detail = {id:null, size:'', unit:'', cut_shape_detail:{id:null, name:'', operation:'', dimension:1}}\r\n        }\r\n        this.form_data.start_process_detail = jsonData\r\n        var last_process_id = null \r\n        jsonData.processes.forEach(function(val,key){\r\n          last_process_id = val.id\r\n        })\r\n        if(!this.process_detail.barrel_input && jsonData.process_products.length<=0){\r\n          this.stockParameter()\r\n        }else{\r\n          if(this.action=='input')this.action = 'batch';\r\n        }\r\n        var lots = [];\r\n        var lot = null;\r\n        var total = 0;\r\n        var is_organic = true\r\n        jsonData.process_products.forEach(function(val,key){\r\n          if(!val.is_organic){\r\n            is_organic = false\r\n          }\r\n          if(key==0)lot=val.lot\r\n          lots.push(val.lot)\r\n        })\r\n        this.total_weight = jsonData.total_weight\r\n        this.form_data.lot = lot\r\n        this.form_data.is_organic = is_organic\r\n        this.form_data.other_lots = lots\r\n        if(this.action=='boiler'){\r\n          this.getBoilers()\r\n        }if(this.action=='cut_shape'){\r\n          this.getCutShapes()\r\n        }\r\n        this.is_start = true\r\n      })\r\n    },\r\n    getBoilers() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/security/boiler/?status=On', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.boilers = jsonData\r\n      })\r\n    },\r\n    setShapeName() {\r\n      var name =''\r\n      this.add_new_shape = false\r\n      var dimensions = parseInt(this.form_data.start_process_detail.attribute_detail.cut_shape_detail.dimension)\r\n      for (var d=0; d<dimensions; d++){\r\n        var value = document.getElementById('dimension'+d)\r\n        if(value && value.value){\r\n          name += value.value+this.form_data.start_process_detail.attribute_detail.unit\r\n          if(this.form_data.start_process_detail.attribute_detail.cut_shape_detail.operation && dimensions>1 && d<(dimensions-1)){\r\n            name += this.form_data.start_process_detail.attribute_detail.cut_shape_detail.operation\r\n          }else{\r\n            name += ' '\r\n          }\r\n        }\r\n      }\r\n      this.form_data.start_process_detail.attribute_detail.size = this.form_data.start_process_detail.attribute_detail.cut_shape_detail.name+', '+name\r\n    },\r\n    getCutShapes() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/product/cut_shapes/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.cut_shapes = jsonData\r\n      })\r\n    },\r\n    createShape() {\r\n      if(!this.new_shape.name || !this.new_shape.dimension){\r\n        this.showAlert('Please fill form data!','red')\r\n        return false\r\n      }\r\n      var formdata = new FormData()\r\n      formdata.append('name',this.new_shape.name)\r\n      formdata.append('dimension',this.new_shape.dimension)\r\n      if(this.new_shape.operation)formdata.append('operation',this.new_shape.operation);\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/product/cut_shapes/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.add_new_shape = false\r\n          this.getCutShapes()\r\n          this.form_data.start_process_detail.attribute_detail.cut_shape_detail = jsonData\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n    dataForm() {\r\n      if(this.action=='input'){\r\n        this.createNextProcess()\r\n      }\r\n      if(this.action == 'batch'){\r\n        this.form_data.status = 'Starting'\r\n        this.processForm()\r\n      }else if(this.action == 'machine'){\r\n        this.form_data.status = 'Running'\r\n        this.processForm()\r\n      }else if(this.action == 'firewood' || this.action == 'dryer'){\r\n        this.form_data.status = 'Starting'\r\n        this.processForm()\r\n      }else if(this.action == 'boiler' || this.action == 'cut_shape' || this.action == 'sieving' || this.action == 'vesels'){\r\n        this.startProcessForm()\r\n      }else if(this.action == 'unloading' || this.action == 'employee_participate' || this.action == 'packing_labours'){\r\n        if(this.action == 'employee_participate' && (this.process_detail.is_restacking || this.process_detail.auto_output)){\r\n          this.form_data.status = 'Completed'\r\n        }\r\n        if(this.action == 'unloading'){\r\n          this.form_data.status = 'Completed'\r\n        }\r\n        this.processLaboursForm()\r\n      }else if(this.action == 'stop'){\r\n        this.completeProcess()\r\n      }\r\n    },\r\n    startProcessForm() {\r\n      var formdata = new FormData()\r\n      formdata.append('main_process',this.form_data.start_process_detail.main_process)\r\n      formdata.append('process_detail',this.form_data.start_process_detail.process_detail)\r\n      formdata.append('supervisor',this.form_data.start_process_detail.supervisor)\r\n      if(this.form_data.start_process_detail.boilers.length>0){\r\n        formdata.append('boilers',this.form_data.start_process_detail.boilers)\r\n      }\r\n      if(this.form_data.start_process_detail.attribute_detail.size && this.form_data.start_process_detail.attribute_detail.cut_shape_detail.id){\r\n        formdata.append('cut_shape',this.form_data.start_process_detail.attribute_detail.cut_shape_detail.id)\r\n        formdata.append('size',this.form_data.start_process_detail.attribute_detail.size)\r\n        formdata.append('unit',this.form_data.start_process_detail.attribute_detail.unit)\r\n      }\r\n      if(this.form_data.start_process_detail.siev){\r\n        formdata.append('siev',this.form_data.start_process_detail.siev)\r\n      }\r\n      if(this.form_data.start_process_detail.number_of_vesels){\r\n        formdata.append('number_of_vesels',this.form_data.start_process_detail.number_of_vesels)\r\n        formdata.append('uses_of_vesels',this.form_data.start_process_detail.uses_of_vesels)\r\n      }\r\n      formdata.append('status',this.form_data.start_process_detail.status)\r\n\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/start_process/'+this.start_process_id+'/', {\r\n          method : 'PUT',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.closePopup()\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n    processForm(method='POST') {\r\n      if(this.$root.user_type!='supervisor'){\r\n        this.showAlert('You cannot add to this process!','red')\r\n        // return false\r\n      }\r\n      var param = ''\r\n      if(this.form_data.id){\r\n        method = 'PUT'\r\n        param = this.form_data.id+'/'\r\n      }\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      formdata.append('supervisor',this.employeeId)\r\n      formdata.append('status',this.form_data.status)\r\n      formdata.append('start_process',this.start_process_id)\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/processing/'+param, {\r\n          method : method,\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.form_data.id = jsonData.id\r\n          this.closePopup()\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n    processLaboursForm(method='POST') {\r\n      var param = ''\r\n      if(this.action == 'unloading' && this.form_data.unloading.id){\r\n        method = 'PUT'\r\n        param = this.form_data.unloading.id+'/'\r\n      }else if(this.action == 'packing_labours' && this.form_data.packing_labours.id){\r\n        method = 'PUT'\r\n        param = this.form_data.packing_labours.id+'/'\r\n      }else if(this.action == 'employee_participate' && this.form_data.labour_detail.id){\r\n        method = 'PUT'\r\n        param = this.form_data.labour_detail.id+'/'\r\n      }\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      formdata.append('process',this.form_data.id)\r\n      formdata.append('status','Completed')\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/process_labours/'+param, {\r\n          method : method,\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.form_data.unloading = jsonData\r\n          this.closePopup()\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n    getIndents() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/product/indent/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.indent_packings = jsonData\r\n      })\r\n    },\r\n    nextProcesses() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/process_details/?next_process_detail='+this.process_detail.id, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.next_processes = jsonData\r\n        if(jsonData.length>0){\r\n          this.form_data.next_process = this.next_processes[0].id\r\n        }\r\n      })\r\n    },\r\n    completeProcess() {\r\n      if(this.$root.user_type!='supervisor'){\r\n        this.showAlert('You cannot complete to this process!','red')\r\n        // return false\r\n      }\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      formdata.append('supervisor',this.employeeId)\r\n      formdata.append('process_detail',this.process_detail.id)\r\n      formdata.append('start_process',this.start_process_id)\r\n      formdata.append('process',this.form_data.id)\r\n      formdata.append('next_process', this.form_data.next_process)\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/complete_process/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.success){\r\n          this.showAlert('Saved Successfully!')\r\n          this.closePopup()\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n    closePopup(){\r\n      this.$emit('closePopup', true)\r\n    },\r\n    stockParameter() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/products_stock/?process_detail='+this.process_detail.id+'&warehouse='+this.form_data.start_process_detail.main_process_detail.warehouse, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.stock_parameters = jsonData\r\n      })\r\n    },\r\n    addProduct(stock_parameter){\r\n      stock_parameter.is_added = true\r\n      stock_parameter.quantity = stock_parameter.stock_quantity\r\n    },\r\n    removeProduct(stock_parameter){\r\n      stock_parameter.is_added = false\r\n      stock_parameter.quantity = ''\r\n    },\r\n    createNextProcess() {\r\n      if(this.$root.user_type!='supervisor'){\r\n        this.showAlert('You cannot add to this process!','red')\r\n        // return false\r\n      }\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      formdata.append('inputs',this.process_detail.inputs)\r\n      formdata.append('start_process',this.start_process_id)\r\n      formdata.append('supervisor',this.employeeId)\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/process_products/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.getProcessDetails()\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!','red')\r\n        }\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n\r\n@import '../../styles/style.css';\r\n\r\n.work_type_option .btn.btn-outline-primary{\r\n  padding:5px 10px;\r\n}\r\n.packing-form .modal.show .modal-dialog {\r\n    min-width: 90%!important;\r\n}\r\n</style>\r\n"]}]}