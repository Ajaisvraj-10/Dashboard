{"remainingRequest":"E:\\vue_projects\\flora_driver\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\flora_driver\\src\\views\\app\\pages\\task.vue?vue&type=style&index=0&id=586c4f38&scoped=true&lang=css&","dependencies":[{"path":"E:\\vue_projects\\flora_driver\\src\\views\\app\\pages\\task.vue","mtime":1639159291599},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\flora_driver\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCkBpbXBvcnQgJy4vc3R5bGUvc3R5bGUuY3NzJzsNCiAgDQo="},{"version":3,"sources":["task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA","file":"task.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\">\r\n    <main >\r\n      <div>\r\n          <b-sidebar\r\n              id=\"sidebar-backdrop\"\r\n              title=\"\"\r\n              bg-variant=\"white\"\r\n              backdrop\r\n              shadow\r\n          >\r\n              <div class=\"px-3 pt-2 pb-0\">\r\n                  <div class=\"d-flex px-2 py-3 border-bottom align-items-center\">\r\n                      <div class=\"border\">\r\n                          <img :src=\"profile.image\" width=\"80\" style=\"aspect-ratio:1.1;object-fit: cover;object-position: top;padding: 5px;\">\r\n                      </div>\r\n                      <div class=\"col flex-grow-1\">\r\n                          <h5 class=\"my-1\">{{profile.first_name}} {{profile.last_name}}</h5>\r\n                          <p class=\"text-gray text-13\">+{{profile.dial_code}} {{profile.phone}}</p>\r\n                      </div>\r\n                  </div>\r\n                  <ul class=\"px-2 py-4\">\r\n                      <router-link to=\"/delivery\">\r\n                        <li style=\"color:#47404f!important\">Delivery History</li>\r\n                      </router-link>\r\n                      <!-- <router-link to=\"/payment-recieved\">\r\n                        <li style=\"color:#47404f!important\">Payment Recieved</li>\r\n                      </router-link> -->\r\n                      <li @click=\"signOut()\">Logout</li>\r\n                  </ul>\r\n              </div>\r\n          </b-sidebar>\r\n          <div class=\"header-flora\">\r\n              <div class=\"container d-flex justify-content-between align-items-center px-4 py-3\">\r\n                  <div v-b-toggle.sidebar-backdrop> <i class=\"fas fa-bars text-18\"></i></div>\r\n                  <div >\r\n                      <img src=\"/images/logo.png\" width=\"110\">\r\n                  </div>\r\n                  <div > \r\n                      <!-- <i class=\"fas fa-search text-18\"></i> -->\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n      <div class=\"body-flora-2 px-4 pb-3 pt-0\">\r\n\r\n        <div>\r\n          <b-tabs content-class=\"mt-4\">\r\n            <b-tab title=\"New\" active @click=\"getNewTasks()\">\r\n           \r\n              <div class=\"card mb-3\" v-for=\"new_task in new_tasks\">\r\n                <div class=\"d-flex justify-content-between align-items-center bg-lightgray p-3\">\r\n                  <h4 class=\"\">#{{new_task.order_id}}</h4>\r\n                  <router-link :to=\"'/task-details/'+new_task.id\">\r\n                    <button class=\"btn btn-sm text-white radius-0 px-4 py-1\" style=\"margin-right:-15px;\" :class=\"new_task.delivery_type=='Delivery'?'btn-success':'btn-warning'\">{{new_task.delivery_type}}</button>\r\n                  </router-link>\r\n\r\n                </div>\r\n                <div class=\"d-flex justify-content-between p-3\">\r\n                  <h5 class=\" \">{{new_task.customer_name}}</h5>\r\n                  <p class=\"m-0  text-12\" v-if=\"new_task.delivery_time\">{{new_task.delivery_time.start_time[0]}} - {{new_task.delivery_time.end_time[0]}}</p>\r\n\r\n\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center\" v-if=\"new_tasks.length==0\">\r\n                No new tasks!\r\n              </div>\r\n            </b-tab>\r\n            <b-tab title=\"Completed\" @click=\"getNewTasks()\">\r\n              <div class=\"card mb-3\" v-for=\"completed_task in completed_tasks\">\r\n                <div class=\"d-flex justify-content-between align-items-center bg-lightgray p-3\">\r\n                  <h4 class=\"\">#{{completed_task.order_id}}</h4>\r\n                  <router-link :to=\"'/task-details/'+completed_task.id\">\r\n                    <button class=\"btn btn-sm text-white radius-0 px-4 py-1\" style=\"margin-right:-15px;\" :class=\"completed_task.delivery_type=='Delivery'?'btn-success':'btn-warning'\">{{completed_task.delivery_type}}</button>\r\n                  </router-link>\r\n\r\n                </div>\r\n                <div class=\"d-flex justify-content-between p-3\">\r\n                  <h5 class=\" \">{{completed_task.customer_name}}</h5>\r\n                  <p class=\"m-0  text-12\">Completed</p>\r\n\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center\" v-if=\"completed_tasks.length==0\">\r\n                No completed tasks!\r\n              </div>\r\n            </b-tab>\r\n            \r\n          </b-tabs>\r\n        </div>   \r\n      </div>\r\n    </main>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Home\"\r\n  },\r\n  data() {\r\n    return {\r\n      new_tasks:[],\r\n      completed_tasks:[],\r\n      profile:[],\r\n    };\r\n  },\r\n  mounted(){\r\n    this.checkLogin()\r\n    this.getNewTasks() \r\n    this.getProfile()\r\n  },\r\n  methods: {\r\n    getProfile() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/driver/profile/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.profile = jsonData[0]\r\n      })\r\n    },\r\n    getNewTasks() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/driver/tasks/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.new_tasks = jsonData.new\r\n        this.completed_tasks = jsonData.completed\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n</style>\r\n"]}]}