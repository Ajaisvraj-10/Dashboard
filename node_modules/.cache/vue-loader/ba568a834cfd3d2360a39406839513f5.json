{"remainingRequest":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\production\\sundried\\yard-unloading.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\production\\sundried\\yard-unloading.vue","mtime":1676395914174},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRmllbGRzIGZyb20gJ0AvZGF0YS9GaWVsZHMnDQppbXBvcnQgY29udGFjdHMgZnJvbSAnQC9kYXRhL2xpc3RfZ3JpZCcNCmltcG9ydCBUYWJsZUhlYWRlciBmcm9tICcvc3JjL3ZpZXdzL2FwcC9vb2RvL2NvbXBvbmVudHMvdGFibGVfaGVhZGVyJw0KZXhwb3J0IGRlZmF1bHQgew0KICBtZXRhSW5mbzogew0KICAgIC8vIGlmIG5vIHN1YmNvbXBvbmVudHMgc3BlY2lmeSBhIG1ldGFJbmZvLnRpdGxlLCB0aGlzIHRpdGxlIHdpbGwgYmUgdXNlZA0KICAgIHRpdGxlOiAiU3RhdGVzIg0KICB9LA0KICBjb21wb25lbnRzOnsNCiAgICBUYWJsZUhlYWRlcg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIllhcmQiLA0KICAgICAgICAgIGZpZWxkOiAieWFyZF9uYW1lIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICJQcm9kdWN0IiwNCiAgICAgICAgICBmaWVsZDogInByb2R1Y3QiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIkxvdCIsDQogICAgICAgICAgZmllbGQ6ICJsb3QiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIlN0YXR1cyIsDQogICAgICAgICAgZmllbGQ6ICJzdGF0dXMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIkRhdGUiLA0KICAgICAgICAgIGZpZWxkOiAiY3JlYXRlZF9vbiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAiVW5sb2FkaW5nIiwNCiAgICAgICAgICBmaWVsZDogImlkIg0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHJvd3M6IFtdLA0KICAgICAgZm9ybV9kYXRhOnt3b3JrZXJzOltdfSwNCiAgICAgIHdvcmtlcnM6W10sDQogICAgICB0b3RhbF93ZWlnaHQ6MSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCl7DQogICAgdGhpcy4kcm9vdC5jdXJyZW50X3NlY3Rpb24gPSAncHJvZHVjdGlvbicNCiAgICB0aGlzLmdldFRyYW5zZmVyVG9ZYXJkcygpDQogICAgdGhpcy5nZXRXb3JrZXJzKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFRyYW5zZmVyVG9ZYXJkcygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3RyYW5zZmVyX3RvX3lhcmQvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLnJvd3MgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFdvcmtlcnMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvd29ya2Vycy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMud29ya2VycyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgb3BlblBvcHVwVW5sb2FkaW5nKHVubG9hZCl7DQogICAgICB0aGlzLmZvcm1fZGF0YT11bmxvYWQueWFyZF91bmxvYWRpbmc7DQogICAgICBpZighdGhpcy5mb3JtX2RhdGEuaWQpew0KICAgICAgICB0aGlzLmZvcm1fZGF0YS50cmFuc2Zlcl95YXJkPXVubG9hZC5pZDsNCiAgICAgICAgdGhpcy5mb3JtX2RhdGEud29ya190eXBlPSdjb250cmFjdCc7DQogICAgICB9DQogICAgICB0aGlzLiRidk1vZGFsLnNob3coJ3VubG9hZGluZy1tb2RhbCcpDQogICAgfSwNCiAgICB1bmxvYWRpbkZvcm0obWV0aG9kPSdQT1NUJykgew0KICAgICAgdmFyIHBhcmFtPScnDQogICAgICBpZih0aGlzLmZvcm1fZGF0YS5pZCl7DQogICAgICAgIG1ldGhvZCA9ICdQVVQnDQogICAgICAgIHBhcmFtPXRoaXMuZm9ybV9kYXRhLmlkKycvJw0KICAgICAgfQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ3VubG9hZGluRm9ybSddKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCd0cmFuc2Zlcl95YXJkJyx0aGlzLmZvcm1fZGF0YS50cmFuc2Zlcl95YXJkKQ0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3lhcmRfdW5sb2FkaW5nLycrcGFyYW0sIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCd1bmxvYWRpbmctbW9kYWwnKQ0KICAgICAgICAgIHRoaXMuZ2V0VHJhbnNmZXJUb1lhcmRzKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["yard-unloading.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yard-unloading.vue","sourceRoot":"src/views/app/oodo/production/sundried","sourcesContent":["<template>\r\n  <div class=\"main-content main-content2\">\r\n    <div>\r\n       <div class=\"d-flex mb-2 align-items-center justify-content-between\">\r\n            <slot name=\"header\">\r\n               <h5 class=\"mb-0\">Transfer to Yard</h5>\r\n                  \r\n            </slot>\r\n            <div class=\"d-flex\">\r\n              <!-- <router-link tag=\"a\" class to=\"/app/production/transfer-to-yard/create\"><b-button variant=\"success\" class=\" px-3 py-1  d-sm-block mx-1\"\r\n                >+ Create\r\n              </b-button></router-link> -->\r\n            </div>\r\n           \r\n        </div>\r\n        <div class=\"my-3 border-top\"></div>\r\n    </div>\r\n    <!-- <div class=\"wrapper\"> -->\r\n    <b-card class=\"main-scroll\">\r\n      <vue-good-table\r\n        :columns=\"columns\"\r\n        :line-numbers=\"false\"\r\n        :search-options=\"{\r\n          enabled: true,\r\n          placeholder: 'Search'\r\n        }\"\r\n        :pagination-options=\"{\r\n          enabled: true,\r\n          mode: 'records'\r\n        }\"\r\n        styleClass=\"tableOne vgt-table\"\r\n        :rows=\"rows\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mb-3 filter-but\">\r\n\r\n        </div>\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span v-if=\"props.column.field == 'id'\">\r\n            <b-button type=\"button\" variant=\"primary\" class=\"px-3 py-1 d-sm-block mx-1\" @click=\"openPopupUnloading(props.row)\">{{props.row.yard_unloading.id?'Completed':'Unloading'}}</b-button>\r\n          </span>\r\n          <span v-else-if=\"props.column.field == 'lot'\">\r\n            <span v-for=\"(product_stock,key) in props.row.product_stocks\">\r\n              <span v-for=\"(stock,key2) in product_stock.stocks\">\r\n                {{key==0 && key2==0?'':', '}}#{{stock.lot}}Lot\r\n              </span>\r\n            </span>\r\n          </span>\r\n          <span v-else-if=\"props.column.field == 'product'\">\r\n            {{props.row.product_detail.category_detail.name}}> {{props.row.product_detail.name}}> {{props.row.parameter_detail.name}}\r\n          </span>\r\n          <span v-else-if=\"props.column.field == 'created_on'\">\r\n            {{dateFormate(props.row.created_on,true)}}\r\n          </span>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n\r\n    <div>\r\n      <b-modal id=\"unloading-modal\" hide-header  hide-footer :no-close-on-backdrop=\"true\">\r\n        <form ref=\"unloadinForm\" @submit.prevent=\"unloadinForm()\">\r\n          <div class=\"d-flex mb-2 align-items-center  justify-content-between\">\r\n            <slot name=\"header\">\r\n               <h5 class=\"mb-0\"><span class=\"text-success\">Unloading</span></h5>\r\n            </slot>\r\n            <div class=\"d-flex\">\r\n              <b-button type=\"submit\" variant=\"success\" class=\" px-3 py-1 d-sm-block mx-1\">Save</b-button>\r\n              <b-button type=\"button\" variant=\"danger\" class=\" px-3 py-1 d-sm-block mx-1\" @click=\"$bvModal.hide('unloading-modal')\">Close</b-button>\r\n            </div>\r\n          </div>\r\n          <div class=\" my-3 border-top\"></div>\r\n          <b-row class=\"main-scroll\">\r\n            <b-col lg=\"12\" xl=\"12\" class=\"\">\r\n              <div>\r\n                <b-form-group class=\"work_type_option\">\r\n                  <b-form-radio-group\r\n                    id=\"work_type\"\r\n                    v-model=\"form_data.work_type\"\r\n                    :options=\"['contract','wages']\"\r\n                    button-variant=\"outline-primary\"\r\n                    name=\"work_type\"\r\n                    @change=\"form_data.workers=[]\"\r\n                    buttons\r\n                    style=\"font-size:20px\"\r\n                  ></b-form-radio-group>\r\n                </b-form-group>\r\n                <b-card  header-bg-variant=\"transparent\" class=\"card-scroll\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                      <div class=\"o_thread_search_input mt-1\">\r\n                        <span style=\"width:130px\"> Select Labours: </span>\r\n                        <div class=\"mx-2 workers_box\">\r\n                          <label class=\"workers_label\" v-for=\"worker in workers\" :for=\"'worker'+worker.id\" v-if=\"(form_data.work_type=='wages' && worker.work_type=='Wage') || (form_data.work_type=='contract' && worker.work_type=='Contract') \">\r\n                            <b-form-checkbox name=\"workers\" v-model=\"form_data.workers\" :id=\"'worker'+worker.id\" :value=\"worker.id\" @input=\"form_data.total_workers=form_data.workers.length\">\r\n                              <b>#{{worker.id}}/{{worker.name}}</b>\r\n                            </b-form-checkbox>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div v-if=\"form_data.work_type=='wages'\">\r\n                        <div class=\"o_thread_search_input\">\r\n                          <span style=\"width:130px;\"> Number of Labours : </span>\r\n                          <input placeholder=\"Labours\" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.total_workers\" name=\"total_workers\" min=\"0\">\r\n                          <span style=\"width:5px;\">  </span>\r\n                          <input placeholder=\"Hourse\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" v-model=\"form_data.working_hourse\" name=\"working_hourse\" min=\"0\">\r\n                          <button class=\"btn btn-white append_btn_right\" type=\"button\">Hours</button>\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 text-right text-danger\" style=\"font-size:12px\" v-if=\"form_data.working_hourse>0 && form_data.total_workers\">\r\n                          Salary : ({{form_data.total_workers}}Labours x {{form_data.working_hourse}}Hr x Rs440)/8 = <b>Rs{{(form_data.total_workers*form_data.working_hourse*440)/8}}/-</b>\r\n                        </div>\r\n                        <div class=\"o_thread_search_input mt-2\">\r\n                          <b style=\"width:96px\"> Over Time : </b>\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 mt-2\">\r\n                          <small style=\"font-weight:700\">Double over time</small>\r\n                        </div>\r\n                        <div class=\"o_thread_search_input pt-0\">\r\n                          <span style=\"width:130px;\"> Number of Labours : </span>\r\n                          <input placeholder=\"Total Workers\" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.overtime_labours_st1\" name=\"overtime_labours_st1\" min=\"0\">\r\n                          <span style=\"width:5px;\">  </span>\r\n                          <input placeholder=\"Working Hourse\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" v-model=\"form_data.overtime_hourse_st1\" name=\"overtime_hourse_st1\" min=\"0\">\r\n                          <button class=\"btn btn-white append_btn_right\" type=\"button\">Hours</button>\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 text-right text-danger\" style=\"font-size:12px\" v-if=\"form_data.overtime_labours_st1>0 && form_data.overtime_hourse_st1\">\r\n                          Salary : (Rs440/8Hr) x 2 x {{form_data.overtime_labours_st1}}Labours x {{form_data.overtime_hourse_st1}}Hr = <b>Rs{{(440/8)*2*form_data.overtime_labours_st1*form_data.overtime_hourse_st1}}/-</b>\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 mt-2\">\r\n                          <small style=\"font-weight:700\">Single over time</small>\r\n                        </div>\r\n                        <div class=\"o_thread_search_input pt-0\">\r\n                          <span style=\"width:130px;\"> Number of Labours : </span>\r\n                          <input placeholder=\"Labours\" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.overtime_labours_st2\" name=\"overtime_labours_st2\" min=\"0\">\r\n                          <span style=\"width:5px;\">  </span>\r\n                          <input placeholder=\"Working Hourse\" type=\"number\" class=\"ui-autocomplete-input append_btn_input_right\" autocomplete=\"off\" v-model=\"form_data.overtime_hourse_st2\" name=\"overtime_hourse_st2\" min=\"0\">\r\n                          <button class=\"btn btn-white append_btn_right\" type=\"button\">Hours</button>\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 text-right text-danger\" style=\"font-size:12px\" v-if=\"form_data.overtime_labours_st2>0 && form_data.overtime_hourse_st2\">\r\n                          Salary : (Rs440/8Hr) x {{form_data.overtime_labours_st2}}Labours x {{form_data.overtime_hourse_st2}}Hr = <b>Rs{{(440/8)*form_data.overtime_labours_st2*form_data.overtime_hourse_st2}}/-</b>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div v-else>\r\n                        <div class=\"o_thread_search_input\">\r\n                          <span style=\"width:130px;\"> Number of Labours: </span>\r\n                          <input placeholder=\"Labours\" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.total_workers\" name=\"total_workers\" @input=\"form_data.labour_charge = (form_data.total_workers*400)/8\" min=\"0\">\r\n                        </div>\r\n                        <div class=\"o_thread_search_input\" v-if=\"form_data.work_type=='contract'\">\r\n                          <span style=\"width:130px;\"> Labour Charge : </span>\r\n                          <input placeholder=\"Labour Charge \" type=\"number\" class=\"ui-autocomplete-input\" autocomplete=\"off\" v-model=\"form_data.contract_labour_charge\" name=\"contract_labour_charge\" min=\"0\">\r\n                        </div>\r\n                        <div class=\"mx-2 px-1 text-right text-danger\" style=\"font-size:12px\" v-if=\"form_data.total_workers>0 && form_data.contract_labour_charge\">\r\n                          Salary : {{form_data.total_workers}}Labours x {{total_weight}}Kg x {{form_data.contract_labour_charge}}Rs = <b>Rs{{form_data.total_workers*total_weight*form_data.contract_labour_charge}}/-</b>\r\n                        </div>\r\n\r\n                        <div class=\"o_thread_search_input mt-2\">\r\n                          <div style=\"width:140px\"> Contract from wage? : </div>\r\n                          <b-form-checkbox v-model=\"form_data.contract_from_wage\" name=\"contract_from_wage\" value=\"1\" switch>\r\n                            <b>{{ form_data.contract_from_wage?'Yes':'No' }}</b>\r\n                          </b-form-checkbox>\r\n                        </div>\r\n                        <div v-if=\"form_data.contract_from_wage\">\r\n                          <div class=\"o_thread_search_input mt-3\">\r\n                            <span style=\"width:130px\"> Select Labours: </span>\r\n                            <div class=\"mx-2 workers_box\">\r\n                              <label class=\"workers_label\" v-for=\"worker in workers\" :for=\"'worker'+worker.id\" v-if=\"worker.work_type=='Wage'\">\r\n                                <b-form-checkbox name=\"wage_workers\" v-model=\"form_data.wage_workers\" :id=\"'worker'+worker.id\" :value=\"worker.id\">\r\n                                  <b>#{{worker.id}}/{{worker.name}}</b>\r\n                                </b-form-checkbox>\r\n                              </label>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"o_thread_search_input mt-2\">\r\n                            <div style=\"width:140px\"> Is there payment for wage? : </div>\r\n                            <b-form-checkbox v-model=\"form_data.is_wage_payment\" name=\"is_wage_payment\" value=\"1\" switch>\r\n                              <b>{{ form_data.is_wage_payment?'Yes':'No' }}</b>\r\n                            </b-form-checkbox>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"o_thread_search_input mt-2\">\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </b-card>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </form>\r\n      </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Fields from '@/data/Fields'\r\nimport contacts from '@/data/list_grid'\r\nimport TableHeader from '/src/views/app/oodo/components/table_header'\r\nexport default {\r\n  metaInfo: {\r\n    // if no subcomponents specify a metaInfo.title, this title will be used\r\n    title: \"States\"\r\n  },\r\n  components:{\r\n    TableHeader\r\n  },\r\n  data() {\r\n    return {\r\n      columns: [\r\n        {\r\n          label: \"Yard\",\r\n          field: \"yard_name\"\r\n        },\r\n        {\r\n          label: \"Product\",\r\n          field: \"product\"\r\n        },\r\n        {\r\n          label: \"Lot\",\r\n          field: \"lot\"\r\n        },\r\n        {\r\n          label: \"Status\",\r\n          field: \"status\"\r\n        },\r\n        {\r\n          label: \"Date\",\r\n          field: \"created_on\"\r\n        },\r\n        {\r\n          label: \"Unloading\",\r\n          field: \"id\"\r\n        },\r\n      ],\r\n      rows: [],\r\n      form_data:{workers:[]},\r\n      workers:[],\r\n      total_weight:1,\r\n    };\r\n  },\r\n  mounted(){\r\n    this.$root.current_section = 'production'\r\n    this.getTransferToYards()\r\n    this.getWorkers()\r\n  },\r\n  methods: {\r\n    getTransferToYards() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/transfer_to_yard/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.rows = jsonData\r\n      })\r\n    },\r\n    getWorkers() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/workers/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.workers = jsonData\r\n      })\r\n    },\r\n    openPopupUnloading(unload){\r\n      this.form_data=unload.yard_unloading;\r\n      if(!this.form_data.id){\r\n        this.form_data.transfer_yard=unload.id;\r\n        this.form_data.work_type='contract';\r\n      }\r\n      this.$bvModal.show('unloading-modal')\r\n    },\r\n    unloadinForm(method='POST') {\r\n      var param=''\r\n      if(this.form_data.id){\r\n        method = 'PUT'\r\n        param=this.form_data.id+'/'\r\n      }\r\n      var formdata = new FormData(this.$refs['unloadinForm'])\r\n      formdata.append('transfer_yard',this.form_data.transfer_yard)\r\n      if(this.lock_btn){\r\n        return false\r\n      }\r\n      this.lock_btn = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/production/yard_unloading/'+param, {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.lock_btn = false\r\n        if(jsonData.id>0){\r\n          this.$bvModal.hide('unloading-modal')\r\n          this.getTransferToYards()\r\n          this.showAlert('Saved Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!')\r\n        }\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n  @import '../../styles/style.css';\r\n\r\n  \r\n</style>\r\n"]}]}