{"remainingRequest":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\biowin\\src\\views\\app\\pages\\themes.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_projects\\biowin\\src\\views\\app\\pages\\themes.vue","mtime":1649749738000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICJNeSBQYWdlIgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJnczpbXSwKICAgICAgbXlfcGFnZTpbXSwKICAgICAgY3VycmVudF9iZzpbXSwKICAgICAgY3VycmVudF90aGVtZTpbXSwKICAgICAgaWZyYW1lX3VybDonJywKICAgIH07CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuaWZyYW1lX3VybCA9IHRoaXMuYmFzZV91cmwrJy9wYWdlJzsKICAgIHRoaXMuZ2V0VGhlbWVzKCkKICAgIHRoaXMuZ2V0TXlwYWdlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRoZW1lcygpIHsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybWRhdGEuYXBwZW5kKCd1c2VyX2lkJyx0aGlzLnVzZXJJZCkKICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvYXBpL2dldF90aGVtZXMvJywgewogICAgICAgICAgbWV0aG9kIDogJ3Bvc3QnLAogICAgICAgICAgYm9keSA6IGZvcm1kYXRhCiAgICAgIH0pCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgICB9KQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsKICAgICAgICB0aGlzLmJncyA9IGpzb25EYXRhCiAgICAgIH0pCiAgICB9LAogICAgZ2V0TXlwYWdlKCkgewogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3VzZXJfaWQnLHRoaXMudXNlcklkKQogICAgICB0aGlzLmlmcmFtZV91cmwgPSB0aGlzLmJhc2VfdXJsKycvcGFnZS8nK3RoaXMubXlfcGFnZS5zaG9ydGVuX3VybCsnIyc7CiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2FwaS9nZXRfbWF5cGFnZS8nLCB7CiAgICAgICAgICBtZXRob2QgOiAncG9zdCcsCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpCiAgICAgIH0pCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gewogICAgICAgIHRoaXMubXlfcGFnZSA9IGpzb25EYXRhCiAgICAgICAgdGhpcy5jdXJyZW50X2JnID0ge2JhY2tncm91bmQ6anNvbkRhdGEuYmFja2dyb3VuZH0KICAgICAgICB0aGlzLmN1cnJlbnRfdGhlbWUgPSB7Y2xhc3M6anNvbkRhdGEudGhlbWV9CiAgICAgICAgdGhpcy5pZnJhbWVfdXJsID0gdGhpcy5iYXNlX3VybCsnL3BhZ2UvJyt0aGlzLm15X3BhZ2Uuc2hvcnRlbl91cmw7CiAgICAgIH0pCiAgICB9LAogICAgYWRkTmV3SW1nKGUpIHsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2FkZE5ld0ltZyddKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3VzZXJfaWQnLHRoaXMudXNlcklkKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3BhZ2VfaWQnLHRoaXMubXlfcGFnZS5wa19pbnRfaWQpCiAgICAgIHRoaXMuaWZyYW1lX3VybCA9IHRoaXMuYmFzZV91cmwrJy9wYWdlLycrdGhpcy5teV9wYWdlLnNob3J0ZW5fdXJsKycjJzsKICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvYXBpL3VwZGF0ZU5ld0JhY2tncm91bmQvJywgewogICAgICAgICAgbWV0aG9kIDogJ3Bvc3QnLAogICAgICAgICAgYm9keSA6IGZvcm1kYXRhCiAgICAgIH0pCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgICB9KQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsKICAgICAgICAgIGlmKGpzb25EYXRhLnN0YXR1cyl7CiAgICAgICAgICAgIHRoaXMuaWZyYW1lX3VybCA9IHRoaXMuYmFzZV91cmwrJy9wYWdlLycrdGhpcy5teV9wYWdlLnNob3J0ZW5fdXJsOwogICAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHNlbGVjdEJnKGJhY2tncm91bmQsdGhlbWUpIHsKICAgICAgdGhpcy5jdXJyZW50X2JnID0gYmFja2dyb3VuZAogICAgICB0aGlzLmN1cnJlbnRfdGhlbWUgPSB0aGVtZQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3VzZXJfaWQnLHRoaXMudXNlcklkKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ2JhY2tncm91bmQnLGJhY2tncm91bmQuYmFja2dyb3VuZCkKICAgICAgZm9ybWRhdGEuYXBwZW5kKCd0aGVtZScsdGhlbWUuY2xhc3MpCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncGFnZV9pZCcsdGhpcy5teV9wYWdlLnBrX2ludF9pZCkKICAgICAgdGhpcy5pZnJhbWVfdXJsID0gdGhpcy5iYXNlX3VybCsnL3BhZ2UvJyt0aGlzLm15X3BhZ2Uuc2hvcnRlbl91cmwrJyMnOwogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9hcGkvdXBkYXRlQmFja2dyb3VuZC8nLCB7CiAgICAgICAgICBtZXRob2QgOiAncG9zdCcsCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpCiAgICAgIH0pCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gewogICAgICAgICAgaWYoanNvbkRhdGEuc3RhdHVzKXsKICAgICAgICAgICAgdGhpcy5pZnJhbWVfdXJsID0gdGhpcy5iYXNlX3VybCsnL3BhZ2UvJyt0aGlzLm15X3BhZ2Uuc2hvcnRlbl91cmw7CiAgICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["themes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"themes.vue","sourceRoot":"src/views/app/pages","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n                        \r\n    <div class=\"container-content \">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6 col-lg-8 themes  home-scroll\">\r\n          <div class=\"d-flex justify-content-between align-items-center pb-md-2 mb-3\">\r\n            <h4 class=\"m-0 font-weight-600\">Themes</h4>\r\n            <btn class=\"btn py-1 px-2 btn-dark\">Customize</btn>\r\n          </div>\r\n\r\n          <div class=\"row mb-4\">\r\n            <div class=\"col-lg-3 col-md-6 col-sm-3 col-4\" v-for=\"theme in themes\" @click=\"selectBg(current_bg,theme)\">\r\n              <div class=\"pt-3 pb-3 cursor-pointer theme-preview card\" :class=\"theme.class\">\r\n                <div class=\"pr-2 pl-2 card-body\">\r\n                  <div>\r\n                    <button class=\"block-button mb-2 mt-2 p-2 btn btn-secondary btn-block\"></button>\r\n                    <button class=\"block-button mb-2 mt-2 p-2 btn btn-secondary btn-block\"></button>\r\n                    <button class=\"block-button mb-2 mt-2 p-2 btn btn-secondary btn-block\"></button>\r\n                  </div>\r\n                </div>\r\n                <!-- <b :class=\"theme.text\">{{theme.name}}</b> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <h4 class=\"py-2 font-weight-600\">Background</h4>\r\n          <div class=\"row mb-4\">\r\n            <div class=\"col-lg-3 col-md-6 col-sm-3 col-4\" v-for=\"bg in bgs\" @click=\"selectBg(bg,current_theme)\">\r\n              <div class=\" cursor-pointer theme-preview  card\">\r\n                <img :src=\"bg.background\" width=\"120\" class=\"theme-preview img-cover cursor-pointer\" >\r\n                <b class=\"p-2\">{{bg.name}}</b>\r\n              </div>\r\n            </div>\r\n            <label class=\"col-lg-3 col-md-6 col-sm-3 col-4\" for=\"add_background\">\r\n              <div data-theme=\"Venom\" class=\"cursor-pointer theme-preview theme-light card\" style=\"display: flex;text-align: center;\">\r\n                <div  class=\" img-cover cursor-pointer\" style=\"height: 140px;\">\r\n                  <h1 class=\"text-white text-70\" style=\"line-height:140px;\">+ </h1>\r\n                </div>\r\n                <b class=\"p-2 text-white\">add</b>\r\n\r\n              </div>\r\n            </label>\r\n            <form ref=\"addNewImg\">\r\n              <input type=\"file\" name=\"background\" id=\"add_background\" style=\"display:none\" @change=\"addNewImg\">\r\n            </form>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"col-md-6 col-lg-4 preview-row\">\r\n            <div class=\"mobile-preview2\">\r\n              <iframe width=\"350\" class=\"mobile-preview\" :src=\"iframe_url\"></iframe>\r\n            </div>\r\n            <div type=\"button\" class=\"p-2  mx-auto d-flex preview-button\" @click=\"$bvModal.show('previewModal')\">\r\n              <img src=\"/img/preview.png\" style=\"width:25px;height:25px;\"> \r\n              <h5 class=\"\">Preview</h5>\r\n              \r\n\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n     \r\n    \r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  export default {\r\n    metaInfo: {\r\n      title: \"My Page\"\r\n    },\r\n    data() {\r\n      return {\r\n        bgs:[],\r\n        my_page:[],\r\n        current_bg:[],\r\n        current_theme:[],\r\n        iframe_url:'',\r\n      };\r\n    },\r\n    mounted () {\r\n      this.iframe_url = this.base_url+'/page';\r\n      this.getThemes()\r\n      this.getMypage()\r\n    },\r\n    methods: {\r\n      getThemes() {\r\n        var formdata = new FormData()\r\n        formdata.append('user_id',this.userId)\r\n        fetch(this.api_url+'/api/get_themes/', {\r\n            method : 'post',\r\n            body : formdata\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.bgs = jsonData\r\n        })\r\n      },\r\n      getMypage() {\r\n        var formdata = new FormData()\r\n        formdata.append('user_id',this.userId)\r\n        this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url+'#';\r\n        fetch(this.api_url+'/api/get_maypage/', {\r\n            method : 'post',\r\n            body : formdata\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n          this.my_page = jsonData\r\n          this.current_bg = {background:jsonData.background}\r\n          this.current_theme = {class:jsonData.theme}\r\n          this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url;\r\n        })\r\n      },\r\n      addNewImg(e) {\r\n        var formdata = new FormData(this.$refs['addNewImg'])\r\n        formdata.append('user_id',this.userId)\r\n        formdata.append('page_id',this.my_page.pk_int_id)\r\n        this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url+'#';\r\n        fetch(this.api_url+'/api/updateNewBackground/', {\r\n            method : 'post',\r\n            body : formdata\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n            if(jsonData.status){\r\n              this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url;\r\n            }\r\n        })\r\n      },\r\n      selectBg(background,theme) {\r\n        this.current_bg = background\r\n        this.current_theme = theme\r\n        var formdata = new FormData()\r\n        formdata.append('user_id',this.userId)\r\n        formdata.append('background',background.background)\r\n        formdata.append('theme',theme.class)\r\n        formdata.append('page_id',this.my_page.pk_int_id)\r\n        this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url+'#';\r\n        fetch(this.api_url+'/api/updateBackground/', {\r\n            method : 'post',\r\n            body : formdata\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((jsonData) => {\r\n            if(jsonData.status){\r\n              this.iframe_url = this.base_url+'/page/'+this.my_page.shorten_url;\r\n            }\r\n        })\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  @import './styles/style.css';\r\n\r\n\r\n@media screen and (max-width: 380px){\r\n   .card-body {\r\n    padding: 0rem;\r\n    }\r\n    .theme-preview .img-cover {\r\n    height: 100px!important;\r\n    width: 100%;\r\n   \r\n}\r\n\r\n}\r\n</style>\r\n\r\n"]}]}