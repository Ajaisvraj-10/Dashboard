{"remainingRequest":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\production\\process\\processing-component.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\production\\process\\processing-component.vue","mtime":1671369088651},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUHJvZHVjdEZpZWxkcyBmcm9tICcvc3JjL3ZpZXdzL2FwcC9vb2RvL2NvbXBvbmVudHMvcHJvZHVjdF9maWVsZHMnDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbJ3Byb2Nlc3NfZGV0YWlsX2lkJywnc3RhcnRfcHJvY2Vzc19pZCcsJ3Byb2Nlc3NpbmdfaWQnLCdhY3Rpb24nLCdpc192aWV3J10sDQogIGNvbXBvbmVudHM6ew0KICAgIFByb2R1Y3RGaWVsZHMNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybV9kYXRhOnsNCiAgICAgICAgaWQ6bnVsbCwNCiAgICAgICAgZGF0ZTpudWxsLA0KICAgICAgICBwcm9kdWN0Om51bGwsDQogICAgICAgIHN0YXR1czonRHJhZnQnLA0KICAgICAgICBzaGlmdDonREFZJywNCiAgICAgICAgd29ya2VyczpbXSwNCiAgICAgICAgd29ya190eXBlOid3YWdlcycsDQogICAgICAgIG92ZXJ0aW1lX2hvdXJzZV9zdDE6MiwNCiAgICAgICAgbWFjaGluZXM6W10sDQogICAgICAgIHN0YXJ0X3Byb2Nlc3NfZGV0YWlsOntwcm9jZXNzX3Byb2R1Y3RzX2xpc3Q6W10sbWFpbl9wcm9jZXNzX2RldGFpbDp7fSxmaXJld29vZF9kZXRhaWxzOnt9LGRyeWVyX2RldGFpbHM6e319LA0KICAgICAgICBvdGhlcl9sb3RzOltdLA0KICAgICAgICBsb3Q6bnVsbCwNCiAgICAgICAgcHJvY2Vzc19vdXRwdXRzOltdLA0KICAgICAgICBiYXJyZWxfZGV0YWlsOnt9LA0KICAgICAgICBuZXh0X3Byb2Nlc3M6bnVsbCwNCiAgICAgICAgY29uc3VtYWJsZV9pdGVtc19saXN0OltdLA0KICAgICAgICB1bmxvYWRpbmc6ew0KICAgICAgICAgIHdvcmtlcnM6W10sDQogICAgICAgICAgd29ya190eXBlOid3YWdlcycsDQogICAgICAgICAgaXNfb3Zlcl90aW1lOmZhbHNlLA0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICAgIHByb2Nlc3NfZGV0YWlsOntvdXRwdXRzOltdLGNvbnN1bWFibGVfaXRlbXNfbGlzdDpbXSxpbnB1dHM6W119LA0KICAgICAgcGFja2luZ19tYXRlcmlhbHM6W10sDQogICAgICBiYXJyZWxfaWQ6bnVsbCwNCiAgICAgIGlkOm51bGwsDQogICAgICBwcm9kdWN0X25hbWUgOiAnJywNCiAgICAgIHVzZXJfaWQ6NiwNCiAgICAgIHRvdGFsX3dlaWdodDowLA0KICAgICAgdG90YWxfb3V0cHV0OjAsDQogICAgICB3b3JrZXJzOltdLA0KICAgICAgYmFycmVsczpbXSwNCiAgICAgIG5leHRfcHJvY2Vzc2VzOltdLA0KICAgICAgc3RvY2tfcGFyYW1ldGVyczpbXSwNCiAgICAgIGlzX3N0YXJ0OmZhbHNlLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5mb3JtX2RhdGEuZGF0ZSA9IHRoaXMuY3VycmVudERhdGUoKQ0KICAgIGlmKHRoaXMucHJvY2Vzc2luZ19pZCl7DQogICAgICB0aGlzLmdldFByb2Nlc3MoKQ0KICAgIH1lbHNlew0KICAgICAgdGhpcy5nZXRQcm9jZXNzRGV0YWlscygpDQogICAgfQ0KICAgIHRoaXMuZ2V0V29ya2VycygpDQogICAgdGhpcy5nZXRQYWNraW5nTWF0ZXJpYWxzKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFByb2Nlc3MoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzaW5nLycrdGhpcy5wcm9jZXNzaW5nX2lkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmZvcm1fZGF0YSA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZ2V0UHJvY2Vzc0RldGFpbHMoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFByb2Nlc3NEZXRhaWxzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc19kZXRhaWxzLycrdGhpcy5wcm9jZXNzX2RldGFpbF9pZCsnLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5wcm9jZXNzX2RldGFpbCA9IGpzb25EYXRhDQogICAgICAgIHRoaXMuZm9ybV9kYXRhLm1hY2hpbmVzID0ganNvbkRhdGEubWFjaGluZXMNCiAgICAgICAgaWYoIXRoaXMuZm9ybV9kYXRhLmNvbnRyYWN0X2xhYm91cl9jaGFyZ2Upew0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLmNvbnRyYWN0X2xhYm91cl9jaGFyZ2UgPSBqc29uRGF0YS5wcm9kdWN0aW9uX3Byb2Nlc3NfZGV0YWlsLmxhYm91cl9jaGFyZ2UNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmFjdGlvbj09J3N0b3AnKXsNCiAgICAgICAgICB0aGlzLm5leHRQcm9jZXNzZXMoKQ0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cy5sZW5ndGg8PTApew0KICAgICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVycygpDQogICAgICAgIH0NCiAgICAgICAgaWYodGhpcy5mb3JtX2RhdGEuY29uc3VtYWJsZV9pdGVtc19saXN0Lmxlbmd0aDw9MCl7DQogICAgICAgICAgdGhpcy5mb3JtX2RhdGEuY29uc3VtYWJsZV9pdGVtc19saXN0ID0ganNvbkRhdGEuY29uc3VtYWJsZV9pdGVtc19saXN0DQogICAgICAgIH0NCiAgICAgICAgaWYoanNvbkRhdGEuaGF2ZV9iYXJyZWwpew0KICAgICAgICAgIHRoaXMuZ2V0QmFycmVscygpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5nZXRTdGFydFByb2Nlc3MoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFN0YXJ0UHJvY2VzcygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3N0YXJ0X3Byb2Nlc3MvJyt0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQrJy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMuZm9ybV9kYXRhLnN0YXJ0X3Byb2Nlc3NfZGV0YWlsID0ganNvbkRhdGENCiAgICAgICAgdmFyIGxhc3RfcHJvY2Vzc19pZCA9IG51bGwgDQogICAgICAgIGpzb25EYXRhLnByb2Nlc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICAgIGxhc3RfcHJvY2Vzc19pZCA9IHZhbC5pZA0KICAgICAgICB9KQ0KICAgICAgICBpZihqc29uRGF0YS5wcm9jZXNzX3Byb2R1Y3RzLmxlbmd0aDw9MCl7DQogICAgICAgICAgdGhpcy5zdG9ja1BhcmFtZXRlcigpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIGlmKHRoaXMuYWN0aW9uPT0naW5wdXQnKXRoaXMuYWN0aW9uID0gJ3NoaWZ0JzsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgbG90cyA9IFtdOw0KICAgICAgICB2YXIgbG90ID0gbnVsbDsNCiAgICAgICAgdmFyIHRvdGFsID0gMDsNCiAgICAgICAganNvbkRhdGEucHJvY2Vzc19wcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICAgIGlmKGtleT09MClsb3Q9dmFsLmxvdA0KICAgICAgICAgIGxvdHMucHVzaCh2YWwubG90KQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnRvdGFsX3dlaWdodCA9IGpzb25EYXRhLnRvdGFsX3dlaWdodA0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5sb3QgPSBsb3QNCiAgICAgICAgdGhpcy5mb3JtX2RhdGEub3RoZXJfbG90cyA9IGxvdHMNCiAgICAgICAgaWYodGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzLmxlbmd0aD4wKXsNCiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVF0eSgpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5pc19zdGFydCA9IHRydWUNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRCYXJyZWxzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3QvYmFycmVsLz9wcm9kdWN0PScrdGhpcy5mb3JtX2RhdGEucHJvZHVjdCwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB2YXIgc2VsZiA9IHRoaXMNCiAgICAgICAganNvbkRhdGEuZm9yRWFjaChmdW5jdGlvbih2YWwsa2V5KXsNCiAgICAgICAgICBqc29uRGF0YVtrZXldWydxdWFudGl0eSddID0gMA0KICAgICAgICAgIGpzb25EYXRhW2tleV1bJ3F1YW50aXR5X3BlcnNlbnRhZ2UnXSA9IDANCiAgICAgICAgICBzZWxmLnByb2Nlc3NfZGV0YWlsLmNvbnN1bWFibGVfaXRlbXNfbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHZhbDIsa2V5Mil7DQogICAgICAgICAgICBqc29uRGF0YVtrZXldWydvdGhlcicrdmFsMi5pZF0gPSAwDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5iYXJyZWxzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRQYXJhbWV0ZXJzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3QvcGFyYW1ldGVycy8/b3V0cHV0cz0nK3RoaXMucHJvY2Vzc19kZXRhaWwub3V0cHV0cysnJnN0YXJ0X3Byb2Nlc3M9Jyt0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgIGpzb25EYXRhLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAganNvbkRhdGFba2V5XS5wYXJhbWV0ZXIgPSB2YWwuaWQNCiAgICAgICAgICBqc29uRGF0YVtrZXldLnBhcmFtZXRlcl9kZXRhaWwgPSB2YWwNCiAgICAgICAgICBqc29uRGF0YVtrZXldLnF1YW50aXR5ID0gMA0KICAgICAgICAgIGpzb25EYXRhW2tleV0ucXVhbnRpdHlfcGVyc2VudGFnZSA9ICcwJScNCiAgICAgICAgICBqc29uRGF0YVtrZXldLnF1YW50aXR5X3BlcnNlbnRhZ2UgPSAnMCUnDQogICAgICAgICAganNvbkRhdGFba2V5XS5wYWNraW5nX21hdGVyaWFsc19jb3VudCA9IDANCiAgICAgICAgICBqc29uRGF0YVtrZXldLnBhY2tpbmdfbWF0ZXJpYWxzID0gc2VsZi5wYWNraW5nX21hdGVyaWFscw0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5wcm9jZXNzX291dHB1dHMgPSBqc29uRGF0YQ0KICAgICAgICB0aGlzLmNhbGN1bGF0ZVF0eSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgY2FsY3VsYXRlUXR5KCl7DQogICAgICB2YXIgc2VsZj10aGlzOw0KICAgICAgdmFyIHRvdGFsID0gMDsNCiAgICAgIHRoaXMuYmFycmVscy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICB0b3RhbCA9IHRvdGFsK3BhcnNlRmxvYXQodmFsLnF1YW50aXR5KQ0KICAgICAgfSkNCiAgICAgIHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICBpZih2YWwucGFyYW1ldGVyX3R5cGU9PSdwcm9kdWN0JyB8fCB2YWwucGFyYW1ldGVyX3R5cGU9PSdtYWluX3Byb2R1Y3QnKXsNCiAgICAgICAgICB0b3RhbCA9IHRvdGFsK3BhcnNlRmxvYXQodmFsLnF1YW50aXR5KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy50b3RhbF93ZWlnaHQgPSB0b3RhbCt0aGlzLnRvdGFsX3dlaWdodA0KICAgICAgdGhpcy50b3RhbF9vdXRwdXQgPSB0b3RhbA0KICAgIH0sDQogICAgY2FsY3VsYXRpb24ocGFyYW1ldGVyKXsNCiAgICAgIHZhciBzZWxmPXRoaXM7DQogICAgICB2YXIgdG90YWwgPSAwOw0KICAgICAgdmFyIHByb2Nlc3Nfb3V0cHV0cyA9IHRoaXMuZm9ybV9kYXRhLnByb2Nlc3Nfb3V0cHV0cw0KICAgICAgdGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzID0gW10NCiAgICAgIHByb2Nlc3Nfb3V0cHV0cy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCxrZXkpew0KICAgICAgICBpZih2YWwucXVhbnRpdHkpew0KICAgICAgICAgIGlmKHNlbGYudG90YWxfd2VpZ2h0IT0wKXsNCiAgICAgICAgICAgIHZhciBwZXJzZW50YWdlID0gKHZhbC5xdWFudGl0eS9zZWxmLnRvdGFsX3dlaWdodCkqMTAwDQogICAgICAgICAgICBwZXJzZW50YWdlID0gcGVyc2VudGFnZS50b0ZpeGVkKDIpDQogICAgICAgICAgICBwcm9jZXNzX291dHB1dHNba2V5XS5xdWFudGl0eV9wZXJzZW50YWdlID0gcGVyc2VudGFnZSsnJScNCiAgICAgICAgICB9DQogICAgICAgICAgaWYodmFsLnBhcmFtZXRlcl90eXBlPT0ncHJvZHVjdCcgfHwgdmFsLnBhcmFtZXRlcl90eXBlPT0nbWFpbl9wcm9kdWN0Jyl7DQogICAgICAgICAgICB0b3RhbCA9IHRvdGFsK3BhcnNlRmxvYXQodmFsLnF1YW50aXR5KQ0KICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBwcm9jZXNzX291dHB1dHNba2V5XS5xdWFudGl0eV9wZXJzZW50YWdlID0gJzAlJw0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy5mb3JtX2RhdGEucHJvY2Vzc19vdXRwdXRzID0gcHJvY2Vzc19vdXRwdXRzDQogICAgICB0aGlzLnRvdGFsX291dHB1dCA9IHRvdGFsDQogICAgfSwNCiAgICBDYWxjdWxhdGVQZXJzZW50YWdlKHZhbHVlKXsNCiAgICAgIGlmKHZhbHVlKXsNCiAgICAgICAgaWYodGhpcy50b3RhbF93ZWlnaHQhPTApew0KICAgICAgICAgIHZhciBwZXJzZW50YWdlID0gKHZhbHVlL3RoaXMudG90YWxfd2VpZ2h0KSoxMDANCiAgICAgICAgICBwZXJzZW50YWdlID0gcGVyc2VudGFnZS50b0ZpeGVkKDIpDQogICAgICAgICAgcmV0dXJuIHBlcnNlbnRhZ2UrJyUnDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiAnMCUnDQogICAgfSwNCiAgICBnZXRXb3JrZXJzKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3dvcmtlcnMvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLndvcmtlcnMgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRhdGFGb3JtKCkgew0KICAgICAgaWYodGhpcy5hY3Rpb249PSdpbnB1dCcpew0KICAgICAgICB0aGlzLmNyZWF0ZU5leHRQcm9jZXNzKCkNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuYWN0aW9uID09ICdzaGlmdCcpew0KICAgICAgICB0aGlzLnByb2Nlc3NGb3JtKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdtYWNoaW5lJyB8fCB0aGlzLmFjdGlvbiA9PSAnd29ya2Vycycpew0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5zdGF0dXMgPSAnU3RhcnRpbmcnDQogICAgICAgIGlmKHRoaXMuYWN0aW9uID09ICd3b3JrZXJzJyAmJiB0aGlzLnByb2Nlc3NfZGV0YWlsLmlzX3Jlc3RhY2tpbmcpew0KICAgICAgICAgIHRoaXMuZm9ybV9kYXRhLnN0YXR1cyA9ICdDb21wbGV0ZWQnDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5wcm9jZXNzRm9ybSgpDQogICAgICB9ZWxzZSBpZih0aGlzLmFjdGlvbiA9PSAnZmlyZXdvb2QnIHx8IHRoaXMuYWN0aW9uID09ICdkcnllcicpew0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5zdGF0dXMgPSAnU3RhcnRpbmcnDQogICAgICAgIHRoaXMucHJvY2Vzc0Zvcm0oKQ0KICAgICAgfWVsc2UgaWYodGhpcy5hY3Rpb24gPT0gJ2NvbnN1bWFibGVzJyl7DQogICAgICAgIHRoaXMuY29uc3VtYWJsZVN0b2NrQ3JlYXRlKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdvdXRwdXQnKXsNCiAgICAgICAgdGhpcy5jcmVhdGVPdXRwdXQoKQ0KICAgICAgfWVsc2UgaWYodGhpcy5hY3Rpb24gPT0gJ3VubG9hZGluZycpew0KICAgICAgICB0aGlzLnByb2Nlc3NVbmxvYWRpbmdGb3JtKCkNCiAgICAgIH1lbHNlIGlmKHRoaXMuYWN0aW9uID09ICdzdG9wJyl7DQogICAgICAgIHRoaXMuY29tcGxldGVQcm9jZXNzKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHByb2Nlc3NGb3JtKG1ldGhvZD0nUE9TVCcpIHsNCiAgICAgIHZhciBwYXJhbSA9ICcnDQogICAgICBpZih0aGlzLmZvcm1fZGF0YS5pZCl7DQogICAgICAgIG1ldGhvZCA9ICdQVVQnDQogICAgICAgIHBhcmFtID0gdGhpcy5mb3JtX2RhdGEuaWQrJy8nDQogICAgICB9DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmc1snZGF0YUZvcm0nXSkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3VwZXJ2aXNvcicsdGhpcy51c2VyX2lkKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGF0dXMnLHRoaXMuZm9ybV9kYXRhLnN0YXR1cykNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3RhcnRfcHJvY2VzcycsdGhpcy5zdGFydF9wcm9jZXNzX2lkKQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc2luZy8nK3BhcmFtLCB7DQogICAgICAgICAgbWV0aG9kIDogbWV0aG9kLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5mb3JtX2RhdGEuaWQgPSBqc29uRGF0YS5pZA0KICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBwcm9jZXNzVW5sb2FkaW5nRm9ybShtZXRob2Q9J1BPU1QnKSB7DQogICAgICB2YXIgcGFyYW0gPSAnJw0KICAgICAgaWYodGhpcy5mb3JtX2RhdGEudW5sb2FkaW5nLmlkKXsNCiAgICAgICAgbWV0aG9kID0gJ1BVVCcNCiAgICAgICAgcGFyYW0gPSB0aGlzLmZvcm1fZGF0YS51bmxvYWRpbmcuaWQrJy8nDQogICAgICB9DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmc1snZGF0YUZvcm0nXSkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2VzcycsdGhpcy5mb3JtX2RhdGEuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXR1cycsJ0NvbXBsZXRlZCcpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzX3VubG9hZGluZy8nK3BhcmFtLCB7DQogICAgICAgICAgbWV0aG9kIDogbWV0aG9kLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5mb3JtX2RhdGEudW5sb2FkaW5nID0ganNvbkRhdGENCiAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKQ0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTYXZlZCBTdWNjZXNzZnVsbHkhJykNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NvbWV0aGluZyBXcm9uZyEnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY29uc3VtYWJsZVN0b2NrQ3JlYXRlKCkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3NfZGV0YWlsJyx0aGlzLnByb2Nlc3NfZGV0YWlsLmlkKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdzdGFydF9wcm9jZXNzJyx0aGlzLnN0YXJ0X3Byb2Nlc3NfaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Byb2Nlc3MnLHRoaXMuZm9ybV9kYXRhLmlkKQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vY29uc3VtYWJsZV9zdG9ja19jcmVhdGUvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdQT1NUJywNCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRQYWNraW5nTWF0ZXJpYWxzKCl7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdC9wYWNraW5nX21hdGVyaWFsX3B1cmNoYXNlX21hdGVyaWFscy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGpzb25EYXRhLmZvckVhY2goZnVuY3Rpb24odmFsLGtleSl7DQogICAgICAgICAganNvbkRhdGFba2V5XS5pc19hZGRlZCA9IGZhbHNlDQogICAgICAgICAganNvbkRhdGFba2V5XS5wYWNraW5nX3F1YW50aXR5ID0gMA0KICAgICAgICAgIGpzb25EYXRhW2tleV0ubnVtYmVyX29mX2JhZ3MgPSAwDQogICAgICAgIH0pDQogICAgICAgIHRoaXMucGFja2luZ19tYXRlcmlhbHMgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNoYW5nZVBhY2tpbmdNYXRlcmlhbChwYWNraW5nX21hdGVyaWFsKXsNCiAgICAgIHBhY2tpbmdfbWF0ZXJpYWwubnVtYmVyX29mX2JhZ3MgPSBwYXJzZUludChwYWNraW5nX21hdGVyaWFsLnBhY2tpbmdfcXVhbnRpdHkvcGFja2luZ19tYXRlcmlhbC5tYXhfcXVhbnRpdHkpDQogICAgICBpZihwYWNraW5nX21hdGVyaWFsLm51bWJlcl9vZl9iYWdzID09IChwYWNraW5nX21hdGVyaWFsLnBhY2tpbmdfcXVhbnRpdHkvcGFja2luZ19tYXRlcmlhbC5tYXhfcXVhbnRpdHkpKXsNCiAgICAgICAgcGFja2luZ19tYXRlcmlhbC5udW1iZXJfb2ZfYmFncyA9IHBhY2tpbmdfbWF0ZXJpYWwubnVtYmVyX29mX2JhZ3MNCiAgICAgIH1lbHNlIGlmKHBhY2tpbmdfbWF0ZXJpYWwubnVtYmVyX29mX2JhZ3MgPCAocGFja2luZ19tYXRlcmlhbC5wYWNraW5nX3F1YW50aXR5L3BhY2tpbmdfbWF0ZXJpYWwubWF4X3F1YW50aXR5KSl7DQogICAgICAgIHBhY2tpbmdfbWF0ZXJpYWwubnVtYmVyX29mX2JhZ3MgPSBwYWNraW5nX21hdGVyaWFsLm51bWJlcl9vZl9iYWdzKzENCiAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZU91dHB1dCgpIHsNCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdwcm9jZXNzX2RldGFpbCcsdGhpcy5wcm9jZXNzX2RldGFpbC5pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3RhcnRfcHJvY2VzcycsdGhpcy5zdGFydF9wcm9jZXNzX2lkKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdwcm9jZXNzJyx0aGlzLmZvcm1fZGF0YS5pZCkNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0aW9uL3Byb2Nlc3Nfb3V0cHV0cy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCkNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTb21ldGhpbmcgV3JvbmchJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG5leHRQcm9jZXNzZXMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9wcm9jZXNzX2RldGFpbHMvP25leHRfcHJvY2Vzc19kZXRhaWw9Jyt0aGlzLnByb2Nlc3NfZGV0YWlsLmlkLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMubmV4dF9wcm9jZXNzZXMgPSBqc29uRGF0YQ0KICAgICAgICBpZihqc29uRGF0YS5sZW5ndGg8PTApew0KICAgICAgICAgIHRoaXMubmV4dF9wcm9jZXNzZXMucHVzaCh7aWQ6dGhpcy5kZWZhdWx0X3BhY2tpbmdfaWQsIHNvcnRfb3JkZXI6JycsIG5hbWU6J1BhY2tpbmcnfSkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm1fZGF0YS5uZXh0X3Byb2Nlc3MgPSB0aGlzLm5leHRfcHJvY2Vzc2VzWzBdLmlkDQogICAgICB9KQ0KICAgIH0sDQogICAgY29tcGxldGVQcm9jZXNzKCkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N1cGVydmlzb3InLHRoaXMudXNlcl9pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2Vzc19kZXRhaWwnLHRoaXMucHJvY2Vzc19kZXRhaWwuaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXJ0X3Byb2Nlc3MnLHRoaXMuc3RhcnRfcHJvY2Vzc19pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgncHJvY2VzcycsdGhpcy5mb3JtX2RhdGEuaWQpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvcHJvZHVjdGlvbi9jb21wbGV0ZV9wcm9jZXNzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICBpZihqc29uRGF0YS5zdWNjZXNzKXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU2F2ZWQgU3VjY2Vzc2Z1bGx5IScpDQogICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCkNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NvbWV0aGluZyBXcm9uZyEnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2xvc2VQb3B1cCgpew0KICAgICAgdGhpcy4kZW1pdCgnY2xvc2VQb3B1cCcsIHRydWUpDQogICAgfSwNCiAgICBzdG9ja1BhcmFtZXRlcigpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9wcm9kdWN0L3BhcmFtZXRlcl9zdG9jay8/aW5wdXRzPScrdGhpcy5wcm9jZXNzX2RldGFpbC5pbnB1dHMrJyZ3YXJlaG91c2U9Jyt0aGlzLmZvcm1fZGF0YS5zdGFydF9wcm9jZXNzX2RldGFpbC5tYWluX3Byb2Nlc3NfZGV0YWlsLndhcmVob3VzZSwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLnN0b2NrX3BhcmFtZXRlcnMgPSBqc29uRGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFkZFByb2R1Y3Qoc3RvY2tfcGFyYW1ldGVyKXsNCiAgICAgIHN0b2NrX3BhcmFtZXRlci5pc19hZGRlZCA9IHRydWUNCiAgICAgIHN0b2NrX3BhcmFtZXRlci5xdWFudGl0eSA9IHN0b2NrX3BhcmFtZXRlci5zdG9ja19xdWFudGl0eQ0KICAgIH0sDQogICAgcmVtb3ZlUHJvZHVjdChzdG9ja19wYXJhbWV0ZXIpew0KICAgICAgc3RvY2tfcGFyYW1ldGVyLmlzX2FkZGVkID0gZmFsc2UNCiAgICAgIHN0b2NrX3BhcmFtZXRlci5xdWFudGl0eSA9ICcnDQogICAgfSwNCiAgICBhZGRNYXRlcmlhbChwYXJhbWV0ZXIscGFja2luZ19tYXRlcmlhbCl7DQogICAgICBwYWNraW5nX21hdGVyaWFsLmlzX2FkZGVkID0gdHJ1ZQ0KICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzX2NvdW50KysNCiAgICB9LA0KICAgIHJlbW92ZU1hdGVyaWFsKHBhcmFtZXRlcixwYWNraW5nX21hdGVyaWFsKXsNCiAgICAgIHBhY2tpbmdfbWF0ZXJpYWwuaXNfYWRkZWQgPSBmYWxzZQ0KICAgICAgcGFyYW1ldGVyLnBhY2tpbmdfbWF0ZXJpYWxzX2NvdW50LS0NCiAgICB9LA0KICAgIGNyZWF0ZU5leHRQcm9jZXNzKCkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ2lucHV0cycsdGhpcy5wcm9jZXNzX2RldGFpbC5pbnB1dHMpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3N0YXJ0X3Byb2Nlc3MnLHRoaXMuc3RhcnRfcHJvY2Vzc19pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnc3VwZXJ2aXNvcicsdGhpcy51c2VyX2lkKQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL3Byb2R1Y3Rpb24vcHJvY2Vzc19wcm9kdWN0cy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5nZXRQcm9jZXNzRGV0YWlscygpDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1NhdmVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfSwNCn07DQo="},null]}