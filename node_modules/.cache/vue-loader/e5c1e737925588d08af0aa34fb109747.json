{"remainingRequest":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\task\\task-tags.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\task\\task-tags.vue","mtime":1676525983779},{"path":"E:\\vue_projects\\biowin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJy4uL3N0eWxlcy9zdHlsZS5jc3MnOwo="},{"version":3,"sources":["task-tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA","file":"task-tags.vue","sourceRoot":"src/views/app/oodo/task","sourcesContent":["<template>\r\n  <div class=\"main-content main-content2 task-sec task-tag\">\r\n    <div>\r\n      <div class=\"d-flex mb-2 align-items-center justify-content-between\">\r\n        <slot name=\"header\">\r\n          <div>\r\n           <h5 class=\"mb-0\">Task <span class=\"text-success\">/Tags</span></h5>\r\n          </div>\r\n        </slot>\r\n        <div style=\"margin-top:-10px\">\r\n          <b-card body-class=\"p-0\"> \r\n            <form  ref=\"dataForm\" @submit.prevent=\"dataForm()\" class=\"\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <b class=\"pl-2 d-flex align-items-center cursor-pointer w-100\" @click=\"$refs.tag_input.focus()\">\r\n                  <i class=\"fa fa-tags mx-1 text-primary\" style=\"font-size:18px\"></i>\r\n                  <div>\r\n                    <input name=\"name\" v-model=\"current_tag.name\" placeholder=\"Add a tag\" class=\"style-input \" ref=\"tag_input\" required>\r\n                  </div>\r\n                  <div class=\"d-flex align-items-center border-left pl-3\">\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 style-input-color\" value=\"#43da86\">\r\n                    <label class=\"mb-0 text-info pl-2\">Pick a Color</label>\r\n                  </div>\r\n                </b>\r\n                <div class=\"todo-add px-3 py-2\">\r\n                  <button class=\"btn\" type=\"submit\">+ Add</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n      <div class=\"separator-breadcrumb border-top\"></div>\r\n    </div>\r\n\r\n    <!-- contents -->\r\n    <b-row class=\"\" style=\"margin-top:-20px;\">\r\n      <b-col lg=\"12\" xl=\"12\">\r\n        <div class=\"mb-2\">\r\n          <div class=\"my-2 row\">\r\n            <div class=\"col-md-2 pr-0\" v-for=\"tag in tags\">\r\n              <div class=\"card p-2\">\r\n                <div class=\"d-flex mt-1\">\r\n                  <button class=\"btn btn-tag w-100\" style=\"padding: 5px!important\" :style=\"'background-color:'+tag.color+'!important;color:'+bgToTextColor(tag.color)\">\r\n                    {{tag.name}}\r\n                  </button>\r\n                  <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(tag)\"></i>\r\n                </div>\r\n                <hr class=\"my-2\">\r\n                <div class=\"sub_tags mx-2\">\r\n                  <div class=\"d-flex\" v-for=\"sub_tag in tag.sub_tags\">\r\n                    <button class=\"btn btn-tag mb-1 w-100\" :style=\"'background-color:'+sub_tag.color+'!important;color:'+bgToTextColor(sub_tag.color)\">\r\n                      {{sub_tag.name}}\r\n                    </button>\r\n                    <i class=\"fa fa-trash-o cursor-pointer ml-1\" style=\"font-size:16px;\" @click=\"deleteTag(sub_tag)\"></i>\r\n                  </div>\r\n                </div>\r\n                <hr class=\"my-1\">\r\n                <form :id=\"'dataForm'+tag.id\" @submit.prevent=\"dataForm(tag)\" class=\"card p-2\">\r\n                  <div class=\"d-flex \">\r\n                    <i class=\"fa fa-tags ml-1 text-primary\" style=\"padding-top:6px\"></i>\r\n                    <input name=\"name\" placeholder=\"Add sub tag\" class=\"w-100 border-0\" required>\r\n                    <input name=\"color\" type=\"color\" class=\"color-style1 p-0\" style=\"appearance: none;background-color: transparent;border: none;\" value=\"#43da86\">\r\n                    <button type=\"submit\" class=\"btn btn-tag w-50 m-1\" style=\"background-color:#303e70!important;color:#fff\">\r\n                      Add\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n  </div>  \r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n   \r\n  },\r\n  data() {\r\n    return {\r\n      tags:[],\r\n      current_tag:{},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$root.current_section = 'task'\r\n    this.getTags()\r\n  },\r\n  methods: {\r\n    getTags() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/?main_tag=true', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.tags = jsonData\r\n      })\r\n    },\r\n    dataForm(tag={id:null}) {\r\n      var formdata = new FormData(this.$refs['dataForm'])\r\n      if(tag.id){\r\n        formdata = new FormData(document.getElementById('dataForm'+tag.id))\r\n        formdata.append('main_tag', tag.id)\r\n      }\r\n      formdata.append('status',1)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/', {\r\n          method : 'POST',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.id>0){\r\n          this.getTags()\r\n          this.showAlert('Added Successfully!')\r\n        }else{\r\n          this.showAlert('Something Wrong!')\r\n        }\r\n      })\r\n    },\r\n    deleteTag(tag, confirm=true) {\r\n      if(confirm){\r\n        this.$swal({\r\n          title: \"Delete Tag\",\r\n          text: 'Are you sure?',\r\n          showCancelButton: true,\r\n          confirmButtonColor: \"#3085d6\",\r\n          cancelButtonColor: \"#d33\",\r\n          confirmButtonText: \"Yes\",\r\n          cancelButtonText: \"No\",\r\n        }).then(result => {\r\n          if (result.value) {\r\n            this.deleteTag(tag,false)\r\n          }\r\n        });\r\n        return false\r\n      }\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/task_tags/'+tag.id+'/', {\r\n          method : 'DELETE',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n        this.showAlert('Removed!', 'red')\r\n        this.getTags()\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n  @import '../styles/style.css';\r\n</style>"]}]}