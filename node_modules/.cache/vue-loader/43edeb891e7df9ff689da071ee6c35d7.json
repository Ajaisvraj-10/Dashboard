{"remainingRequest":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/tasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/biowin/src/views/app/oodo/task/tasks.vue","mtime":1677096118569},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/biowin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1ldGFJbmZvOiB7DQogICANCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFza3M6W10sDQogICAgICB1c2VyczpbXSwNCiAgICAgIG5ld190YXNrOntpc19jb21wbGV0ZWQ6ZmFsc2UsIGR1ZV9kYXRlOicnLCByZW1pZGVyX2RhdGU6JycsIHJlcGVhdDonTm9uZScsIHByaW9yaXR5OidOb3JtYWwnLCBhc3NpZ25fdGFzazpbXSwgYXNzaWduX3VzZXJzOltdfSwNCiAgICAgIG5ld19zdWJfdGFzazp7aXNfY29tcGxldGVkOmZhbHNlLCBkdWVfZGF0ZTonJywgcmVtaWRlcl9kYXRlOicnLCByZXBlYXQ6J05vbmUnLCBwcmlvcml0eTonTm9ybWFsJ30sDQogICAgICBjdXJyZW50X3Rhc2s6e2lzX2NvbXBsZXRlZDpmYWxzZSwgbm90X2RlbGV0ZWQ6MSwgc3ViX3Rhc2tzX2NvdW50OjB9LA0KICAgICAgY3VycmVudF9tYWluX3Rhc2s6e2lzX2NvbXBsZXRlZDpmYWxzZSwgbm90X2RlbGV0ZWQ6MX0sDQogICAgICByZXBlYXRzOlsnTm9uZScsJ0RpYWx5JywnV2Vla2x5JywnTW9udGhseScsJ1llYXJseSddLA0KICAgICAgdGFza19jYXRlZ29yaWVzOlsnbXlfdGFza3MnLCdhc3NpZ25lZF90YXNrc190b19tZScsJ2NvbXBsZXRlZF90YXNrcyddLA0KICAgICAgcHJpb3JpdGllczpbJ1VyZ2VudCcsJ01lZGl1bScsJ05vcm1hbCddLA0KICAgICAgdGFnczpbXSwNCiAgICAgIG5ld19hY3Rpdml0eTp7bm90ZTonJywgcHJldmlld19pbWFnZTonJ30sDQogICAgICB0YXNrX2FjdGl2aXRpZXM6W10sDQogICAgICB0YWdfc3RhdHVzOltdLA0KICAgICAgZGVwYXJ0bWVudHM6W10sDQogICAgICBjdXJyZW50X2RlcGFydG1lbnQ6e30sDQogICAgICBjdXJyZW50X3Rhc2tfY2F0ZWdvcnk6J215X3Rhc2tzJywNCiAgICAgIGlzX25ld190YXNrOnRydWUsDQogICAgICBzZWxlY3RfYWxsOmZhbHNlLA0KICAgICAgdG9nZ2xlOmZhbHNlLA0KICAgICAgaXNfc3RhcnQ6ZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLiRyb290LmN1cnJlbnRfc2VjdGlvbiA9ICd0YXNrJw0KICAgIHRoaXMuZ2V0VGFza3MoKQ0KICAgIHRoaXMuZ2V0VXNlcnMoKQ0KICAgIHRoaXMuZ2V0VGFncygpDQogICAgdGhpcy5nZXREZXBhcnRtZW50cygpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZWxvYWRUYXNrcygpew0KICAgICAgdGhpcy50YXNrcyA9IFtdDQogICAgICB0aGlzLmdldFRhc2tzKCkNCiAgICB9LA0KICAgIHNlbGVjdFRhc2tDYXQodGFza19jYXRlZ29yeSl7DQogICAgICB0aGlzLmlzX25ld190YXNrID0gdHJ1ZQ0KICAgICAgdGhpcy5jdXJyZW50X3Rhc2tfY2F0ZWdvcnk9dGFza19jYXRlZ29yeQ0KICAgICAgdGhpcy50YXNrcyA9IFtdDQogICAgICB0aGlzLmN1cnJlbnRfdGFzayA9IHt9DQogICAgICB0aGlzLmdldFRhc2tzKCkNCiAgICB9LA0KICAgIGdldERhdGVJcyh0eXBlPSdUb2RheScsIGFjdGlvbj0nJyl7DQogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZQ0KICAgICAgdmFyIGRhdGUgPSAnJw0KICAgICAgaWYodHlwZT09J1RvZGF5Jyl7DQogICAgICAgIGRhdGUgPSB0b2RheS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSkNCiAgICAgIH0NCiAgICAgIGlmKHR5cGU9PSdUb21vcnJvdycpew0KICAgICAgICBkYXRlPXRvZGF5LnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgMSk7DQogICAgICB9DQogICAgICBpZih0eXBlPT0nTmV4dCBXZWVrJyl7DQogICAgICAgIGRhdGU9dG9kYXkuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyA3KTsNCiAgICAgIH0NCiAgICAgIGlmKGFjdGlvbj09J2NsaWNrJyl7DQogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRlKGRhdGUpDQogICAgICB9DQogICAgICByZXR1cm4gdGhpcy5kYXRlRm9ybWF0ZShkYXRlKQ0KICAgIH0sDQogICAgZ2V0VGFza3MoKSB7DQogICAgICB0aGlzLmlzX3N0YXJ0ID0gZmFsc2UNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza3MvP3Rhc2tfdHlwZT0nK3RoaXMuY3VycmVudF90YXNrX2NhdGVnb3J5LCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMuaXNfc3RhcnQgPSB0cnVlDQogICAgICAgIHRoaXMudGFza3MgPSBqc29uRGF0YQ0KICAgICAgICBpZih0aGlzLmN1cnJlbnRfbWFpbl90YXNrLmlkKXsNCiAgICAgICAgICBmb3IodmFyIHQ9MDt0PHRoaXMudGFza3MubGVuZ3RoO3QrKyl7DQogICAgICAgICAgICBpZih0aGlzLnRhc2tzW3RdLmlkPT10aGlzLmN1cnJlbnRfbWFpbl90YXNrLmlkKXsNCiAgICAgICAgICAgICAgdGhpcy5nZXRTdWJUYXNrcyh0aGlzLnRhc2tzW3RdKQ0KICAgICAgICAgICAgICB0PSB0aGlzLnRhc2tzLmxlbmd0aCsxDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgc2VsZWN0QWxsKCl7DQogICAgICB2YXIgc2VsZiA9IHRoaXMNCiAgICAgIGlmKHRoaXMuc2VsZWN0X2FsbCl7DQogICAgICAgIHRoaXMudXNlcnMuZm9yRWFjaChmdW5jdGlvbih1c2VyLGF1a2V5KXsNCiAgICAgICAgICBpZighc2VsZi5jdXJyZW50X2RlcGFydG1lbnQuaWQgfHwgKHVzZXIuZGVwYXJ0bWVudD09c2VsZi5jdXJyZW50X2RlcGFydG1lbnQuaWQpKXsNCiAgICAgICAgICAgIGlmKHNlbGYubmV3X3Rhc2suYXNzaWduX3Rhc2suaW5jbHVkZXModXNlci5pZCkpew0KICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLm5ld190YXNrLmFzc2lnbl90YXNrLmluZGV4T2YodXNlci5pZCkNCiAgICAgICAgICAgICAgc2VsZi5uZXdfdGFzay5hc3NpZ25fdGFzay5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICAgICAgICBzZWxmLm5ld190YXNrLmFzc2lnbl91c2Vycy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLnVzZXJzLmZvckVhY2goZnVuY3Rpb24odXNlcixhdWtleSl7DQogICAgICAgICAgaWYoIXNlbGYuY3VycmVudF9kZXBhcnRtZW50LmlkIHx8ICh1c2VyLmRlcGFydG1lbnQ9PXNlbGYuY3VycmVudF9kZXBhcnRtZW50LmlkKSl7DQogICAgICAgICAgICBpZihzZWxmLm5ld190YXNrLmFzc2lnbl90YXNrLmluY2x1ZGVzKHVzZXIuaWQpKXsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBzZWxmLm5ld190YXNrLmFzc2lnbl90YXNrLnB1c2godXNlci5pZCkNCiAgICAgICAgICAgICAgc2VsZi5uZXdfdGFzay5hc3NpZ25fdXNlcnMucHVzaCh7aWQ6dXNlci5pZCwgdXNlcm5hbWU6dXNlci51c2VybmFtZX0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0VGFzayh0YXNrKXsNCiAgICAgIHZhciBzZWxmID0gdGhpcw0KICAgICAgdGhpcy5pc19uZXdfdGFzayA9IGZhbHNlDQogICAgICBpZih0YXNrLm1haW5fdGFzayAmJiB0YXNrLnVzZXIhPXRoaXMudXNlcklkICYmICF0YXNrLmFzc2lnbl90YXNrLmluY2x1ZGVzKHRoaXMudXNlcklkKSl7DQogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdUaGUgdGFzayBpcyBub3QgeW91cnMnLCdyZWQnKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMuY3VycmVudF90YXNrID0ge30NCiAgICAgIGlmKHRhc2subWFpbl90YXNrKXsNCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgIHNlbGYuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgICB9LDApDQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5nZXRTdWJUYXNrcyh0YXNrKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0U3ViVGFza3ModGFzayl7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3Rhc2tzLz90YXNrX3R5cGU9Jyt0aGlzLmN1cnJlbnRfdGFza19jYXRlZ29yeSsnJnN1Yl90YXNrPScrdGFzay5pZCwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICBpZighdGhpcy5jdXJyZW50X3Rhc2suaWQpew0KICAgICAgICAgIHRoaXMuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgICB9DQogICAgICAgIHRhc2suc3ViX3Rhc2tzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXREZXBhcnRtZW50cygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIlRva2VuICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9kZXBhcnRtZW50Lz9lbXBsb3llZV9pZD0nK3RoaXMuZW1wbG95ZWVJZCwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmRlcGFydG1lbnRzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBjcmVhdGVGb3JtZGF0YSh0YXNrPXtpZDpudWxsfSkgew0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWyduZXdGb3JtJ10pDQogICAgICBpZih0YXNrLmlkKXsNCiAgICAgICAgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1N1YkZvcm0nK3Rhc2suaWQpKQ0KICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ21haW5fdGFzaycsIHRhc2suaWQpDQogICAgICB9DQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3VzZXInLCB0aGlzLnVzZXJJZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnbm90X2RlbGV0ZWQnLCAxKQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS90YXNrcy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5sb2NrX2J0biA9IGZhbHNlDQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIGlmKHRoaXMubmV3X3Rhc2suYXNzaWduX3Rhc2subGVuZ3RoPD0wKXsNCiAgICAgICAgICAgIHRoaXMubmV3X3Rhc2s9e2lzX2NvbXBsZXRlZDpmYWxzZSwgZHVlX2RhdGU6JycsIHJlbWlkZXJfZGF0ZTonJywgcmVwZWF0OidOb25lJyxhc3NpZ25fdGFzazpbXSxhc3NpZ25fdXNlcnM6W119DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubmV3X3N1Yl90YXNrPXtpc19jb21wbGV0ZWQ6ZmFsc2UsIGR1ZV9kYXRlOicnLCByZW1pZGVyX2RhdGU6JycsIHJlcGVhdDonTm9uZSd9DQogICAgICAgICAgdGhpcy5jdXJyZW50X3Rhc2sgPSBqc29uRGF0YQ0KICAgICAgICAgIHRoaXMudXBkYXRlU3ViVGFzaygpDQogICAgICAgICAgLy8gdGhpcy5zaG93QWxlcnQoJ0FkZGVkIFN1Y2Nlc3NmdWxseSEnKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB1cGRhdGVGb3JtZGF0YSgpIHsNCiAgICAgIGlmKHRoaXMuY3VycmVudF90YXNrLnVzZXIhPXRoaXMudXNlcklkICYmIHRoaXMuY3VycmVudF90YXNrLmltYWdlX2NvbXB1bHNvcnkgJiYgIXRoaXMuY3VycmVudF90YXNrLnByZXZpZXdfaW1hZ2UgJiYgIXRoaXMuY3VycmVudF90YXNrLmltYWdlKXsNCiAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1BsZWFzZSBhdHRhY2ggYW4gaW1hZ2UnLCdyZWQnKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLiRyZWZzWydkYXRhRm9ybSddKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCd1c2VyJywgdGhpcy5jdXJyZW50X3Rhc2sudXNlcikNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza3MvJyt0aGlzLmN1cnJlbnRfdGFzay5pZCsnLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUFVUJywNCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIHRoaXMuY3VycmVudF90YXNrID0ganNvbkRhdGENCiAgICAgICAgICBpZih0aGlzLmN1cnJlbnRfdGFzay5ub3RfZGVsZXRlZCl7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZVN1YlRhc2soKQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ1Rhc2sgRGVsZXRlZCEnLCdyZWQnKQ0KICAgICAgICAgICAgdGhpcy5nZXRUYXNrcygpDQogICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLnNob3dBbGVydCgnU29tZXRoaW5nIFdyb25nIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB1cGRhdGVTdWJUYXNrKCl7DQogICAgICBpZih0aGlzLmN1cnJlbnRfdGFza19jYXRlZ29yeT09J2NvbXBsZXRlZF90YXNrcycpew0KICAgICAgICB0aGlzLnNob3dBbGVydCgnVGhlIHRhc2sgd2FzIGNvbXBsZXRlZCEnLCAncmVkJykNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCd0YXNrJywgdGhpcy5jdXJyZW50X3Rhc2suaWQpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3VwZGF0ZV9zdWJfdGFza3MvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdQT1NUJywNCiAgICAgICAgICBib2R5IDogZm9ybWRhdGEsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIHRoaXMuY3VycmVudF90YXNrID0ganNvbkRhdGENCiAgICAgICAgICBpZihqc29uRGF0YS5tYWluX3Rhc2spew0KICAgICAgICAgICAgdGhpcy5nZXRTdWJUYXNrcyh0aGlzLmN1cnJlbnRfbWFpbl90YXNrKQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5nZXRUYXNrcygpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTYXZlZCEnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgc2VsZWN0RmlsZShlKSB7DQogICAgICB2YXIgaW1nX2ZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsNCiAgICAgIGlmKGltZ19maWxlKXsNCiAgICAgICAgdGhpcy5uZXdfYWN0aXZpdHkucHJldmlld19pbWFnZSA9ICcnDQogICAgICAgIHZhciBzZWxmPXRoaXMNCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgIHNlbGYubmV3X2FjdGl2aXR5LnByZXZpZXdfaW1hZ2UgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltZ19maWxlKTsNCiAgICAgICAgfSwxMCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZVRhc2soY29uZmlybT10cnVlKXsNCiAgICAgIGlmKGNvbmZpcm0pew0KICAgICAgICB0aGlzLiRzd2FsKHsNCiAgICAgICAgICB0aXRsZTogIkRlbGV0ZSBUYXNrIiwNCiAgICAgICAgICB0ZXh0OiAnQXJlIHlvdSBzdXJlPycsDQogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLA0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8iLA0KICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5kZWxldGVUYXNrKGZhbHNlKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYodGhpcy5jdXJyZW50X3Rhc2sudXNlcj09dGhpcy51c2VySWQpew0KICAgICAgICB0aGlzLmN1cnJlbnRfdGFzay5ub3RfZGVsZXRlZD0wDQogICAgICB9DQogICAgICB0aGlzLnVwZGF0ZUZvcm1kYXRhMigpDQogICAgfSwNCiAgICBjb21wbGV0ZVRhc2sodGFzaywgY29uZmlybT10cnVlKXsNCiAgICAgIGlmKCF0YXNrLmFzc2lnbl90YXNrLmluY2x1ZGVzKHRoaXMudXNlcklkKSl7DQogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdTdGF0dXMgaXMgJyt0YXNrLnN0YXR1cywneWVsbG93JykNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICBpZihjb25maXJtKXsNCiAgICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgICAgdGl0bGU6ICJDb21wbGV0ZWQgVGFzayIsDQogICAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZT8nLA0KICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcyIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vIiwNCiAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuY29tcGxldGVUYXNrKHRhc2ssIGZhbHNlKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGFzay5zdGF0dXM9J0NvbXBsZXRlZCcNCiAgICAgIHRoaXMuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgdGhpcy51cGRhdGVGb3JtZGF0YTIoKQ0KICAgIH0sDQogICAgZmluaXNoVGFzayhjb25maXJtPXRydWUpew0KICAgICAgaWYodGhpcy5jdXJyZW50X3Rhc2sudXNlciE9dGhpcy51c2VySWQpew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIGlmKGNvbmZpcm0pew0KICAgICAgICB0aGlzLiRzd2FsKHsNCiAgICAgICAgICB0aXRsZTogIkZpbmlzaCBUYXNrIiwNCiAgICAgICAgICB0ZXh0OiAnQXJlIHlvdSBzdXJlPycsDQogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLA0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8iLA0KICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5maW5pc2hUYXNrKGZhbHNlKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5jdXJyZW50X3Rhc2suaXNfY29tcGxldGVkID0gMQ0KICAgICAgdGhpcy51cGRhdGVGb3JtZGF0YTIoKQ0KICAgIH0sDQogICAgZ2V0VXNlcnMoKSB7DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJUb2tlbiAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvdXNlcnMvdXNlcnMvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLnVzZXJzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBzZWxlY3RVc2VyKHVzZXIsdWtleSl7DQogICAgICBpZih0aGlzLmN1cnJlbnRfdGFzay5hc3NpZ25fdGFzay5pbmNsdWRlcyh1c2VyLmlkKSl7DQogICAgICAgIHZhciBpbmRleCA9IHRoaXMuY3VycmVudF90YXNrLmFzc2lnbl90YXNrLmluZGV4T2YodXNlci5pZCkNCiAgICAgICAgdGhpcy5jdXJyZW50X3Rhc2suYXNzaWduX3Rhc2suc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgICAgdGhpcy5jdXJyZW50X3Rhc2suYXNzaWduX3VzZXJzLnNwbGljZShpbmRleCwgMSk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5jdXJyZW50X3Rhc2suYXNzaWduX3Rhc2sucHVzaCh1c2VyLmlkKQ0KICAgICAgICB0aGlzLmN1cnJlbnRfdGFzay5hc3NpZ25fdXNlcnMucHVzaCh7aWQ6dXNlci5pZCwgdXNlcm5hbWU6dXNlci51c2VybmFtZX0pDQogICAgICB9DQogICAgICB0aGlzLnVwZGF0ZUZvcm1kYXRhMigpDQogICAgICAvLyB2YXIgc2VsZiA9IHRoaXMNCiAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgIC8vICAgc2VsZi4kcmVmcy5hc3NpZ25fdGFza19kcnBkd24uc2hvdyh0cnVlKQ0KICAgICAgLy8gfSwwKQ0KICAgIH0sDQogICAgc2VsZWN0TmV3VXNlcih1c2VyLHVrZXkpew0KICAgICAgaWYodGhpcy5uZXdfdGFzay5hc3NpZ25fdGFzay5pbmNsdWRlcyh1c2VyLmlkKSl7DQogICAgICAgIHZhciBpbmRleCA9IHRoaXMubmV3X3Rhc2suYXNzaWduX3Rhc2suaW5kZXhPZih1c2VyLmlkKQ0KICAgICAgICB0aGlzLm5ld190YXNrLmFzc2lnbl90YXNrLnNwbGljZShpbmRleCwgMSk7DQogICAgICAgIHRoaXMubmV3X3Rhc2suYXNzaWduX3VzZXJzLnNwbGljZShpbmRleCwgMSk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5uZXdfdGFzay5hc3NpZ25fdGFzay5wdXNoKHVzZXIuaWQpDQogICAgICAgIHRoaXMubmV3X3Rhc2suYXNzaWduX3VzZXJzLnB1c2goe2lkOnVzZXIuaWQsIHVzZXJuYW1lOnVzZXIudXNlcm5hbWV9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0VGFncygpIHsNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza190YWdzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnZ2V0JywNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy50YWdzID0ganNvbkRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRBY3Rpdml0aWVzKHRhc2spIHsNCiAgICAgIHRoaXMuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgdGhpcy50YXNrX2FjdGl2aXRpZXMgPSBbXQ0KICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCdhY3Rpdml0eScpDQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL3Rhc2tfYWN0aXZpdGllcy8/dGFzaz0nK3RoaXMuY3VycmVudF90YXNrLmlkLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMudGFza19hY3Rpdml0aWVzID0ganNvbkRhdGENCiAgICAgICAgdGhpcy5yZW1vdmVOb3RpZmljYXRpb25zKHRhc2ssJ25ld19tZXNzYWdlcycpDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVtb3ZlTm90aWZpY2F0aW9ucyh0YXNrLHR5cGUpIHsNCiAgICAgIHRoaXMuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS91cGRhdGVfc3ViX3Rhc2tzLz90YXNrPScrdGhpcy5jdXJyZW50X3Rhc2suaWQrJyZub3RpX3R5cGU9Jyt0eXBlLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIGlmKGpzb25EYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgIHRoaXMuZ2V0VGFza3MoKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgdGFnU3RhdHVzKHRhc2spIHsNCiAgICAgIHRoaXMuY3VycmVudF90YXNrID0gdGFzaw0KICAgICAgdGhpcy50YWdfc3RhdHVzID0gW10NCiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygndGFzay10YWdzJykNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFnX3N0YXR1cy8/dGFzaz0nK3RoaXMuY3VycmVudF90YXNrLmlkLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgIHRoaXMudGFnX3N0YXR1cyA9IGpzb25EYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgc2VsZWN0VGFnKHRhZyl7DQogICAgICBpZih0aGlzLmxvY2tfYnRuKXsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLmN1cnJlbnRfdGFzay50YWc9dGFnDQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCd0YXNrJywgdGhpcy5jdXJyZW50X3Rhc2suaWQpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3RhZycsIHRhZy5pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgndXNlcicsIHRoaXMudXNlcklkKQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFnX3N0YXR1cy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ1BPU1QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5sb2NrX2J0biA9IGZhbHNlDQogICAgICAgIGlmKGpzb25EYXRhLmlkPjApew0KICAgICAgICAgIGlmKHRhZy5tYWluX3RhZyl7DQogICAgICAgICAgICB0aGlzLmdldFRhc2tzKCkNCiAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdUYWcgVXBkYXRlZCEnKQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50X3Rhc2subWFpbl90YWcgPSB0YWcuaWQNCiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybWRhdGEyKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBtZXNzYWdlRm9ybSh0YWcpew0KICAgICAgaWYodGhpcy5sb2NrX2J0bil7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJHJlZnNbJ21lc3NhZ2VGb3JtJ10pDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3Rhc2snLCB0aGlzLmN1cnJlbnRfdGFzay5pZCkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgndXNlcicsIHRoaXMudXNlcklkKQ0KICAgICAgdGhpcy5sb2NrX2J0biA9IHRydWUNCiAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlcnMuYXBwZW5kKCJBdXRob3JpemF0aW9uIiwgIkJlYXJlciAiK3RoaXMuJHJvb3QudG9rZW4pOw0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvdGFza19hY3Rpdml0aWVzLycsIHsNCiAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsDQogICAgICAgICAgYm9keSA6IGZvcm1kYXRhLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmxvY2tfYnRuID0gZmFsc2UNCiAgICAgICAgaWYoanNvbkRhdGEuaWQ+MCl7DQogICAgICAgICAgdGhpcy5uZXdfYWN0aXZpdHkgPSB7bm90ZTonJywgcHJldmlld19pbWFnZTonJ30NCiAgICAgICAgICB0aGlzLmdldEFjdGl2aXRpZXModGhpcy5jdXJyZW50X3Rhc2spDQogICAgICAgICAgdGhpcy5zaG93QWxlcnQoJ01lc3NhZ2Ugc2F2ZWQhJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFkZFN1YlRhc2sodGFzayl7DQogICAgICB0aGlzLm5ld19zdWJfdGFzayA9IHsNCiAgICAgICAgaXNfY29tcGxldGVkOmZhbHNlLA0KICAgICAgICBkdWVfZGF0ZTp0YXNrLmR1ZV9kYXRlLA0KICAgICAgICByZW1pZGVyX2RhdGU6dGFzay5yZW1pZGVyX2RhdGUsDQogICAgICAgIHJlcGVhdDp0YXNrLnJlcGVhdCwNCiAgICAgICAgcHJpb3JpdHk6dGFzay5wcmlvcml0eSwNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9jdXNJbnB1dCgnYWRkX3N1Yl90YXNrJyt0YXNrLmlkKQ0KICAgIH0sDQogICAgdXBkYXRlRm9ybWRhdGEyKCl7DQogICAgICB2YXIgc2VsZiA9IHRoaXMNCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgc2VsZi51cGRhdGVGb3JtZGF0YSgpDQogICAgICB9LDUwKQ0KICAgIH0sDQogICAgZm9jdXNJbnB1dChpbnB1dF9pZCl7DQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0X2lkKS5mb2N1cygpDQogICAgICB9LDUwKQ0KICAgIH0sDQogIH0sDQp9Ow0K"},null]}