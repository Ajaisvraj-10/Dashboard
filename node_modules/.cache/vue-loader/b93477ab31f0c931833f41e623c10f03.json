{"remainingRequest":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\src\\App.vue","mtime":1694766816157},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1691816385086},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\node_modules\\babel-loader\\lib\\index.js","mtime":1691816383919},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1691816385086},{"path":"C:\\Users\\HP\\OneDrive\\Desktop\\Videopages\\videopages-frontent\\node_modules\\vue-loader\\lib\\index.js","mtime":1691816392152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgbW91bnRlZCgpewogICAgaWYodGhpcy4kcm91dGUubmFtZSl7CiAgICAgIHRoaXMuaW5pdCgpCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5uYW1lJyA6IGZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5pbml0KCkKICAgIH0KICB9LAogIG1ldGhvZHMgOiB7CiAgICBpbml0KCl7CiAgICAgIC8vIGFsZXJ0KCdvaycpCiAgICAgIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LnByZXZpZXcpewogICAgICAgIHRoaXMuJHJvb3QuaXNfcHJldmlldyA9IHRydWUKICAgICAgfQogICAgICBpZih0aGlzLiRyb3V0ZS5xdWVyeS5zaWdub3V0KXsKICAgICAgICB0aGlzLnNpZ25PdXQoKQogICAgICB9CiAgICAgIGlmKHRoaXMuJHJvdXRlLm5hbWU9PSdzaWduLWluJyB8fCB0aGlzLiRyb3V0ZS5uYW1lPT0nZWRpdCcgfHwgdGhpcy4kcm91dGUubmFtZT09bnVsbCl7CiAgICAgICAgaWYodGhpcy4kcm91dGUubmFtZT09J2VkaXQnKXsKICAgICAgICAgIHRoaXMuZnJvbnRlbnRTZXR0aW5ncygpCiAgICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICBpZih0aGlzLiRyb3V0ZS5uYW1lIT1udWxsKXsKICAgICAgICAgIHRoaXMuY2hlY2tMb2dpbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNoZWNrTG9naW4oKXsKICAgICAgdmFyIGlzX2xvZ2dpbiA9IGZhbHNlCiAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKQogICAgICB7CiAgICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikubGVuZ3RoPjApewogICAgICAgICAgdmFyIHVzZXJkdGxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbInVzZXJJbmZvIl0pOwogICAgICAgICAgdGhpcy4kcm9vdC50b2tlbiA9IHVzZXJkdGxzLmFjY2VzcwogICAgICAgICAgdGhpcy51c2VySWQgPSB1c2VyZHRscy51c2VyX2RldGFpbHMuaWQKICAgICAgICAgIHRoaXMuJHJvb3QudXNlckluZm8gPSB1c2VyZHRscy51c2VyX2RldGFpbHMKICAgICAgICAgIGlzX2xvZ2dpbiA9IHRydWUKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LmF1dGhfdG9rZW4pewogICAgICAgICAgaWYodGhpcy5sb2FkX3NldHRpbmcpewogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubG9hZF9zZXR0aW5nID0gdHJ1ZQogICAgICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOwogICAgICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm91dGUucXVlcnkuYXV0aF90b2tlbik7CiAgICAgICAgICBhd2FpdCBmZXRjaCh0aGlzLmFwaV91cmwrJy91c2Vycy91c2VyX2RhdGEvJywgewogICAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLAogICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cz09NDAxKXsKICAgICAgICAgICAgICB0aGlzLnNpZ25PdXQoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoanNvbkRhdGEpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkX3NldHRpbmcgPSBmYWxzZQogICAgICAgICAgICBqc29uRGF0YSA9IGpzb25EYXRhLnVzZXIKICAgICAgICAgICAgdmFyIHVzZXJkdGxzID0ganNvbkRhdGEudXNlcl9kZXRhaWxzCiAgICAgICAgICAgIHRoaXMuJHJvb3QudG9rZW4gPSBqc29uRGF0YS5hdXRoX3Rva2VuCiAgICAgICAgICAgIHRoaXMudXNlcklkID0gdXNlcmR0bHMuaWQKICAgICAgICAgICAgdGhpcy4kcm9vdC51c2VySW5mbyA9IHVzZXJkdGxzCiAgICAgICAgICAgIGlzX2xvZ2dpbiA9IHRydWUKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmKCFpc19sb2dnaW4pewogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgICB0aGlzLiRyb290LnRva2VuID0gJycKICAgICAgICAgIHRoaXMudXNlcklkID0gJycKICAgICAgICAgIHRoaXMuJHJvb3QudXNlckluZm8gPSBbXQogICAgICB9CiAgICAgIGlmKCF0aGlzLiRyb290LmFkbWluX3Rva2VuKXsKICAgICAgICB0aGlzLmZyb250ZW50U2V0dGluZ3MoKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgZnJvbnRlbnRTZXR0aW5ncygpIHsKICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOwogICAgICB2YXIgZG9tYWluID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lCiAgICAgIHZhciBmaWx0ZXIgPSAnP3RoZW1lPScrdGhlbWVfbmFtZQogICAgICBmaWx0ZXIgKz0gJyZkb21haW49Jytkb21haW4KICAgICAgaWYodGhpcy4kcm9vdC50b2tlbil7CiAgICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbik7CiAgICAgICAgZmlsdGVyICs9ICcmaXNfbG9nZ2luPXRydWUnCiAgICAgIH0KICAgICAgaWYodGhpcy5sb2FkX3NldHRpbmcpewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIHRoaXMubG9hZF9zZXR0aW5nID0gdHJ1ZQogICAgICBhd2FpdCBmZXRjaCh0aGlzLmFwaV91cmwrJy9jdXN0b21lci9mcm9udGVudF9zZXR0aW5ncy8nK2ZpbHRlciwgewogICAgICAgICAgbWV0aG9kIDogJ2dldCcsCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICB9KQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBpZihyZXNwb25zZS5zdGF0dXM9PTQwMSl7CiAgICAgICAgICB0aGlzLnNpZ25PdXQoKQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpCiAgICAgIH0pCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gewogICAgICAgIHRoaXMubG9hZF9zZXR0aW5nID0gZmFsc2UKICAgICAgICBpZihqc29uRGF0YS5zdWNjZXNzKXsKICAgICAgICAgIHRoaXMuJHJvb3QuYWRtaW5fdG9rZW4gPSBqc29uRGF0YS5hZG1pbl90b2tlbgogICAgICAgICAgZm9yKHZhciBsPTA7bDxqc29uRGF0YS5sb2dvcy5sZW5ndGg7bCsrKXsKICAgICAgICAgICAgdmFyIGxuID0ganNvbkRhdGEubG9nb3NbbF0KICAgICAgICAgICAgdGhpcy5mcm9udGVudF9zZXR0aW5nc1t0aGlzLnNsdWdpZnkobG4ubmFtZSldID0gdGhpcy5hcGlfdXJsK2xuLmltYWdlCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmZyb250ZW50X3NldHRpbmdzLm5hbWUgPSBqc29uRGF0YS5uYW1lCiAgICAgICAgICB0aGlzLnNvY2lhbF9saW5rcyA9IGpzb25EYXRhLnNvY2lhbF9saW5rcwogICAgICAgICAgdGhpcy5mcm9udGVudF9zZXR0aW5ncy5oYXZlX3BsYW4gPSBqc29uRGF0YS5oYXZlX3BsYW4KICAgICAgICAgIHRoaXMubGliYXJ5X2lkID0ganNvbkRhdGEubGliYXJ5X2lkCiAgICAgICAgICBpZighdGhpcy4kcm91dGUucXVlcnkucHJldmlldyAmJiBqc29uRGF0YS5wbGF0Zm9ybSE9J1Bob25lJyl7CiAgICAgICAgICAgIGlmKGpzb25EYXRhLmxvZ2luX3JlcXVpcmVkKXsKICAgICAgICAgICAgICBpZighanNvbkRhdGEuaGF2ZV9wbGFuICYmIHRoaXMuJHJvb3QudG9rZW4pewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wbGFuJykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYoIXRoaXMuJHJvb3QudG9rZW4pewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zaWduLWluJykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZih0aGlzLiRyb290LnRva2VuKXsKICAgICAgICAgICAgICBpZighanNvbkRhdGEuaGF2ZV9wbGFuKXsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGxhbicpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CgogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n      <router-view/>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  mounted(){\n    if(this.$route.name){\n      this.init()\n    }\n  },\n  watch: {\n    '$route.name' : function(){\n        this.init()\n    }\n  },\n  methods : {\n    init(){\n      // alert('ok')\n      if(this.$route.query.preview){\n        this.$root.is_preview = true\n      }\n      if(this.$route.query.signout){\n        this.signOut()\n      }\n      if(this.$route.name=='sign-in' || this.$route.name=='edit' || this.$route.name==null){\n        if(this.$route.name=='edit'){\n          this.frontentSettings()\n        }\n      }else{\n        if(this.$route.name!=null){\n          this.checkLogin();\n        }\n      }\n    },\n    async checkLogin(){\n      var is_loggin = false\n      if(localStorage.getItem(\"userInfo\"))\n      {\n        if(localStorage.getItem(\"userInfo\").length>0){\n          var userdtls = JSON.parse(localStorage[\"userInfo\"]);\n          this.$root.token = userdtls.access\n          this.userId = userdtls.user_details.id\n          this.$root.userInfo = userdtls.user_details\n          is_loggin = true\n        }\n      }else{\n        if(this.$route.query.auth_token){\n          if(this.load_setting){\n            return false\n          }\n          this.load_setting = true\n          var headers = new Headers();\n          headers.append(\"Authorization\", \"Bearer \"+this.$route.query.auth_token);\n          await fetch(this.api_url+'/users/user_data/', {\n              method : 'get',\n              headers: headers,\n          })\n          .then((response) => {\n            if(response.status==401){\n              this.signOut()\n            }\n            return response.json()\n          })\n          .then((jsonData) => {\n            this.load_setting = false\n            jsonData = jsonData.user\n            var userdtls = jsonData.user_details\n            this.$root.token = jsonData.auth_token\n            this.userId = userdtls.id\n            this.$root.userInfo = userdtls\n            is_loggin = true\n          })\n        }\n      }\n      if(!is_loggin){\n          localStorage.removeItem(\"userInfo\");\n          this.$root.token = ''\n          this.userId = ''\n          this.$root.userInfo = []\n      }\n      if(!this.$root.admin_token){\n        this.frontentSettings()\n      }\n    },\n    async frontentSettings() {\n      var headers = new Headers();\n      var domain = window.location.hostname\n      var filter = '?theme='+theme_name\n      filter += '&domain='+domain\n      if(this.$root.token){\n        headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\n        filter += '&is_loggin=true'\n      }\n      if(this.load_setting){\n        return false\n      }\n      this.load_setting = true\n      await fetch(this.api_url+'/customer/frontent_settings/'+filter, {\n          method : 'get',\n          headers: headers,\n      })\n      .then((response) => {\n        if(response.status==401){\n          this.signOut()\n        }\n        return response.json()\n      })\n      .then((jsonData) => {\n        this.load_setting = false\n        if(jsonData.success){\n          this.$root.admin_token = jsonData.admin_token\n          for(var l=0;l<jsonData.logos.length;l++){\n            var ln = jsonData.logos[l]\n            this.frontent_settings[this.slugify(ln.name)] = this.api_url+ln.image\n          }\n          this.frontent_settings.name = jsonData.name\n          this.social_links = jsonData.social_links\n          this.frontent_settings.have_plan = jsonData.have_plan\n          this.libary_id = jsonData.libary_id\n          if(!this.$route.query.preview && jsonData.platform!='Phone'){\n            if(jsonData.login_required){\n              if(!jsonData.have_plan && this.$root.token){\n                this.$router.push('/plan')\n              }\n              if(!this.$root.token){\n                this.$router.push('/sign-in')\n              }\n            }\n            else if(this.$root.token){\n              if(!jsonData.have_plan){\n                this.$router.push('/plan')\n              }\n            }\n          }\n        }else{\n\n        }\n      })\n    },\n  },\n};\n</script>\n"]}]}