{"remainingRequest":"/Users/muhammed/Documents/vue_projects/ott-frontent/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/ott-frontent/src/views/app/videoflix_web/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/ott-frontent/src/views/app/videoflix_web/edit.vue","mtime":1683960482000},{"path":"/Users/muhammed/Documents/vue_projects/ott-frontent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/ott-frontent/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/ott-frontent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/ott-frontent/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBTaWduSW5QYWdlTnRmbGl4V2ViIGZyb20gJy9zcmMvdmlld3MvYXBwL3ZpZGVvZmxpeF93ZWIvc2lnbi1pbicNCmltcG9ydCBTaWduVXBQYWdlTnRmbGl4V2ViIGZyb20gJy9zcmMvdmlld3MvYXBwL3ZpZGVvZmxpeF93ZWIvcmVnaXN0cmF0aW9uLTEnDQppbXBvcnQgSG9tZVBhZ2VOdGZsaXhXZWIgZnJvbSAnL3NyYy92aWV3cy9hcHAvdmlkZW9mbGl4X3dlYi9ob21lJw0KaW1wb3J0IExvZ2luSGVscFBhZ2VOdGZsaXhXZWIgZnJvbSAnL3NyYy92aWV3cy9hcHAvdmlkZW9mbGl4X3dlYi9sb2dpbi1oZWxwJw0KaW1wb3J0IFBsYW5QYWdlTnRmbGl4V2ViIGZyb20gJy9zcmMvdmlld3MvYXBwL3ZpZGVvZmxpeF93ZWIvcGxhbicNCmltcG9ydCBNYWluUGFnZU50ZmxpeFdlYiBmcm9tICcvc3JjL3ZpZXdzL2FwcC92aWRlb2ZsaXhfd2ViL21haW4nDQppbXBvcnQgV2F0Y2hpbmdQYWdlTnRmbGl4V2ViIGZyb20gJy9zcmMvdmlld3MvYXBwL3ZpZGVvZmxpeF93ZWIvd2F0Y2hpbmcnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIFNpZ25JblBhZ2VOdGZsaXhXZWIsDQogICAgU2lnblVwUGFnZU50ZmxpeFdlYiwNCiAgICBIb21lUGFnZU50ZmxpeFdlYiwNCiAgICBMb2dpbkhlbHBQYWdlTnRmbGl4V2ViLA0KICAgIFBsYW5QYWdlTnRmbGl4V2ViLA0KICAgIE1haW5QYWdlTnRmbGl4V2ViLA0KICAgIFdhdGNoaW5nUGFnZU50ZmxpeFdlYiwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGFnZV9pZDpudWxsLA0KICAgICAgY3VycmVudF9wYWdlOntzbHVnOicnfSwNCiAgICAgIGJsb2NrczpbXSwNCiAgICAgIGN1cnJlbnRfYmxvY2s6e30sDQogICAgICB0aGVtZW5hbWU6JycsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMudGhlbWVuYW1lID0gdGhlbWVfbmFtZQ0KICAgIHRoaXMucGFnZV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wYWdlDQogICAgdGhpcy5nZXRDdXJyZW50UGFnZSgpDQogIH0sDQogIG1ldGhvZHM6ew0KICAgIGdldEN1cnJlbnRQYWdlKCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2NvbnRlbnQvcGFnZXMvJyt0aGlzLnBhZ2VfaWQrJy8nLCB7DQogICAgICAgICAgbWV0aG9kIDogJ2dldCcsDQogICAgICAgICAgaGVhZGVyczogaGVhZGVycywNCiAgICAgIH0pDQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICB9KQ0KICAgICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7DQogICAgICAgICAgdGhpcy5jdXJyZW50X3BhZ2UgPSBqc29uRGF0YQ0KICAgICAgICAgIHRoaXMuYmxvY2tzID0ganNvbkRhdGEuYmxvY2tzDQogICAgICB9KQ0KICAgIH0sDQogICAgZWRpdENvbnRlbnQoYmxvY2spew0KICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaChmdW5jdGlvbihibGspew0KICAgICAgICAgIGJsay5pc19lZGl0ID0gZmFsc2UNCiAgICAgIH0pDQogICAgICB2YXIgc2VsZj10aGlzDQogICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2Nrc18nK2Jsb2NrLmlkKTsNCiAgICAgIGlmKGVsZW1lbnQpew0KICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICJzbW9vdGgiLCBibG9jazogJ2VuZCcgfSk7DQogICAgICB9DQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgIGJsb2NrLmlzX2VkaXQgPSB0cnVlDQogICAgICAgIHNlbGYuY3VycmVudF9ibG9jayA9IGJsb2NrDQogICAgICB9LDUwKQ0KDQogICAgfSwNCiAgICBzZWxlY3RlZENvbnRlbnQoY29udGVudCl7DQogICAgICB0aGlzLmN1cnJlbnRfYmxvY2sgPSBjb250ZW50DQogICAgfSwNCiAgICBzZWxlY3RGaWxlKGUsYmxvY2spIHsNCiAgICAgIGJsb2NrLmlzX2VkaXQ9dHJ1ZQ0KICAgICAgYmxvY2sudmFsdWU9dHJ1ZQ0KICAgICAgdmFyIGltZ19maWxlID0gZS50YXJnZXQuZmlsZXNbMF07DQogICAgICBpZihpbWdfZmlsZSl7DQogICAgICAgIGJsb2NrLmltYWdlID0gJycNCiAgICAgICAgdmFyIHNlbGY9dGhpcw0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgICAgYmxvY2suaW1hZ2UgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltZ19maWxlKTsNCiAgICAgICAgfSwxMCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHVwZGF0ZUJsb2NrKCkgew0KICAgICAgdGhpcy5jdXJyZW50X2Jsb2NrLmlzX2VkaXQgPSBmYWxzZQ0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibG9ja0Zvcm0nKSkNCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnbmFtZScsdGhpcy5jdXJyZW50X2Jsb2NrLm5hbWUpDQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3BhZ2UnLHRoaXMuY3VycmVudF9ibG9jay5wYWdlKQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiVG9rZW4gIit0aGlzLiRyb290LnRva2VuKTsNCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2NvbnRlbnQvYmxvY2tzLycrdGhpcy5jdXJyZW50X2Jsb2NrLmlkKycvJywgew0KICAgICAgICAgIG1ldGhvZCA6ICdQVVQnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgaWYoanNvbkRhdGEuaWQpew0KICAgICAgICAgIHRoaXMuY3VycmVudF9ibG9jayA9IHt9DQogICAgICAgICAgdGhpcy5nZXRDdXJyZW50UGFnZSgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfQ0KIA0KDQp9Ow0K"},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"edit.vue","sourceRoot":"src/views/app/videoflix_web","sourcesContent":["\r\n<template>\r\n  <div>\r\n    <div class=\"row mx-0 edit-sec\" style=\"height: 100vh;\r\n    overflow: hidden;\">\r\n      <div class=\"col-lg-4 border-right \" style=\"height:100vh;overflow:auto;padding:25px;\">\r\n          <div class=\"card border shadow-2 w-100 mb-4\" style=\"max-height:80vh\" v-if=\"current_block.id\">\r\n          <form id=\"blockForm\"  @submit.prevent=\"updateBlock()\">\r\n            <div class=\"active_sec\" >\r\n              <div class=\"text-right  p-2\" style=\"background-color: rgb(247, 247, 247);border-radius:10px 10px 0 0;\">\r\n                <div class=\"text-14 text-dark\" style=\"position:absolute;left:10px;top:15px\">\r\n                  {{current_block.status?'Show':'Hide'}} <input type=\"checkbox\" name=\"status\" v-model=\"current_block.status\" style=\"zoom:1.3\">\r\n                </div>\r\n                <button type=\"submit\" class=\"btn py-1 text-white \" style=\"background-color:#0073a7;\">Save</button>\r\n              </div>\r\n              <div class=\"  m-2\">\r\n                <input v-model=\"block.value\" name=\"value\" class=\"p-2 modal-input w-100\" style=\"height:36px!important;\" v-if=\"current_block.input_type=='text'\">\r\n                <!-- <div  class=\"textareaElement px-3 py-2 modal-input \" contenteditable v-else-if=\"block.input_type=='textarea'\">{{block.value}}</div> -->\r\n                <textarea class=\"p-2 modal-input w-100\" v-model=\"current_block.value\" name=\"value\" v-else-if=\"current_block.input_type=='textarea'\" @keyup=\"$event.target.style.height=($event.target.scrollHeight)+'px'\"></textarea>\r\n                <input type=\"color\" v-model=\"current_block.value\" name=\"value\" class=\"p-2  modal-input w-100\" style=\"height:36px;\" v-else-if=\"current_block.input_type=='color'\">\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"p-3\" v-if=\"current_block.input_type=='file'\">\r\n                <img :src=\"current_block.value?current_block.image:api_url+current_block.image\" class=\"rounded w-100\">\r\n                <div class=\"position-relative w-100\" style=\"margin-top:-10px;\">\r\n                    <input type=\"file\" name=\"image\" class=\"p-0  modal-input w-100\" style=\"opacity:0;position: absolute;left: 0;width: 100%;z-index: 9999;height: 100%;cursor:pointer;\" @change=\"selectFile($event,current_block)\">\r\n                    <button class=\"btn text-white  w-100 py-3\" type=\"button\" style=\"background-color:#0073a7;border-radius:0 0 6px 6px; \" >Change your image</button>\r\n                </div>\r\n            </div> \r\n          </form>\r\n        </div>\r\n        <div class=\"card border shadow-2 w-100 mb-4\" v-for=\"block in blocks\" v-if=\"!block.is_edit\">\r\n          <form>\r\n            <div class=\"flex-align p-3\">\r\n                <h6 class=\"mb-0 text-dark mr-2 text-14 font-weight-400\" style=\"line-height:20px;\">{{block.value}}</h6>\r\n                <button type=\"button\" class=\"btn\" @click=\"editContent(block)\"><i class=\"fa fa-pencil mr-1\" style=\"font-size:11px;color:gray;\"></i>Edit</button>\r\n            </div>\r\n            <div class=\"p-2\" v-if=\"block.input_type=='file'\">\r\n                <img :src=\"block.value?block.image:api_url+block.image\" class=\"rounded w-100\">\r\n            </div> \r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-8 px-0 \">\r\n        <div class=\"mt-0\" style=\"position:relative\" v-if=\"themename=='videoflix_web'\">\r\n          <HomePageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-if=\"current_page.slug=='/'\" @selectedContent=\"selectedContent\"></HomePageNtflixWeb>\r\n          <SignInPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/sign-in'\" @selectedContent=\"selectedContent\"></SignInPageNtflixWeb>\r\n          <SignUpPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/sign-up'\" @selectedContent=\"selectedContent\"></SignUpPageNtflixWeb>\r\n          <LoginHelpPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/login-help'\" @selectedContent=\"selectedContent\"></LoginHelpPageNtflixWeb>\r\n          <PlanPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/plan'\" @selectedContent=\"selectedContent\"></PlanPageNtflixWeb>\r\n          <MainPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/main'\" @selectedContent=\"selectedContent\"></MainPageNtflixWeb>\r\n          <WatchingPageNtflixWeb edit=\"1\" :blocks=\"blocks\" class=\"combonent_class\" v-else-if=\"current_page.slug=='/watching/22'\" @selectedContent=\"selectedContent\"></WatchingPageNtflixWeb>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport SignInPageNtflixWeb from '/src/views/app/videoflix_web/sign-in'\r\nimport SignUpPageNtflixWeb from '/src/views/app/videoflix_web/registration-1'\r\nimport HomePageNtflixWeb from '/src/views/app/videoflix_web/home'\r\nimport LoginHelpPageNtflixWeb from '/src/views/app/videoflix_web/login-help'\r\nimport PlanPageNtflixWeb from '/src/views/app/videoflix_web/plan'\r\nimport MainPageNtflixWeb from '/src/views/app/videoflix_web/main'\r\nimport WatchingPageNtflixWeb from '/src/views/app/videoflix_web/watching'\r\n\r\nexport default {\r\n  components: {\r\n    SignInPageNtflixWeb,\r\n    SignUpPageNtflixWeb,\r\n    HomePageNtflixWeb,\r\n    LoginHelpPageNtflixWeb,\r\n    PlanPageNtflixWeb,\r\n    MainPageNtflixWeb,\r\n    WatchingPageNtflixWeb,\r\n  },\r\n  data() {\r\n    return {\r\n      page_id:null,\r\n      current_page:{slug:''},\r\n      blocks:[],\r\n      current_block:{},\r\n      themename:'',\r\n    };\r\n  },\r\n  mounted(){\r\n    this.themename = theme_name\r\n    this.page_id = this.$route.params.page\r\n    this.getCurrentPage()\r\n  },\r\n  methods:{\r\n    getCurrentPage() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/content/pages/'+this.page_id+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n          this.current_page = jsonData\r\n          this.blocks = jsonData.blocks\r\n      })\r\n    },\r\n    editContent(block){\r\n      this.blocks.forEach(function(blk){\r\n          blk.is_edit = false\r\n      })\r\n      var self=this\r\n      const element = document.getElementById('blocks_'+block.id);\r\n      if(element){\r\n        element.scrollIntoView({ behavior: \"smooth\", block: 'end' });\r\n      }\r\n      setTimeout(function(){\r\n        block.is_edit = true\r\n        self.current_block = block\r\n      },50)\r\n\r\n    },\r\n    selectedContent(content){\r\n      this.current_block = content\r\n    },\r\n    selectFile(e,block) {\r\n      block.is_edit=true\r\n      block.value=true\r\n      var img_file = e.target.files[0];\r\n      if(img_file){\r\n        block.image = ''\r\n        var self=this\r\n        setTimeout(function(){\r\n          block.image = URL.createObjectURL(img_file);\r\n        },10)\r\n      }\r\n    },\r\n    updateBlock() {\r\n      this.current_block.is_edit = false\r\n      var formdata = new FormData(document.getElementById('blockForm'))\r\n      formdata.append('name',this.current_block.name)\r\n      formdata.append('page',this.current_block.page)\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/content/blocks/'+this.current_block.id+'/', {\r\n          method : 'PUT',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        if(jsonData.id){\r\n          this.current_block = {}\r\n          this.getCurrentPage()\r\n        }\r\n      })\r\n    },\r\n  }\r\n \r\n\r\n};\r\n</script>\r\n<style scoped>\r\n.combonent_class{\r\n  border:0;\r\n  transform:scale(.666);\r\n  width:100vw;\r\n  transform-origin: left top;\r\n  height: 150vh;\r\n}\r\n.flex-align{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.shadow-2 {\r\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\r\n}\r\ntextarea {\r\n    /*resize: none;*/\r\n    overflow: hidden;\r\n    height:calc(80vh - 200px);\r\n    min-height: 20px;\r\n    border:1px solid lightgray;\r\n    line-height:22px;\r\n    border-radius:6px;\r\n    padding:10px 20px!important;\r\n    font-size:14px;\r\n}\r\n\r\n</style>\r\n\r\n\r\n<style>\r\n\r\n\r\n  ::-webkit-scrollbar {\r\n  width: 7px;\r\n}\r\n\r\n\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: lightgray!important; \r\n\r\n}\r\n\r\n.selected_content{\r\n    border: 1px solid red;\r\n    padding:10px;\r\n    position:relative;\r\n    cursor:pointer;  \r\n}\r\n\r\n.selected_content:after{\r\n    content: '✎ Edit';\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    color: white;\r\n    font-size: 18px;\r\n    border: 1px solid red;\r\n    background-color: red;\r\n    padding: 5px;\r\n    line-height: 18px;\r\n}\r\n\r\n.edit-sec .btn:hover{\r\n transform:translate(1px);\r\n transition:.1s;\r\n}\r\n.edit-sec .btn{\r\n padding:3px 12px;\r\n font-size: 12px;\r\n}\r\n\r\n\r\n.active_sec{\r\n  \r\n  height:auto;\r\n  opacity:1;\r\n  transition:1s;\r\n\r\n\r\n}\r\n.hide_sec{\r\n\r\n  height:0;\r\n  opacity:0;\r\n\r\n\r\n}\r\n</style>\r\n"]}]}