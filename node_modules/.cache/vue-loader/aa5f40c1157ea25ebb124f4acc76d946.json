{"remainingRequest":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/farmers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/src/views/app/pages/farmers.vue","mtime":1678346673097},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammed/Documents/vue_projects/backend/biowin aeo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1ldGFJbmZvOiB7DQogICAgdGl0bGU6ICJIb21lIg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmYXJtZXJzOltdLA0KICAgICAgdGVtcF9mYXJtZXJzOltdLA0KICAgICAgc2VhcmNoUXVlcnk6JycsDQogICAgICBwYWdlOjAsDQogICAgICBmYXJtZXJzX2NvdW50OjAsDQogICAgICBmaWx0ZXI6e2ljczpudWxsLHBhbmNoYXlhdGg6bnVsbCx2ZmM6bnVsbCxjb3VudDowfSwNCiAgICAgIGxvYWRfbW9yZTpmYWxzZSwNCiAgICAgIG5vdF9zdGFydDp0cnVlLA0KDQogICAgICBiYWNrZ3JvdW5kX3N0YXJ0OnRydWUsDQogICAgICBsYXN0U2Nyb2xsUG9zaXRpb246IDAsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMuY2hlY2tMb2dpbigpDQogICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oImZhcm1lcl9maWx0ZXIiKSl7DQogICAgICB0aGlzLmZpbHRlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWyJmYXJtZXJfZmlsdGVyIl0pDQogICAgICB0aGlzLnNlbGVjdEZpbHRlcigpDQogICAgICB0aGlzLmZpbHRlckRhdGEoKQ0KICAgIH1lbHNlew0KICAgICAgdGhpcy5nZXRGYXJtZXJzKCkNCiAgICB9DQoNCiAgICB2YXIgc2VsZiA9IHRoaXMNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtYWluLWJvZHk0IilbMF0uYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgKCkgPT4gew0KICAgICAgICBzZWxmLmhhbmRsZVNjcm9sbCgpDQogICAgfSk7IA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlU2Nyb2xsICgpIHsNCiAgICAgIGNvbnN0IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1haW4tYm9keTQiKVswXQ0KICAgICAgICAgIC5zY3JvbGxUb3ANCiAgICAgIGlmIChjdXJyZW50U2Nyb2xsUG9zaXRpb24gPCAwKSB7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQogICAgICB0aGlzLmJhY2tncm91bmRfc3RhcnQgPSBjdXJyZW50U2Nyb2xsUG9zaXRpb24gPCB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbg0KICAgICAgdGhpcy5sYXN0U2Nyb2xsUG9zaXRpb24gPSBjdXJyZW50U2Nyb2xsUG9zaXRpb24NCiAgICB9LA0KICAgIHJlc3VsdFF1ZXJ5KCl7DQogICAgICBpZih0aGlzLnNlYXJjaFF1ZXJ5PT0nY2hlY2tfY2FtMTAxJyl7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaW5zcGVjdGlvbi1kaWdpdGFsLXNpZ24vNScpDQogICAgICB9DQogICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXphdGlvbiIsICJCZWFyZXIgIit0aGlzLiRyb290LnRva2VuKQ0KICAgICAgZmV0Y2godGhpcy5hcGlfdXJsKycvZW1wbG95ZWUvZmFybWVycy8/c2VhcmNoPScrdGhpcy5zZWFyY2hRdWVyeSwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLmZhcm1lcnMgPSBqc29uRGF0YS5mYXJtZXJzDQogICAgICAgIHRoaXMubG9hZF9tb3JlID0gZmFsc2UNCiAgICAgIH0pDQogICAgICBpZih0aGlzLnNlYXJjaFF1ZXJ5PT0nJyl7DQogICAgICAgIHRoaXMuZmFybWVyc19jb3VudCA9IGpzb25EYXRhLmZhcm1lcnNfY291bnQNCiAgICAgICAgdGhpcy5mYXJtZXJzID0gdGhpcy50ZW1wX2Zhcm1lcnMNCiAgICAgICAgdGhpcy5nZXRGYXJtZXJzKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEZhcm1lcnMoKSB7DQogICAgICB0aGlzLnBhZ2UrKzsNCiAgICAgIHRoaXMubm90X3N0YXJ0ID0gdHJ1ZQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbikNCiAgICAgIHZhciBwYXJhbSA9ICc/cGFnZT0nK3RoaXMucGFnZQ0KICAgICAgaWYodGhpcy4kcm9vdC51c2VyX3R5cGU9PSdpbnNwZWN0b3InKXsNCiAgICAgICAgcGFyYW0gKz0gJyZpbnNwZWN0b3I9Jyt0aGlzLiRyb290Lmluc3BlY3RvckluZm8uaWQNCiAgICAgIH0NCiAgICAgIGZldGNoKHRoaXMuYXBpX3VybCsnL2VtcGxveWVlL2Zhcm1lcnMvJytwYXJhbSwgew0KICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLA0KICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgfSkNCiAgICAgIC50aGVuKChqc29uRGF0YSkgPT4gew0KICAgICAgICB0aGlzLm5vdF9zdGFydCA9IGZhbHNlDQogICAgICAgIHRoaXMuZmFybWVyc19jb3VudCA9IGpzb25EYXRhLmZhcm1lcnNfY291bnQNCiAgICAgICAgZm9yKHZhciBpPTA7aTxqc29uRGF0YS5mYXJtZXJzLmxlbmd0aDtpKyspew0KICAgICAgICAgIHRoaXMuZmFybWVycy5wdXNoKGpzb25EYXRhLmZhcm1lcnNbaV0pDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5sb2FkX21vcmUgPSB0cnVlDQogICAgICAgIGlmKGk8MjApew0KICAgICAgICAgIHRoaXMubG9hZF9tb3JlID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnRlbXBfZmFybWVycyA9IHRoaXMuZmFybWVycw0KICAgICAgfSkNCiAgICB9LA0KICAgIHNlbGVjdEZpbHRlcigpew0KICAgICAgdGhpcy5wYWdlID0gMDsNCiAgICAgIHRoaXMuZ2V0VHlwZXMoKQ0KICAgICAgdGhpcy5nZXRJY3MoKQ0KICAgICAgaWYodGhpcy5maWx0ZXIuaWNzKXsNCiAgICAgICAgdGhpcy5jaGFuZ2VJQ1MoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2FuY2VsRmlsdGVyKCl7DQogICAgICB0aGlzLnBhZ2UgPSAwOw0KICAgICAgdGhpcy5mYXJtZXJzID0gW10NCiAgICAgIHRoaXMuZ2V0RmFybWVycygpOw0KICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCdmaWx0ZXItZGF0YScpOw0KICAgICAgdGhpcy5maWx0ZXI9e2ljczpudWxsLHBhbmNoYXlhdGg6bnVsbCx2ZmM6bnVsbCxjb3VudDowfQ0KICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImZhcm1lcl9maWx0ZXIiKTsNCiAgICB9LA0KICAgIGNhbGNGaWx0ZXJDb3VudCgpew0KICAgICAgdmFyIGNvdW50ID0gMA0KICAgICAgaWYodGhpcy5maWx0ZXIuaWNzKXsNCiAgICAgICAgY291bnQrKw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5maWx0ZXIucGFuY2hheWF0aCl7DQogICAgICAgIGNvdW50KysNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuZmlsdGVyLnZmYyl7DQogICAgICAgIGNvdW50KysNCiAgICAgIH0NCiAgICAgIHRoaXMuZmlsdGVyLmNvdW50ID0gY291bnQNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJmYXJtZXJfZmlsdGVyIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5maWx0ZXIpKTsNCiAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnZmlsdGVyLWRhdGEnKQ0KICAgIH0sDQogICAgZmlsdGVyRGF0YSgpIHsNCiAgICAgIHRoaXMucGFnZSsrOw0KICAgICAgdGhpcy5ub3Rfc3RhcnQgPSB0cnVlDQogICAgICB0aGlzLmNhbGNGaWx0ZXJDb3VudCgpDQogICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgZm9ybWRhdGEuYXBwZW5kKCdmcG8nLHRoaXMuJHJvb3QudXNlckluZm8uZnBvKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLmljcylmb3JtZGF0YS5hcHBlbmQoJ2ljcycsdGhpcy5maWx0ZXIuaWNzKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLnBhbmNoYXlhdGgpZm9ybWRhdGEuYXBwZW5kKCdwYW5jaGF5YXRoJyx0aGlzLmZpbHRlci5wYW5jaGF5YXRoKTsNCiAgICAgIGlmKHRoaXMuZmlsdGVyLnZmYylmb3JtZGF0YS5hcHBlbmQoJ3ZmYycsdGhpcy5maWx0ZXIudmZjKTsNCiAgICAgIGlmKHRoaXMuJHJvb3QudXNlcl90eXBlPT0naW5zcGVjdG9yJyl7DQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnaW5zcGVjdG9yJyx0aGlzLiRyb290Lmluc3BlY3RvckluZm8uaWQpOw0KICAgICAgfQ0KICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOw0KICAgICAgaGVhZGVycy5hcHBlbmQoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIrdGhpcy4kcm9vdC50b2tlbik7DQogICAgICBmZXRjaCh0aGlzLmFwaV91cmwrJy9lbXBsb3llZS9mYXJtZXJzLz9wYWdlPScrdGhpcy5wYWdlLCB7DQogICAgICAgICAgbWV0aG9kIDogJ3Bvc3QnLA0KICAgICAgICAgIGJvZHkgOiBmb3JtZGF0YSwNCiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLA0KICAgICAgfSkNCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgIH0pDQogICAgICAudGhlbigoanNvbkRhdGEpID0+IHsNCiAgICAgICAgdGhpcy5ub3Rfc3RhcnQgPSBmYWxzZQ0KICAgICAgICB0aGlzLmZhcm1lcnNfY291bnQgPSBqc29uRGF0YS5mYXJtZXJzX2NvdW50DQogICAgICAgIGZvcih2YXIgaT0wO2k8anNvbkRhdGEuZmFybWVycy5sZW5ndGg7aSsrKXsNCiAgICAgICAgICB0aGlzLmZhcm1lcnMucHVzaChqc29uRGF0YS5mYXJtZXJzW2ldKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMubG9hZF9tb3JlID0gdHJ1ZQ0KICAgICAgICBpZihpPDIwKXsNCiAgICAgICAgICB0aGlzLmxvYWRfbW9yZSA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgaWYoanNvbkRhdGEuZmFybWVycy5sZW5ndGg8PTApew0KICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdObyBmYXJtZXJzIGZvdW5kIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["farmers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"farmers.vue","sourceRoot":"src/views/app/pages","sourcesContent":["\r\n<template>\r\n  <div class=\"main-content\" :class=\"background_start?'':'biowin-scroll'\">\r\n    <main >\r\n      <div class=\"header-bio\">\r\n        <div class=\"container d-flex justify-content-between align-items-center px-4\">\r\n          <div class=\"d-flex\">\r\n            <router-link tag=\"a\" class to=\"/\"><img src=\"/images/left-arrow.png\" width=\"10\"></router-link>\r\n            <h4 class=\"font-weight-700 px-3\"> Farmers</h4>\r\n          </div>\r\n          <router-link tag=\"a\" class to=\"/farmer/create\" v-if=\"$root.user_type=='aeo'\">\r\n            <div class=\"add-btn\">\r\n              <img src=\"/images/plus.png\">\r\n              <h6 class=\"text-16 add-btn-text ml-2\">Add</h6>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"\" v-if=\"not_start\">\r\n        <div class=\"loading\" style=\"z-index:999999999999999\"></div>\r\n      </div>\r\n\r\n      <div class=\"main-body4\" id=\"main_body\" :style=\"not_start?'opacity:0.5':''\">\r\n        \r\n        <div class=\" my-3 flex-align px-3\" style=\"gap:10px;\">\r\n          <div  class=\"input-group input-group-lg mb-0\">\r\n            <div  class=\"input-group-prepend\" >\r\n              <div  class=\"input-group-text\" >\r\n                <img src=\"/images/search.png\" width=\"25\">\r\n              </div>\r\n            </div>\r\n            <input  type=\"text\" class=\"form-control\" autocomplete=\"off\" placeholder=\"Search\"  v-model=\"searchQuery\" @keyup=\"resultQuery()\" >\r\n          </div>\r\n\r\n          <b-modal id=\"filter-data\" title=\"Filter\" hide-footer>\r\n            <div>\r\n              <form ref=\"filterData\" @submit.prevent=\"filterData()\">\r\n                <!-- <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">\r\n                    FPO\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.fpo\" name=\"fpo\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\">\r\n                    <b-form-select-option v-for=\"type in types\" :value=\"type.id\">{{type.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div> -->\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">ICS\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.ics\" name=\"ics\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\" @change=\"changeICS()\">\r\n                    <b-form-select-option v-for=\"ics in all_ics\" :value=\"ics.id\" v-if=\"ics.type==$root.userInfo.fpo\">{{ics.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">Panchayath\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.panchayath\" name=\"panchayath\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\">\r\n                    <b-form-select-option v-for=\"panchayath in all_panchayaths\" :value=\"panchayath.id\">{{panchayath.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <div class=\"filter-item flex-align\">\r\n                  <label class=\"check-container\">VFC\r\n                  </label>\r\n                  <b-form-select v-model=\"filter.vfc\" name=\"vfc\" class=\"mb-3\" style=\"max-width: 120px;min-height: 35px;\">\r\n                    <b-form-select-option v-for=\"vfc in all_vfc\" :value=\"vfc.id\" v-if=\"vfc.location.revenue_village_detail.panchayath  == filter.panchayath\">{{vfc.name}}</b-form-select-option>\r\n                  </b-form-select>\r\n                </div>\r\n                <hr>\r\n                <div class=\"filter-item flex-align\">\r\n                  <b-button type=\"button\" variant=\"outline-info\" class=\"w-100 px-3 py-1 ml-1 mr-2\" @click=\"cancelFilter()\">Cancel</b-button>\r\n                  <b-button @click=\"farmers=[]\" type=\"submit\" variant=\"success\" class=\"w-100 px-3 py-1 mr-1 ml-2\">Submit</b-button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n\r\n\r\n          </b-modal>\r\n         \r\n        </div>\r\n        \r\n        <div class=\"mb-3 px-3\">\r\n          <div class=\"card px-2 py-2\">\r\n            <table>\r\n              <tr>\r\n                <td class=\"pl-2\">Total Farmers</td>\r\n                <td>:</td>\r\n                <th> {{farmers_count}}</th>\r\n              </tr>\r\n              <tr v-if=\"filter.ics\">\r\n                <td class=\"pl-2\">ICS</td>\r\n                <td>:</td>\r\n                <th>\r\n                  <span class=\"badge badge-primary py-1 ml-1\" v-for=\"ics in all_ics\" v-if=\"ics.id==filter.ics\">{{ics.name}}</span>\r\n                </th>\r\n              </tr>\r\n              <tr v-if=\"filter.vfc\">\r\n                <td class=\"pl-2\">VFC</td>\r\n                <td>:</td>\r\n                <th>\r\n                  <span class=\"badge badge-success py-1 ml-1\" v-for=\"vfc in all_vfc\" v-if=\"vfc.id==filter.vfc\">{{vfc.name}}</span>\r\n                </th>\r\n              </tr>\r\n              <tr v-if=\"filter.panchayath\">\r\n                <td class=\"pl-2\">Panchayath</td>\r\n                <td>:</td>\r\n                <th>\r\n                  <span class=\"badge badge-primary py-1 ml-1\" v-for=\"panchayath in all_panchayaths\" v-if=\"panchayath.id==filter.panchayath\">{{panchayath.name}}</span>\r\n                </th>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"hr-min\"></div>\r\n        <div class=\"my-3 px-3\" style=\"display: flex;flex-direction: column;gap: 16px;\">\r\n          \r\n          <div v-for=\"(farmer,key) in farmers\"> \r\n            <router-link :to=\"'/farmer-detail/'+farmer.id\"> \r\n              <div class=\" borderless-card\">\r\n                <div class=\"d-flex justify-content-between align-items-center  px-0 py-1\">\r\n                  <h4 class=\"font-weight-500\">{{farmer.name}} <span class=\"font-weight-500 text-13 pr-2\" v-for=\"status in farmer.statuses\" :class=\"status=='ORG'?'text-success':status=='NEW'?'text-blue':'text-primary'\">{{status}}</span></h4>\r\n                  <h4 class=\"font-weight-500 text-right text-13 ml-3 py-1 text-green text-14\" style=\"white-space: pre;\">#{{farmer.farmer_code}}</h4>\r\n\r\n                </div>\r\n               <div class=\"hr-min\"></div>\r\n                <div class=\"d-flex justify-content-between px-0 py-1 \">\r\n                  <div>\r\n                    <h6 class=\" font-weight-500 text-light\">Address: <b>{{farmer.house_name}}</b></h6>\r\n                    \r\n                  </div>\r\n                  <h6 class=\"m-0 font-weight-700 pl-2 text-light \">{{farmer.panchayath}}</h6>\r\n\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n            \r\n          </div>  \r\n          <div class=\"\">\r\n            <h4 class=\"font-weight-700 my-2 pl-2 text-green text-center\" @click=\"filter.count>0?filterData():getFarmers()\" v-if=\"load_more\">Load More</h4>\r\n          </div>\r\n        </div>   \r\n              \r\n          \r\n      </div>\r\n      <div class=\"filter-footer\">\r\n        <div class=\"footer-item2 d-flex align-items-center\" @click=\"$router.push('/')\">\r\n          <img src=\"/images/home.png\" class=\"\" width=\"25\">\r\n          <h5 class=\"m-0 pl-2 text-white\">Home</h5>\r\n        </div>\r\n        <div class=\"footer-item2 filter-icon d-flex align-items-center\" @click=\"selectFilter()\" v-b-modal.filter-data>\r\n         \r\n            <img src=\"/images/settings.png\" class=\"\" width=\"25\" >\r\n            <div class=\"filter-number\" v-if=\"filter.count>0\">{{filter.count}}</div>\r\n            <h5 class=\"m-0 pl-2 text-white\">Filter</h5>\r\n         \r\n        </div>\r\n      </div>\r\n\r\n\r\n    </main>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Home\"\r\n  },\r\n  data() {\r\n    return {\r\n      farmers:[],\r\n      temp_farmers:[],\r\n      searchQuery:'',\r\n      page:0,\r\n      farmers_count:0,\r\n      filter:{ics:null,panchayath:null,vfc:null,count:0},\r\n      load_more:false,\r\n      not_start:true,\r\n\r\n      background_start:true,\r\n      lastScrollPosition: 0,\r\n    };\r\n  },\r\n  mounted(){\r\n    this.checkLogin()\r\n    if(localStorage.getItem(\"farmer_filter\")){\r\n      this.filter = JSON.parse(localStorage[\"farmer_filter\"])\r\n      this.selectFilter()\r\n      this.filterData()\r\n    }else{\r\n      this.getFarmers()\r\n    }\r\n\r\n    var self = this\r\n    document.getElementsByClassName(\"main-body4\")[0].addEventListener(\"scroll\", () => {\r\n        self.handleScroll()\r\n    }); \r\n  },\r\n  methods: {\r\n    handleScroll () {\r\n      const currentScrollPosition = document.getElementsByClassName(\"main-body4\")[0]\r\n          .scrollTop\r\n      if (currentScrollPosition < 0) {\r\n        return 0\r\n      }\r\n      this.background_start = currentScrollPosition < this.lastScrollPosition\r\n      this.lastScrollPosition = currentScrollPosition\r\n    },\r\n    resultQuery(){\r\n      if(this.searchQuery=='check_cam101'){\r\n        this.$router.push('/inspection-digital-sign/5')\r\n      }\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token)\r\n      fetch(this.api_url+'/employee/farmers/?search='+this.searchQuery, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.farmers = jsonData.farmers\r\n        this.load_more = false\r\n      })\r\n      if(this.searchQuery==''){\r\n        this.farmers_count = jsonData.farmers_count\r\n        this.farmers = this.temp_farmers\r\n        this.getFarmers()\r\n      }\r\n    },\r\n    getFarmers() {\r\n      this.page++;\r\n      this.not_start = true\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token)\r\n      var param = '?page='+this.page\r\n      if(this.$root.user_type=='inspector'){\r\n        param += '&inspector='+this.$root.inspectorInfo.id\r\n      }\r\n      fetch(this.api_url+'/employee/farmers/'+param, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.not_start = false\r\n        this.farmers_count = jsonData.farmers_count\r\n        for(var i=0;i<jsonData.farmers.length;i++){\r\n          this.farmers.push(jsonData.farmers[i])\r\n        }\r\n        this.load_more = true\r\n        if(i<20){\r\n          this.load_more = false\r\n        }\r\n        this.temp_farmers = this.farmers\r\n      })\r\n    },\r\n    selectFilter(){\r\n      this.page = 0;\r\n      this.getTypes()\r\n      this.getIcs()\r\n      if(this.filter.ics){\r\n        this.changeICS()\r\n      }\r\n    },\r\n    cancelFilter(){\r\n      this.page = 0;\r\n      this.farmers = []\r\n      this.getFarmers();\r\n      this.$bvModal.hide('filter-data');\r\n      this.filter={ics:null,panchayath:null,vfc:null,count:0}\r\n      localStorage.removeItem(\"farmer_filter\");\r\n    },\r\n    calcFilterCount(){\r\n      var count = 0\r\n      if(this.filter.ics){\r\n        count++\r\n      }\r\n      if(this.filter.panchayath){\r\n        count++\r\n      }\r\n      if(this.filter.vfc){\r\n        count++\r\n      }\r\n      this.filter.count = count\r\n      localStorage.setItem(\"farmer_filter\", JSON.stringify(this.filter));\r\n      this.$bvModal.hide('filter-data')\r\n    },\r\n    filterData() {\r\n      this.page++;\r\n      this.not_start = true\r\n      this.calcFilterCount()\r\n      var formdata = new FormData()\r\n      formdata.append('fpo',this.$root.userInfo.fpo);\r\n      if(this.filter.ics)formdata.append('ics',this.filter.ics);\r\n      if(this.filter.panchayath)formdata.append('panchayath',this.filter.panchayath);\r\n      if(this.filter.vfc)formdata.append('vfc',this.filter.vfc);\r\n      if(this.$root.user_type=='inspector'){\r\n        formdata.append('inspector',this.$root.inspectorInfo.id);\r\n      }\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Bearer \"+this.$root.token);\r\n      fetch(this.api_url+'/employee/farmers/?page='+this.page, {\r\n          method : 'post',\r\n          body : formdata,\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.not_start = false\r\n        this.farmers_count = jsonData.farmers_count\r\n        for(var i=0;i<jsonData.farmers.length;i++){\r\n          this.farmers.push(jsonData.farmers[i])\r\n        }\r\n        this.load_more = true\r\n        if(i<20){\r\n          this.load_more = false\r\n        }\r\n        if(jsonData.farmers.length<=0){\r\n          this.showAlert('No farmers found!')\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n\r\n@import './style/style.css';\r\n  \r\n</style>\r\n"]}]}