{"remainingRequest":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\fpo\\inspection-form.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\vue_projects\\biowin\\src\\views\\app\\oodo\\fpo\\inspection-form.vue","mtime":1671539253066},{"path":"E:\\vue_projects\\biowin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\vue_projects\\biowin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_projects\\biowin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KQGltcG9ydCAnLi4vc3R5bGVzL3N0eWxlLmNzcyc7DQoNCg0K"},{"version":3,"sources":["inspection-form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyZA","file":"inspection-form.vue","sourceRoot":"src/views/app/oodo/fpo","sourcesContent":["<template>\r\n  <div class=\"main-content create-main\">\r\n    <form ref=\"dataForm\" @submit.prevent=\"dataForm()\">\r\n      <div>\r\n         <div class=\"d-flex mb-2 align-items-center  justify-content-between\">\r\n              <slot name=\"header\">\r\n                 <h5 class=\"mb-0\"><span class=\"text-success\">Inspection</span> / {{slugToWord(action)}}</h5>\r\n                    \r\n              </slot>\r\n              <div class=\"d-flex\">\r\n                 <b-button variant=\"success\" type=\"submit\" class=\" px-3 py-1  d-sm-block mx-1\"\r\n                  v-if=\"action!='view'\">Save\r\n                </b-button>\r\n                 <b-button variant=\"primary\" type=\"button\" class=\" px-3 py-1  d-sm-block mx-1\"\r\n                  @click=\"action='edit'\">Edit\r\n                </b-button>\r\n                <router-link to=\"/app/fpo/farmers\">\r\n                  <b-button variant=\"danger\" class=\" px-3 py-1  d-sm-block mx-1\"\r\n                    >Discard\r\n                  </b-button>\r\n                </router-link>\r\n                <b-dropdown id=\"dropdown-right\" right text=\"Action\" variant=\"default\" class=\"action-button mx-1\">\r\n                  <b-dropdown-header id=\"dropdown-header-label\">\r\n                      <h6 class=\"cursor-pointer my-2\">Delete</h6>\r\n                      <h6 class=\"cursor-pointer my-2\">Duplicate</h6>\r\n\r\n\r\n                      \r\n                     \r\n                  </b-dropdown-header>\r\n                </b-dropdown>\r\n              </div>\r\n             \r\n          </div>\r\n          <div class=\" my-3 border-top\"></div>\r\n      </div>\r\n      <!-- <div class=\"wrapper\"> -->\r\n      <b-row class=\"main-scroll\">\r\n        <b-col lg=\"6\" xl=\"6\">\r\n          <b-card  header-bg-variant=\"transparent\" class=\"card-scroll mt-2\">\r\n            <h5 class=\"mb-2\">Inspection:</h5>\r\n            <div class=\"card \">\r\n              <div class=\"p-4\">\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">FPO:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500\"><span class=\"badge badge-primary \"  v-for=\"type in types\" v-if=\"form_data.type==type.id\">{{type.name}}</span></h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">ICS:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500\"><span class=\"badge badge-primary \">{{form_data.farmer_detail.ics_name}}</span></h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">VFC:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500\"><span class=\"badge badge-primary\">{{form_data.farmer_detail.vfc_name}}</span></h2>\r\n                </div>\r\n                \r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Farmer Name:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500\">{{form_data.farmer_detail.name}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\" >\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Farmer Code:</h2>\r\n                  <h2 class=\" badge badge-success  mx-3 \">{{form_data.farmer_detail.farmer_code}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\" >\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Status:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500 \">{{form_data.farmer_detail.status}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Date of previous inspection:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500 \">{{dateFormate(form_data.date_of_previous_inspection)}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14 px-0  col-7 text-light\">Date of inspection:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500 \">{{dateFormate(form_data.date_of_inspection)}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Inspector:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500 \">{{form_data.inspector_detail.name}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0 pb-3\">\r\n                  <h2 class=\"text-14  px-0 col-7 text-light\">Phone:</h2>\r\n                  <h2 class=\"text-14 col-5 font-weight-500 \">{{form_data.inspector_detail.phone}}</h2>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n        <b-col lg=\"6\" xl=\"6\">\r\n          <b-card  header-bg-variant=\"transparent\" class=\"card-scroll mt-2\">\r\n            <h5 class=\"mb-2\">Land Details:</h5>\r\n            <div class=\"card \">\r\n              <div class=\"p-4\">\r\n                <div class=\" row mx-0  pb-2\">\r\n                  <h2 class=\"text-14  col-5 p-0 text-light\">Survey Number:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.survey_number}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14 col-5 p-0  text-light\">Year:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.year}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14 col-5 p-0  text-light\">Total Organic Area:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.organic_area}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14  col-5 p-0 text-light\">Conventional Land Area:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.conventional_land_area}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14   col-5 p-0 text-light\">Wet Land:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.wet_land}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14   col-5 p-0 text-light\">Other Land:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.other_land}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3\">\r\n                  <h2 class=\"text-14   col-5 p-0 text-light\">Total Farming Area:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.lands.total_farming_area}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3 align-items-center\">\r\n                  <h2 class=\"text-14   col-5 p-0 text-light\">File:</h2>\r\n                  <div class=\"text-14 col-7 font-weight-500 \" v-if=\"form_data.lands.file\">\r\n                    <img :src=\"form_data.lands.file\" width=\"150\" height=\"40\" class=\"rounded\" style=\"object-fit:cover;\">\r\n                  </div>\r\n                </div>\r\n               \r\n\r\n              </div>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n        <b-col lg=\"12\" xl=\"12\">\r\n          <b-card  header-bg-variant=\"transparent\" class=\"card-scroll mt-2\">\r\n            <h5 class=\"mb-2\">Plant Details:</h5>\r\n            <div class=\"row mx-0\" v-for=\"category in categories\">\r\n              <div class=\"card col-4\" v-for=\"(plant,key) in category.plants\" v-if=\"plant.number\">\r\n                <div class=\"p-4\">\r\n                  <div class=\" row mx-0  pb-2\">\r\n                    <h2 class=\"text-14  col-7 p-0 text-light\">{{plant.name}} Number:</h2>\r\n                    <h2 class=\"text-14 col-5 font-weight-500 \">{{plant.number}}</h2>\r\n                  </div>\r\n                  <div class=\"row mx-0  pb-3\">\r\n                    <h2 class=\"text-14 col-7 p-0  text-light\">Year:</h2>\r\n                    <h2 class=\"text-14 col-5 font-weight-500 \">{{form_data.plants.year}}</h2>\r\n                  </div>\r\n                  <div class=\"row mx-0 pb-2\" v-for=\"(product,key2) in plant.products\">\r\n                    <h2 class=\"text-14  col-7 p-0 text-light\">Estimate {{product.product_type_detail.name}}:</h2>\r\n                    <h2 class=\"text-14 col-5 font-weight-500 \">{{plant['estimate'+product.product_type+plant.id]}}</h2>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n        <b-col lg=\"6\" xl=\"6\" v-for=\"(category,index) in q_categories\">\r\n          <b-card  header-bg-variant=\"transparent\" class=\"card-scroll mt-2\">\r\n            <h5 class=\"mb-2\">{{category.name}}:</h5>\r\n            <div class=\"card \">\r\n              <div class=\"px-4 pb-1\" v-for=\"question in category.questions\">\r\n                <div class=\" mx-0  py-2 my-1 border-bottom\">\r\n                  <h2 class=\"text-14  pb-2 text-light\"><b>Q)</b> {{question.name}}</h2>\r\n                  <h2 class=\"text-14 font-weight-500 \">{{question.answers.answer}}</h2>\r\n                </div>\r\n                <div class=\"mx-0  py-2 my-1 border-bottom\" v-if=\"question.remark\">\r\n                  <h2 class=\"text-14 pb-2  text-light\">{{question.remark}}</h2>\r\n                  <h2 class=\"text-14 font-weight-500 \">{{question.answers.remark}}</h2>\r\n                </div>\r\n                <div class=\"mx-0  py-2 my-1\" v-if=\"question.field=='File'\">\r\n                  <h2 class=\"text-14   p-0 text-light\">Photo</h2>\r\n                  <div class=\"text-14 font-weight-500 mt-3\">\r\n                    <img :src=\"question.answers.answer\" class=\"rounded\" style=\"object-fit:cover;\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n        <b-col lg=\"12\" xl=\"12\">\r\n          <b-card  header-bg-variant=\"transparent\" class=\"card-scroll mt-2\">\r\n            <h5 class=\"mb-2\">Digital Sign:</h5>\r\n            <div class=\"card mb-5\">\r\n              <div class=\"p-4\">\r\n                <div class=\" row mx-0  pb-2\">\r\n                  <h2 class=\"text-14  col-5 p-0 text-light\">Name:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.verifyer_name}}</h2>\r\n                </div>\r\n                <div class=\" row mx-0  pb-2\" v-if=\"form_data.verifyer=='Other'\">\r\n                  <h2 class=\"text-14  col-5 p-0 text-light\">Relationship:</h2>\r\n                  <h2 class=\"text-14 col-7 font-weight-500 \">{{form_data.relationship}}</h2>\r\n                </div>\r\n                <div class=\"row mx-0  pb-3 align-items-center\">\r\n                  <h2 class=\"text-14   col-12 p-0 text-light\">Photo:</h2>\r\n                  <div class=\"text-14 col-12 font-weight-500 mt-4 text-center\" v-if=\"form_data.photo\">\r\n                    <img :src=\"form_data.photo\" width=\"150\" height=\"auto\" class=\"rounded\" style=\"object-fit:cover;\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n      </b-row>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport LocationFields from '/src/views/app/oodo/components/location_fields'\r\nexport default {\r\n  metaInfo: {\r\n    title: \"FPO - ICS\"\r\n  },\r\n  components:{\r\n    LocationFields\r\n  },\r\n  data() {\r\n    return {\r\n      form_data:{\r\n        year:2022,\r\n        type:null,\r\n        ics:null,\r\n        vfc:null,\r\n        farmer:null,\r\n        farmer_detail:{lands:{created_on:null}},\r\n        internal_inspector:null,\r\n        inspector_detail:{phone:''},\r\n        date_of_inspection:'',\r\n        lands:[],\r\n      },\r\n      types:[],\r\n      icss:[],\r\n      vfcs:[],\r\n      farmers:[],\r\n      inspectors:[],\r\n      categories:[],\r\n      q_categories:[],\r\n      id:this.$route.params.id,\r\n      action:'view',\r\n      not_start:true,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$root.current_section = 'fpo'\r\n    this.action = this.$route.params.action\r\n    this.getTypes()\r\n    if(this.action == 'edit' || this.action == 'view'){\r\n      this.id = this.$route.params.id\r\n      this.getInspection()\r\n    }\r\n  },\r\n  methods: {\r\n    getTypes() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token)\r\n      fetch(this.api_url+'/fpo/get_farmer_by_vfc/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.types = jsonData\r\n        this.not_start = false\r\n        if(this.id){\r\n          var self = this\r\n          setTimeout(function(){\r\n            self.change_select('type')\r\n            self.change_select('ics')\r\n            self.change_select('vfc')\r\n            self.change_select('farmer')\r\n            self.change_select('inspector')\r\n          },500)\r\n        }\r\n      })\r\n    },\r\n    getFarmer() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token)\r\n      fetch(this.api_url+'/fpo/farmers/'+this.form_data.farmer+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.form_data.farmer_detail = jsonData\r\n        this.form_data.type = jsonData.fpo\r\n        this.form_data.ics = jsonData.ics\r\n        this.form_data.vfc = jsonData.vfc\r\n        var self = this\r\n        setTimeout(function(){\r\n          self.change_select('type')\r\n          self.change_select('ics')\r\n          self.change_select('vfc')\r\n          self.change_select('farmer')\r\n        },500)\r\n      })\r\n    },\r\n    getInspection() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token)\r\n      fetch(this.api_url+'/fpo/inspection/'+this.id+'/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        this.form_data = jsonData\r\n        this.getPlants()\r\n        this.getQuestions()\r\n      })\r\n    },\r\n    getPlants() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token);\r\n      fetch(this.api_url+'/fpo/plant_categories/', {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        var self = this\r\n        jsonData.forEach(function(category,key1){\r\n          category.plants.forEach(function(plant,key2){\r\n            jsonData[key1].plants[key2]['number'] = ''\r\n            plant.products.forEach(function(product,key3){\r\n              jsonData[key1].plants[key2]['estimate'+product.product_type+plant.id] = ''\r\n              self.setEstimate(plant,product)\r\n            })\r\n          })\r\n        })\r\n        this.categories = jsonData\r\n      })\r\n    },\r\n    setEstimate(plant,product){\r\n      if(this.form_data.plants.id){\r\n        var plants = this.form_data.plants.plants\r\n        plants.forEach(function(val){\r\n          if(product.id == val.product){\r\n            plant['number'] = val.number\r\n            plant['estimate'+product.product_type+plant.id] = val.estimate\r\n          }\r\n        })\r\n      }\r\n    },\r\n    getQuestions() {\r\n      var headers = new Headers();\r\n      headers.append(\"Authorization\", \"Token \"+this.$root.token)\r\n      fetch(this.api_url+'/employee/add_answers/?inspection='+this.id, {\r\n          method : 'get',\r\n          headers: headers,\r\n      })\r\n      .then((response) => {\r\n          return response.json()\r\n      })\r\n      .then((jsonData) => {\r\n        jsonData.forEach(function(category,key1){\r\n          category.questions.forEach(function(question,key2){\r\n            if(!question.answers){\r\n              jsonData[key1].questions[key2]['answers']['answer'] = ''\r\n              jsonData[key1].questions[key2]['answers']['remark'] = ''\r\n            }\r\n          })\r\n        })\r\n        this.q_categories = jsonData\r\n      })\r\n    },\r\n    change_select(type){\r\n      var value = ''\r\n      var self = this\r\n      if(type=='type'){\r\n        value = this.form_data.type\r\n        this.types.forEach(function(list){\r\n          if(list.id==value){\r\n            self.icss = list.ics\r\n          }\r\n        })\r\n      }else if(type=='ics'){\r\n        value = this.form_data.ics\r\n        this.icss.forEach(function(list){\r\n          if(list.id==value){\r\n            self.vfcs = list.vfc\r\n          }\r\n        })\r\n      }else if(type=='vfc'){\r\n        value = this.form_data.vfc\r\n      }else if(type=='inspector'){\r\n        value = this.form_data.internal_inspector\r\n        this.inspectors.forEach(function(list){\r\n          if(list.id==value){\r\n            self.form_data.inspector_detail = list\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style >\r\n\r\n@import '../styles/style.css';\r\n\r\n\r\n</style>\r\n"]}]}