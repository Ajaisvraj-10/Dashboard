{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-26df4e3d\"],{\"84cd\":function(t,e,s){\"use strict\";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"main-content\",class:t.background_start?\"\":\"biowin-scroll\"},[s(\"main\",[s(\"div\",{staticClass:\"header-bio\"},[s(\"div\",{staticClass:\"container d-flex justify-content-between align-items-center px-4\"},[s(\"div\",{staticClass:\"d-flex\"},[s(\"router-link\",{attrs:{tag:\"a\",to:\"/\"}},[s(\"img\",{attrs:{src:\"/images/left-arrow.png\",width:\"10\"}})]),s(\"h4\",{staticClass:\"font-weight-500 px-3\"},[t._v(\" Inspection\")])],1),s(\"router-link\",{attrs:{tag:\"a\",to:\"/inspection/create\"}},[s(\"div\",{staticClass:\"add-btn\"},[s(\"img\",{attrs:{src:\"/images/plus.png\"}}),s(\"h6\",{staticClass:\"text-16 add-btn-text ml-2\"},[t._v(\"Add\")])])])],1)]),t.not_start?s(\"div\",{},[s(\"div\",{staticClass:\"loading\",staticStyle:{\"z-index\":\"999999999999999\"}})]):t._e(),s(\"div\",{staticClass:\"main-body4 py-2\",style:t.not_start?\"opacity:0.5\":\"\"},[s(\"div\",{staticClass:\"mx-0 row\"},[s(\"div\",{staticClass:\"col-6 pr-1\"},[s(\"b-form-select\",{attrs:{autocomplete:\"off\"},on:{change:function(e){return t.getYears()}},model:{value:t.selected_year,callback:function(e){t.selected_year=e},expression:\"selected_year\"}},t._l(t.years,(function(e){return s(\"b-form-select-option\",{attrs:{value:e.year}},[t._v(t._s(e.year)+\" (\"+t._s(e.count)+\")\")])})),1)],1),s(\"div\",{staticClass:\"col-6 pl-1\"},[s(\"b-form-select\",{model:{value:t.status,callback:function(e){t.status=e},expression:\"status\"}},[s(\"b-form-select-option\",{attrs:{value:\"\"}},[t._v(\"Status\")]),t._l([\"Completed\",\"Not Completed\"],(function(e){return s(\"b-form-select-option\",{attrs:{value:e}},[t._v(t._s(e))])}))],2)],1)]),s(\"div\",{staticClass:\"flex-align my-1 px-3\",staticStyle:{gap:\"10px\"}},[s(\"div\",{staticClass:\"input-group mb-2 input-group-lg\"},[t._m(0),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.searchQuery,expression:\"searchQuery\"}],staticClass:\"form-control\",staticStyle:{\"border-left\":\"0\"},attrs:{type:\"text\",autocomplete:\"off\",placeholder:\"Search\"},domProps:{value:t.searchQuery},on:{keyup:function(e){return t.resultQuery()},input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),s(\"b-modal\",{attrs:{id:\"filter-data\",title:\"Filter\",\"hide-footer\":\"\"}},[s(\"div\",[s(\"form\",{ref:\"filterData\",on:{submit:function(e){return e.preventDefault(),t.getYears()}}},[s(\"div\",{staticClass:\"filter-item flex-align\"},[s(\"label\",{staticClass:\"check-container\"},[t._v(\"ICS \")]),s(\"b-form-select\",{staticClass:\"mb-3\",staticStyle:{\"max-width\":\"120px\",\"min-height\":\"35px\"},attrs:{name:\"ics\"},on:{change:function(e){return t.changeICS()}},model:{value:t.filter.ics,callback:function(e){t.$set(t.filter,\"ics\",e)},expression:\"filter.ics\"}},t._l(t.all_ics,(function(e){return e.type==t.$root.userInfo.fpo?s(\"b-form-select-option\",{attrs:{value:e.id}},[t._v(t._s(e.name))]):t._e()})),1)],1),s(\"div\",{staticClass:\"filter-item flex-align\"},[s(\"label\",{staticClass:\"check-container\"},[t._v(\"Panchayath \")]),s(\"b-form-select\",{staticClass:\"mb-3\",staticStyle:{\"max-width\":\"120px\",\"min-height\":\"35px\"},attrs:{name:\"panchayath\"},model:{value:t.filter.panchayath,callback:function(e){t.$set(t.filter,\"panchayath\",e)},expression:\"filter.panchayath\"}},t._l(t.all_panchayaths,(function(e){return s(\"b-form-select-option\",{attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),s(\"div\",{staticClass:\"filter-item flex-align\"},[s(\"label\",{staticClass:\"check-container\"},[t._v(\"VFC \")]),s(\"b-form-select\",{staticClass:\"mb-3\",staticStyle:{\"max-width\":\"120px\",\"min-height\":\"35px\"},attrs:{name:\"vfc\"},model:{value:t.filter.vfc,callback:function(e){t.$set(t.filter,\"vfc\",e)},expression:\"filter.vfc\"}},t._l(t.all_vfc,(function(e){return e.location.revenue_village_detail.panchayath==t.filter.panchayath?s(\"b-form-select-option\",{attrs:{value:e.id}},[t._v(t._s(e.name))]):t._e()})),1)],1),s(\"hr\"),s(\"div\",{staticClass:\"filter-item flex-align\"},[s(\"b-button\",{staticClass:\"w-100 px-3 py-1 ml-1 mr-2\",attrs:{type:\"button\",variant:\"outline-info\"},on:{click:function(e){return t.cancelFilter()}}},[t._v(\"Cancel\")]),s(\"b-button\",{staticClass:\"w-100 px-3 py-1 mr-1 ml-2\",attrs:{type:\"submit\",variant:\"success\"},on:{click:function(e){t.inspections=[]}}},[t._v(\"Submit\")])],1)])])])],1),s(\"div\",{staticClass:\"hr-min m-0\"}),s(\"div\",{staticClass:\"my-3 px-3\",staticStyle:{display:\"flex\",\"flex-direction\":\"column\",gap:\"16px\"}},t._l(t.inspections,(function(e){return s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"==t.status||t.status==e.status,expression:\"status=='' || status==inspection.status\"}]},[s(\"router-link\",{attrs:{to:\"/inspection-detail/\"+e.id}},[s(\"div\",{staticClass:\" borderless-card\"},[s(\"div\",{staticClass:\"d-flex justify-content-between align-items-center  px-0 py-1\"},[s(\"h4\",{staticClass:\"font-weight-500\"},[t._v(t._s(e.name))]),s(\"h4\",{staticClass:\"font-weight-500 .text-14 text-right pl-3 \",staticStyle:{\"white-space\":\"nowrap\"}},[s(\"span\",{staticClass:\"badge badge-success\"},[t._v(t._s(e.farmer_code))])])]),s(\"div\",{staticClass:\"hr-min\"}),s(\"div\",{staticClass:\"d-flex justify-content-between px-0 py-1 \"},[s(\"h5\",{staticClass:\" font-weight-500 text-12\"},[s(\"b\",[e.is_approved?s(\"span\",{staticClass:\"text-success\"},[t._v(\"Approved\")]):s(\"span\",{staticClass:\"text-danger\"},[t._v(\"Not Approved\")])])]),s(\"h6\",{staticClass:\"m-0 font-weight-500 pl-2 text-12 text-primary\"},[t._v(t._s(t.dateFormate(e.date_of_inspection)))])]),s(\"div\",{staticClass:\"d-flex justify-content-between px-0 py-1 \"},[s(\"h6\",{staticClass:\" font-weight-500 text-12 text-info\"},[t._v(\" #\"+t._s(e.id)+\" \")]),s(\"h6\",{staticClass:\"m-0 font-weight-500 pl-2 text-12 \"},[s(\"span\",{staticClass:\"badge\",class:\"Completed\"==e.status?\"badge-success\":\"badge-danger\"},[t._v(t._s(e.status))])])])])])],1)})),0),s(\"div\",{},[t.load_more?s(\"h4\",{staticClass:\"font-weight-700 my-2 pl-2 text-green text-center\",on:{click:function(e){return t.filterData()}}},[t._v(\"Load More\")]):t._e()])]),s(\"div\",{staticClass:\"filter-footer\"},[s(\"div\",{staticClass:\"footer-item2 d-flex align-items-center\",on:{click:function(e){return t.$router.push(\"/\")}}},[s(\"img\",{attrs:{src:\"/images/home.png\",width:\"25\"}}),s(\"h5\",{staticClass:\"m-0 pl-2 text-white\"},[t._v(\"Home\")])]),s(\"div\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.filter-data\",modifiers:{\"filter-data\":!0}}],staticClass:\"footer-item2 filter-icon d-flex align-items-center\",on:{click:function(e){return t.selectFilter()}}},[s(\"img\",{attrs:{src:\"/images/settings.png\",width:\"25\"}}),t.filter.count>0?s(\"div\",{staticClass:\"filter-number\"},[t._v(t._s(t.filter.count))]):t._e(),s(\"h5\",{staticClass:\"m-0 pl-2 text-white\"},[t._v(\"Filter\")])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"input-group-prepend\"},[s(\"div\",{staticClass:\"input-group-text\"},[s(\"img\",{attrs:{src:\"/images/search.png\",width:\"25\"}})])])}],n=(s(\"a623\"),s(\"4de4\"),s(\"caad\"),s(\"b0c0\"),s(\"d3b7\"),s(\"ac1f\"),s(\"2532\"),s(\"1276\"),{metaInfo:{title:\"Home\"},data:function(){return{inspections:[],years:[],selected_year:null,temp_inspections:[],searchQuery:null,filter:{ics:null,panchayath:null,vfc:null,count:0},not_start:!0,status:\"\",background_start:!0,lastScrollPosition:0,load_more:!1}},mounted:function(){this.checkLogin(),localStorage.getItem(\"inspection_filter\")&&(this.filter=JSON.parse(localStorage[\"inspection_filter\"])),this.getYears();var t=this;document.getElementsByClassName(\"main-body4\")[0].addEventListener(\"scroll\",(function(){t.handleScroll()}))},methods:{handleScroll:function(){var t=document.getElementsByClassName(\"main-body4\")[0].scrollTop;if(t<0)return 0;this.background_start=t<this.lastScrollPosition,this.lastScrollPosition=t},resultQuery:function(){var t=this;if(this.searchQuery){var e=this.inspections.filter((function(e){return t.searchQuery.toLowerCase().split(\" \").every((function(t){return e.name.toLowerCase().includes(t)}))}));this.inspections=e,this.load_more=!1}else this.temp_inspections.length>=40&&(this.load_more=!0),this.inspections=this.temp_inspections},getYears:function(){var t=this;this.page=0;var e=new FormData;e.append(\"fpo\",this.$root.userInfo.fpo),this.filter.ics&&e.append(\"ics\",this.filter.ics),this.filter.panchayath&&e.append(\"panchayath\",this.filter.panchayath),this.filter.vfc&&e.append(\"vfc\",this.filter.vfc),\"inspector\"==this.$root.user_type&&e.append(\"inspector\",this.$root.inspectorInfo.id);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/aeo_app_years/?year_for=inspection\",{method:\"POST\",body:e,headers:s}).then((function(t){return t.json()})).then((function(e){t.years=e,e.length>0&&!t.selected_year?t.selected_year=e[0].year:t.selected_year||(t.selected_year=t.this_year),t.filterData()}))},selectFilter:function(){this.page=0,this.getTypes(),this.getIcs(),this.filter.ics&&this.changeICS()},cancelFilter:function(){this.farmers=[],this.$bvModal.hide(\"filter-data\"),this.filter={ics:null,panchayath:null,vfc:null,count:0},localStorage.removeItem(\"inspection_filter\"),this.getYears()},calcFilterCount:function(){var t=0;this.filter.ics&&t++,this.filter.panchayath&&t++,this.filter.vfc&&t++,this.filter.count=t,localStorage.setItem(\"inspection_filter\",JSON.stringify(this.filter)),this.$bvModal.hide(\"filter-data\")},filterData:function(){var t=this;this.page++,this.not_start=!0,this.calcFilterCount();var e=new FormData;e.append(\"fpo\",this.$root.userInfo.fpo),this.filter.ics&&e.append(\"ics\",this.filter.ics),this.filter.panchayath&&e.append(\"panchayath\",this.filter.panchayath),this.filter.vfc&&e.append(\"vfc\",this.filter.vfc),\"inspector\"==this.$root.user_type&&e.append(\"inspector\",this.$root.inspectorInfo.id);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/inspections_filter/?page=\"+this.page+\"&year=\"+this.selected_year,{method:\"POST\",body:e,headers:s}).then((function(t){return t.json()})).then((function(e){t.not_start=!1,1==t.page?t.inspections=e:t.inspections.push.apply(t.inspections,e),e.length>=40?t.load_more=!0:t.load_more=!1,t.temp_inspections=t.inspections,t.inspections.length<=0&&t.showAlert(\"No data found!\")}))}}}),r=n,l=(s(\"b79b\"),s(\"2877\")),c=Object(l[\"a\"])(r,i,a,!1,null,\"69433dfc\",null);e[\"default\"]=c.exports},a623:function(t,e,s){\"use strict\";var i=s(\"23e7\"),a=s(\"b727\").every,n=s(\"a640\"),r=s(\"ae40\"),l=n(\"every\"),c=r(\"every\");i({target:\"Array\",proto:!0,forced:!l||!c},{every:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},b0c0:function(t,e,s){var i=s(\"83ab\"),a=s(\"9bf2\").f,n=Function.prototype,r=n.toString,l=/^\\s*function ([^ (]*)/,c=\"name\";i&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(t){return\"\"}}})},b79b:function(t,e,s){\"use strict\";var i=s(\"f426\"),a=s.n(i);a.a},f426:function(t,e,s){}}]);","extractedComments":[]}