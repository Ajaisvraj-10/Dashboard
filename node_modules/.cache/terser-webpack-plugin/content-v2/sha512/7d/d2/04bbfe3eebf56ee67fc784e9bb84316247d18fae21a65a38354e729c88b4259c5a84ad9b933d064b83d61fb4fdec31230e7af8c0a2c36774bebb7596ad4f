{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6c7a21f4\"],{\"0896\":function(t,e,a){\"use strict\";var r=a(\"69f6\"),o=a.n(r);o.a},\"0f2f\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.slugToWord(\"direct-machine-out-packing\")))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\" Save \")]),a(\"router-link\",{attrs:{to:\"/app/production/direct-machine-out-packing\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\" Discard \")])],1)],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll pt-2\"},[a(\"b-col\",{attrs:{lg:\"4\",xl:\"4\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"h5\",[t._v(\"Select Indent\")]),a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\" col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Select Indent : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent,expression:\"form_data.indent\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"indent\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"indent\",e.target.multiple?a:a[0])},function(e){return t.getIndent()}]}},t._l(t.indents,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\"#\"+t._s(e.main_indent)+\"/Indent \"+t._s(e.product_detail.category_detail.name)+\"> \"+t._s(e.product_detail.name)+\"> \"+t._s(e.parameter_detail.name))])})),0),a(\"input\",{attrs:{type:\"hidden\",name:\"product\"},domProps:{value:t.product_id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"indent\"},domProps:{value:t.form_data.indent_detail.id}})]),t.form_data.indent?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Indent Number : \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Indent Number\",type:\"text\",autocomplete:\"off\",name:\"indent_number\",readonly:\"\"},domProps:{value:\"#\"+t.form_data.indent_detail.main_indent+\"/Indent\"}})]),t.load_products?a(\"ProductFields\",{attrs:{product_id:t.product_id,readonly:!0},on:{productId:t.productId}}):t._e(),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Parameter : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent_detail.parameter,expression:\"form_data.indent_detail.parameter\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"parameter\",disabled:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data.indent_detail,\"parameter\",e.target.multiple?a:a[0])}}},t._l(t.parameters,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Quantity (Kg) : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent_detail.quantity,expression:\"form_data.indent_detail.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\",required:\"\",readonly:\"\"},domProps:{value:t.form_data.indent_detail.quantity},on:{input:function(e){e.target.composing||t.$set(t.form_data.indent_detail,\"quantity\",e.target.value)}}})])],1):t._e()])])]),a(\"hr\")])])])],1),a(\"b-col\",{attrs:{lg:\"8\",xl:\"8\"}},[a(\"b-card\",{staticClass:\"card-scroll packed_raws\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"b-tabs\",{attrs:{card:\"\"}},[a(\"b-tab\",{attrs:{title:\"Packed Raws\",active:\"\"}},[a(\"div\",[t._l(t.packed_lots,(function(e){return a(\"div\",{staticClass:\"card p-2\"},[a(\"div\",{staticClass:\"p-2\"},[a(\"table\",{staticClass:\"w-100\"},[a(\"tr\",[a(\"td\",[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/Lot\")])]),a(\"td\",{staticClass:\"pl-4\"},[t._v(\"Available Qty: \"),a(\"b\",[t._v(t._s(e.total_qty)+\"KG\")])]),a(\"td\",{staticClass:\"pl-4\",style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" Quantity taken (KG): \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"lot.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"number\",max:e.total_qty,step:\"0.1\",name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\",min:\"0\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",{staticClass:\"text-right\"},[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeLot(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addLot(e)}}},[t._v(\"Add\")])])])])]),e.is_added?a(\"table\",{staticClass:\"table mt-2\"},[a(\"tr\",[a(\"th\",[t._v(\"Material\")]),a(\"th\",[t._v(\"Specs\")]),a(\"th\",[t._v(\"Material Lot\")]),a(\"th\",[t._v(\"Status\")]),a(\"th\",[t._v(\"Number of bags\")])]),t._l(e.bags,(function(e){return a(\"tr\",[a(\"td\",[t._v(\" \"+t._s(e.material_detail.name)+\" \"),a(\"input\",{attrs:{type:\"hidden\",name:\"packing_material\"+e.id+\"remove\"},domProps:{value:e.id}})]),a(\"td\",t._l(t.specifications,(function(r){return r.material_ids.includes(e.material_detail.id)?a(\"small\",[a(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(r.name))]),t._v(\":\"+t._s(r.value)+\", \")]):t._e()})),0),a(\"td\",[t._v(\"#Lot\"+t._s(e.packing_material))]),a(\"td\",[a(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(e.status))])]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.number_of_bags,expression:\"packing_material.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{placeholder:\"Number of Bags\",type:\"number\",name:\"number_of_bags\"+e.id+\"remove\",max:e.quantity,min:\"0\"},domProps:{value:e.number_of_bags},on:{input:function(a){a.target.composing||t.$set(e,\"number_of_bags\",a.target.value)}}})])])}))],2):t._e()])})),a(\"hr\")],2)]),a(\"b-tab\",{attrs:{title:\"Packing\"}},[a(\"div\",[t._l(t.packed_lots,(function(e){return a(\"div\",{staticClass:\"card p-2\"},[a(\"div\",{staticClass:\"p-2\"},[a(\"table\",{staticClass:\"w-100\"},[a(\"tr\",[a(\"td\",[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/Lot\")])]),a(\"td\",{staticClass:\"pl-4\"},[t._v(\"Available Qty: \"),a(\"b\",[t._v(t._s(e.total_qty)+\"KG\")])]),a(\"td\",{staticClass:\"pl-4 text-right\",style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" Quantity taken (KG): \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"lot.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"number\",max:e.total_qty,step:\"0.1\",name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\",min:\"0\"},domProps:{value:e.is_added?\"yes\":\"no\"}})])])])]),e.is_added?a(\"table\",{staticClass:\"table mt-2\"},[a(\"tr\",[a(\"th\",[t._v(\"#\")]),a(\"th\",[t._v(\"Material\")]),a(\"th\",[t._v(\"Specs\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Status\")]),a(\"th\",[t._v(\"Number of bags\")]),a(\"th\",[t._v(\"Bag weight (KG/Bag)\")]),a(\"th\",[t._v(\"Total\")])]),t._l(e.packing_materials,(function(e,r){return a(\"tr\",[a(\"td\",[t._v(t._s(r+1)+\")\")]),a(\"td\",[t._v(\" \"+t._s(e.material_detail.name)+\" \"),a(\"input\",{attrs:{type:\"hidden\",name:\"packing_material\"+e.id},domProps:{value:e.id}})]),a(\"td\",t._l(e.specifications,(function(r){return r.material_ids.includes(e.material)?a(\"small\",[a(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(r.name))]),t._v(\":\"+t._s(r.value)+\", \")]):t._e()})),0),a(\"td\",[t._v(\"#Lot\"+t._s(e.lot))]),a(\"td\",[a(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(e.status))])]),a(\"td\",{staticStyle:{width:\"40%\"},attrs:{colspan:\"2\"}},[t._l(e.qtys,(function(r,o){return a(\"div\",{staticClass:\"d-flex\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.number_of_bags,expression:\"qty.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"number_of_bags\"+e.id+\"qtkey\"+o,max:e.quantity},domProps:{value:r.number_of_bags},on:{input:function(e){e.target.composing||t.$set(r,\"number_of_bags\",e.target.value)}}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.packing_quantity,expression:\"qty.packing_quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"packing_quantity\"+e.id+\"qtkey\"+o,step:\"0.1\"},domProps:{value:r.packing_quantity},on:{input:function(e){e.target.composing||t.$set(r,\"packing_quantity\",e.target.value)}}}),a(\"div\",{staticClass:\"border pt-1 px-1\"},[t._v(t._s(e.material_detail.unit))])])})),a(\"div\",{staticClass:\"text-right\"},[e.qtys.length>1?a(\"button\",{staticClass:\"btn btn-danger btn-sm mt-1 mr-1 px-2 py-1\",attrs:{type:\"button\"},on:{click:function(t){e.qtys.splice(e.qtys.length-1,1)}}},[t._v(\"-\")]):t._e(),a(\"button\",{staticClass:\"btn btn-primary btn-sm mt-1 px-2 py-1\",staticStyle:{\"margin-right\":\"1px\"},attrs:{type:\"button\"},on:{click:function(t){return e.qtys.push({packing_quantity:0,number_of_bags:0})}}},[t._v(\"+\")])])],2),a(\"td\",[a(\"span\",{staticClass:\"mr-1\"},[a(\"b\",[t._v(t._s(t.totalPackMetQty(e,\"piece\"))+\"piece\")]),t._v(\", (\"+t._s(t.totalPackMetQty(e,\"weight\"))+t._s(e.material_detail.unit)+\")\")])])])}))],2):t._e()])})),a(\"hr\")],2)]),a(\"b-tab\",{attrs:{title:\"Labours\"}},[a(\"div\",[a(\"b-form-group\",{staticClass:\"work_type_option\"},[a(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"contract\",\"wages\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},on:{change:function(e){t.form_data.workers=[]}},model:{value:t.form_data.work_type,callback:function(e){t.$set(t.form_data,\"work_type\",e)},expression:\"form_data.work_type\"}})],1),a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-1\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Labours: \")]),a(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(e){return\"wages\"==t.form_data.work_type&&\"Wage\"==e.work_type||\"contract\"==t.form_data.work_type&&\"Contract\"==e.work_type?a(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+e.id}},[a(\"b-form-checkbox\",{attrs:{name:\"workers\",id:\"worker\"+e.id,value:e.id},on:{input:function(e){t.form_data.total_workers=t.form_data.workers.length}},model:{value:t.form_data.workers,callback:function(e){t.$set(t.form_data,\"workers\",e)},expression:\"form_data.workers\"}},[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/\"+t._s(e.name))])])],1):t._e()})),0)]),\"wages\"==t.form_data.work_type?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.working_hourse,expression:\"form_data.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\",min:\"0\"},domProps:{value:t.form_data.working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.working_hourse>0&&t.form_data.total_workers?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (\"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.form_data.working_hourse)+\"Hr x Rs440)/8 = \"),a(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.form_data.working_hourse*440/8)+\"/-\")])]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time : \")])]),a(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[a(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Double over time\")])]),a(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st1,expression:\"form_data.overtime_labours_st1\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st1},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_labours_st1\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st1,expression:\"form_data.overtime_hourse_st1\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st1},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_hourse_st1\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st1>0&&t.form_data.overtime_hourse_st1?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x 2 x \"+t._s(t.form_data.overtime_labours_st1)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st1)+\"Hr = \"),a(\"b\",[t._v(\"Rs\"+t._s(110*t.form_data.overtime_labours_st1*t.form_data.overtime_hourse_st1)+\"/-\")])]):t._e(),a(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[a(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Single over time\")])]),a(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st2,expression:\"form_data.overtime_labours_st2\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st2},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_labours_st2\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st2,expression:\"form_data.overtime_hourse_st2\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st2},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_hourse_st2\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st2>0&&t.form_data.overtime_hourse_st2?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x \"+t._s(t.form_data.overtime_labours_st2)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st2)+\"Hr = \"),a(\"b\",[t._v(\"Rs\"+t._s(55*t.form_data.overtime_labours_st2*t.form_data.overtime_hourse_st2)+\"/-\")])]):t._e()]):a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:[function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)},function(e){t.form_data.labour_charge=400*t.form_data.total_workers/8}]}})]),\"contract\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Labour Charge : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.contract_labour_charge,expression:\"form_data.contract_labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"contract_labour_charge\",min:\"0\"},domProps:{value:t.form_data.contract_labour_charge},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"contract_labour_charge\",e.target.value)}}})]):t._e(),t.form_data.total_workers>0&&t.form_data.contract_labour_charge?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : \"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.total_weight)+\"Kg x \"+t._s(t.form_data.contract_labour_charge)+\"Rs = \"),a(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.total_weight*t.form_data.contract_labour_charge)+\"/-\")])]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"div\",{staticStyle:{width:\"140px\"}},[t._v(\" Contract from wage? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"contract_from_wage\",value:\"1\",switch:\"\"},model:{value:t.form_data.contract_from_wage,callback:function(e){t.$set(t.form_data,\"contract_from_wage\",e)},expression:\"form_data.contract_from_wage\"}},[a(\"b\",[t._v(t._s(t.form_data.contract_from_wage?\"Yes\":\"No\"))])])],1),t.form_data.contract_from_wage?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Labours: \")]),a(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(e){return\"Wage\"==e.work_type?a(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+e.id}},[a(\"b-form-checkbox\",{attrs:{name:\"wage_workers\",id:\"worker\"+e.id,value:e.id},model:{value:t.form_data.wage_workers,callback:function(e){t.$set(t.form_data,\"wage_workers\",e)},expression:\"form_data.wage_workers\"}},[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/\"+t._s(e.name))])])],1):t._e()})),0)]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"div\",{staticStyle:{width:\"140px\"}},[t._v(\" Is there payment for wage? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"is_wage_payment\",value:\"1\",switch:\"\"},model:{value:t.form_data.is_wage_payment,callback:function(e){t.$set(t.form_data,\"is_wage_payment\",e)},expression:\"form_data.is_wage_payment\"}},[a(\"b\",[t._v(t._s(t.form_data.is_wage_payment?\"Yes\":\"No\"))])])],1)]):t._e()]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"})])])])],1)]),a(\"b-tab\",{attrs:{title:\"Consumbales\"}},[a(\"div\",{staticClass:\"user-info pt-2\"},t._l(t.form_data.consumable_items_list,(function(e){return a(\"div\",[e.is_lot_wise?a(\"div\",t._l(e.lots,(function(r){return r.warehouse==t.printing_warehous?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(e.name)+\" (\"+t._s(e.unit)+\") : \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(r.id))]),a(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+e.id+\"lot\"+r.id,max:r.available_quantity}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(e.unit))])]):t._e()})),0):a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(e.name)+\" (\"+t._s(e.unit)+\") : \")]),e.is_lot?a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(e.consumable))]):t._e(),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"consumable_item.quantity\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+e.id,max:e.is_free?\"\":e.available_quantity},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(e.unit))])])])})),0)])],1)],1)],1)],1)],1)])},o=[],i=(a(\"4160\"),a(\"caad\"),a(\"b680\"),a(\"d3b7\"),a(\"2532\"),a(\"159b\"),a(\"ddb0\"),a(\"4dbf\")),n={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:i[\"a\"]},data:function(){return{form_data:{indent:null,workers:[],wage_workers:[],work_type:\"wages\",consumable_items_list:[],overtime_hourse_st1:2,indent_detail:{parameter:null,expected_date:\"2022-03\",total:0,values:[],total_quantity:0,indent_number:\"\",is_parameters:!1},machine_out_raws:[],lots:[]},id:null,action:\"create\",product_id:null,load_products:!1,parameters:[],indents:[],workers:[],packed_lots:[],packing_materials:[],specifications:[]}},mounted:function(){this.$root.current_section=\"production\",this.action=this.$route.params.action,\"edit\"==this.action&&(this.id=this.$route.params.id,this.getForm()),this.getIndents(),this.getSpecifications(),this.getWorkers()},methods:{getForm:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e,t.product_id=e.product,t.load_products=!0,t.getParameters()}))},getIndent:function(){var t=this;this.load_products=!1;var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\"+this.form_data.indent+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.indent_detail=e,t.product_id=e.product,t.load_products=!0,t.getParameters(),t.getMachineOutProducts()}))},getIndents:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.indents=e,t.getConsumables()}))},getConsumables:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/other_items/?item_for=packing\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.consumable_items_list=e}))},productId:function(t){this.product_id=t,this.getParameters()},getMachineOutProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/packing/?parameter=\"+this.form_data.indent_detail.parameter+\"&direct_packing=out\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.packed_lots=e,t.getPackingMaterials()}))},addLot:function(t){t.is_added=!0,t.quantity=t.total_qty},removeLot:function(t){t.is_added=!1,t.quantity=\"\"},getWorkers:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/workers/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.workers=e}))},getPackingMaterials:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_stock/?warehouse=\"+this.printing_warehous+\"&in_stock=true\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){e.forEach((function(t,a){e[a].is_added=!1,e[a].qtys=[{packing_quantity:0,number_of_bags:0}]})),t.packing_materials=e,t.getIndentMaterials()}))},getIndentMaterials:function(){for(var t=this.form_data.indent_detail,e=[],a=0;a<t.values.length;a++){var r=this.checkMaterialStock(t.values[a]);r.id&&this.packing_materials.forEach((function(a,o){r.id==a.id&&(a[\"is_added\"]=!0,a[\"indent\"]=t.id,e.push(a))}))}this.packed_lots.forEach((function(t,a){t.packing_materials=e}))},getParameters:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?product=\"+this.product_id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.parameters=e}))},getSpecifications:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.specifications=e}))},dataForm:function(){this.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/indent_packing/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.id=e.id,t.form_data=e,t.updateFormdata()):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/indent_packing/\"+this.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?t.showAlert(\"Updated Successfully!\"):t.showAlert(\"Something Wrong!\")}))},checkMaterialStock:function(t){var e={id:null},a=this.packing_materials;return a.forEach((function(a,r){var o=!0;t.material==a.material?a.specifications.forEach((function(e){var r=!0;if(a.material_detail.specifications.includes(e.id)){var i=!0;t.specifications.forEach((function(a){a.material_ids.includes(t.material)&&e.id==a.id&&(e.value==a.value||null==a.values&&\"on\"==e.value&&a.value||(i=!1))})),i||(r=!1)}r||(o=!1)})):o=!1,o&&(e=a)})),e},totalPackMetQty:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",a=0,r=0;return t.qtys.forEach((function(t){a+=parseInt(t.number_of_bags),r+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),\"piece\"==e?a:\"weight\"==e?r.toFixed(2):0},totalPackQty:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",a=0,r=0,o=0,i=0,n=\"\",s=this;t.packing_materials.forEach((function(t){if(t.is_added){var e=0,d=0;n=t.material_detail.unit,t.qtys.forEach((function(t){e+=parseInt(t.number_of_bags),d+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),t.packing_type==s.action&&(a++,r+=e,o+=d),i+=d}})),t.quantity=i;s=this,i=0;var d=this.form_data.process_outputs;return d.forEach((function(t,e){if(t.quantity){if(0!=s.total_weight){var a=t.quantity/s.total_weight*100;a=a.toFixed(2),d[e].quantity_persentage=a+\"%\"}\"semi_finished_product\"!=t.parameter_type&&\"full_finished_product\"!=t.parameter_type&&\"main_product\"!=t.parameter_type||(i+=parseFloat(t.quantity))}else d[e].quantity_persentage=\"0%\"})),this.total_output=i,\"materials\"==e?a:\"piece\"==e?r:\"weight\"==e?o.toFixed(2)+n:0}}},s=n,d=(a(\"0896\"),a(\"b2cf\"),a(\"2877\")),u=Object(d[\"a\"])(s,r,o,!1,null,null,null);e[\"default\"]=u.exports},1148:function(t,e,a){\"use strict\";var r=a(\"a691\"),o=a(\"1d80\");t.exports=\"\".repeat||function(t){var e=String(o(this)),a=\"\",i=r(t);if(i<0||i==1/0)throw RangeError(\"Wrong number of repetitions\");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},\"408a\":function(t,e,a){var r=a(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=r(t))throw TypeError(\"Incorrect invocation\");return+t}},\"4dbf\":function(t,e,a){\"use strict\";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},o=[],i=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:\"\",product_type_id:\"\"}},mounted:function(){this.product_id?this.getProduct():(this.product_id=\"\",this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=\"\",this.selectProduct()}}}),n=i,s=a(\"2877\"),d=Object(s[\"a\"])(n,r,o,!1,null,null,null);e[\"a\"]=d.exports},\"69f6\":function(t,e,a){},b2cf:function(t,e,a){\"use strict\";var r=a(\"bdc8\"),o=a.n(r);o.a},b680:function(t,e,a){\"use strict\";var r=a(\"23e7\"),o=a(\"a691\"),i=a(\"408a\"),n=a(\"1148\"),s=a(\"d039\"),d=1..toFixed,u=Math.floor,c=function(t,e,a){return 0===e?a:e%2===1?c(t,e-1,a*t):c(t*t,e/2,a)},_=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},l=d&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){d.call({})}));r({target:\"Number\",proto:!0,forced:l},{toFixed:function(t){var e,a,r,s,d=i(this),l=o(t),p=[0,0,0,0,0,0],m=\"\",f=\"0\",h=function(t,e){var a=-1,r=e;while(++a<6)r+=t*p[a],p[a]=r%1e7,r=u(r/1e7)},v=function(t){var e=6,a=0;while(--e>=0)a+=p[e],p[e]=u(a/t),a=a%t*1e7},g=function(){var t=6,e=\"\";while(--t>=0)if(\"\"!==e||0===t||0!==p[t]){var a=String(p[t]);e=\"\"===e?a:e+n.call(\"0\",7-a.length)+a}return e};if(l<0||l>20)throw RangeError(\"Incorrect fraction digits\");if(d!=d)return\"NaN\";if(d<=-1e21||d>=1e21)return String(d);if(d<0&&(m=\"-\",d=-d),d>1e-21)if(e=_(d*c(2,69,1))-69,a=e<0?d*c(2,-e,1):d/c(2,e,1),a*=4503599627370496,e=52-e,e>0){h(0,a),r=l;while(r>=7)h(1e7,0),r-=7;h(c(10,r,1),0),r=e-1;while(r>=23)v(1<<23),r-=23;v(1<<r),h(1,1),v(2),f=g()}else h(0,a),h(1<<-e,0),f=g()+n.call(\"0\",l);return l>0?(s=f.length,f=m+(s<=l?\"0.\"+n.call(\"0\",l-s)+f:f.slice(0,s-l)+\".\"+f.slice(s-l))):f=m+f,f}})},bdc8:function(t,e,a){},ddb0:function(t,e,a){var r=a(\"da84\"),o=a(\"fdbc\"),i=a(\"e260\"),n=a(\"9112\"),s=a(\"b622\"),d=s(\"iterator\"),u=s(\"toStringTag\"),c=i.values;for(var _ in o){var l=r[_],p=l&&l.prototype;if(p){if(p[d]!==c)try{n(p,d,c)}catch(f){p[d]=c}if(p[u]||n(p,u,_),o[_])for(var m in i)if(p[m]!==i[m])try{n(p,m,i[m])}catch(f){p[m]=i[m]}}}}}]);","extractedComments":[]}