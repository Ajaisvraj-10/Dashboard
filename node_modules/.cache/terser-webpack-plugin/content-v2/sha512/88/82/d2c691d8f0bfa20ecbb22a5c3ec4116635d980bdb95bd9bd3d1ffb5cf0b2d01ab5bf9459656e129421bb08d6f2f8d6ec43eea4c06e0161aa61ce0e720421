{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-b4b0ad8c\"],{\"0896\":function(t,a,e){\"use strict\";var r=e(\"69f6\"),i=e.n(r);i.a},\"0f2f\":function(t,a,e){\"use strict\";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.slugToWord(\"direct-machine-out-packing\")))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\" Save \")]),e(\"router-link\",{attrs:{to:\"/app/production/direct-machine-out-packing\"}},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\" Discard \")])],1)],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll pt-2\"},[e(\"b-col\",{attrs:{lg:\"4\",xl:\"4\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",[e(\"h5\",[t._v(\"Select Indent\")]),e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\" col-md-12\"},[e(\"div\",{staticClass:\"user-info pt-2\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Select Indent : \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent,expression:\"form_data.indent\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"indent\"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"indent\",a.target.multiple?e:e[0])},function(a){return t.getIndent()}]}},t._l(t.indents,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(\"#\"+t._s(a.main_indent)+\"/Indent \"+t._s(a.product_detail.category_detail.name)+\"> \"+t._s(a.product_detail.name)+\"> \"+t._s(a.parameter_detail.name))])})),0),e(\"input\",{attrs:{type:\"hidden\",name:\"product\"},domProps:{value:t.product_id}}),e(\"input\",{attrs:{type:\"hidden\",name:\"indent\"},domProps:{value:t.form_data.indent_detail.id}})]),t.form_data.indent?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Indent Number : \")]),e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Indent Number\",type:\"text\",autocomplete:\"off\",name:\"indent_number\",readonly:\"\"},domProps:{value:\"#\"+t.form_data.indent_detail.main_indent+\"/Indent\"}})]),t.load_products?e(\"ProductFields\",{attrs:{product_id:t.product_id,readonly:!0},on:{productId:t.productId}}):t._e(),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Parameter : \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent_detail.parameter,expression:\"form_data.indent_detail.parameter\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"parameter\",disabled:\"\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data.indent_detail,\"parameter\",a.target.multiple?e:e[0])}}},t._l(t.parameters,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Quantity (Kg) : \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.indent_detail.quantity,expression:\"form_data.indent_detail.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\",required:\"\",readonly:\"\"},domProps:{value:t.form_data.indent_detail.quantity},on:{input:function(a){a.target.composing||t.$set(t.form_data.indent_detail,\"quantity\",a.target.value)}}})])],1):t._e()])])]),e(\"hr\")])])])],1),e(\"b-col\",{attrs:{lg:\"8\",xl:\"8\"}},[e(\"b-card\",{staticClass:\"card-scroll packed_raws\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"b-tabs\",{attrs:{card:\"\"}},[e(\"b-tab\",{attrs:{title:\"Packed Raws\",active:\"\"}},[e(\"div\",[t._l(t.packed_lots,(function(a){return e(\"div\",{staticClass:\"card p-2\"},[e(\"div\",{staticClass:\"p-2\"},[e(\"table\",{staticClass:\"w-100\"},[e(\"tr\",[e(\"td\",[e(\"b\",[t._v(\"#\"+t._s(a.id)+\"/Lot\")])]),e(\"td\",{staticClass:\"pl-4\"},[t._v(\"Available Qty: \"),e(\"b\",[t._v(t._s(a.total_qty)+\"KG\")])]),e(\"td\",{staticClass:\"pl-4\",style:a.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" Quantity taken (KG): \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"lot.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"number\",max:a.total_qty,step:\"0.1\",name:\"quantity\"+a.id,disabled:!a.is_added},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)}}}),e(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+a.id+\"lot\",min:\"0\"},domProps:{value:a.is_added?\"yes\":\"no\"}})]),e(\"td\",{staticClass:\"text-right\"},[a.is_added?e(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.removeLot(a)}}},[t._v(\"Remove\")]):e(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.addLot(a)}}},[t._v(\"Add\")])])])])]),a.is_added?e(\"table\",{staticClass:\"table mt-2\"},[e(\"tr\",[e(\"th\",[t._v(\"Material\")]),e(\"th\",[t._v(\"Specs\")]),e(\"th\",[t._v(\"Material Lot\")]),e(\"th\",[t._v(\"Status\")]),e(\"th\",[t._v(\"Number of bags\")])]),t._l(a.bags,(function(a){return e(\"tr\",[e(\"td\",[t._v(\" \"+t._s(a.material_detail.name)+\" \"),e(\"input\",{attrs:{type:\"hidden\",name:\"packing_material\"+a.id+\"remove\"},domProps:{value:a.id}})]),e(\"td\",t._l(t.specifications,(function(r){return r.material_ids.includes(a.material_detail.id)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(r.name))]),t._v(\":\"+t._s(r.value)+\", \")]):t._e()})),0),e(\"td\",[t._v(\"#Lot\"+t._s(a.packing_material))]),e(\"td\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(a.status))])]),e(\"td\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.number_of_bags,expression:\"packing_material.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{placeholder:\"Number of Bags\",type:\"number\",name:\"number_of_bags\"+a.id+\"remove\",max:a.quantity,min:\"0\"},domProps:{value:a.number_of_bags},on:{input:function(e){e.target.composing||t.$set(a,\"number_of_bags\",e.target.value)}}})])])}))],2):t._e()])})),e(\"hr\")],2)]),e(\"b-tab\",{attrs:{title:\"Packing\"}},[e(\"div\",[t._l(t.packed_lots,(function(a){return e(\"div\",{staticClass:\"card p-2\"},[e(\"div\",{staticClass:\"p-2\"},[e(\"table\",{staticClass:\"w-100\"},[e(\"tr\",[e(\"td\",[e(\"b\",[t._v(\"#\"+t._s(a.id)+\"/Lot\")])]),e(\"td\",{staticClass:\"pl-4\"},[t._v(\"Available Qty: \"),e(\"b\",[t._v(t._s(a.total_qty)+\"KG\")])]),e(\"td\",{staticClass:\"pl-4 text-right\",style:a.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" Quantity taken (KG): \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"lot.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"number\",max:a.total_qty,step:\"0.1\",name:\"quantity\"+a.id,disabled:!a.is_added},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)}}}),e(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+a.id+\"lot\",min:\"0\"},domProps:{value:a.is_added?\"yes\":\"no\"}})])])])]),a.is_added?e(\"table\",{staticClass:\"table mt-2\"},[e(\"tr\",[e(\"th\",[t._v(\"#\")]),e(\"th\",[t._v(\"Material\")]),e(\"th\",[t._v(\"Specs\")]),e(\"th\",[t._v(\"Lot\")]),e(\"th\",[t._v(\"Status\")]),e(\"th\",[t._v(\"Number of bags\")]),e(\"th\",[t._v(\"Bag weight (KG/Bag)\")]),e(\"th\",[t._v(\"Total\")])]),t._l(a.packing_materials,(function(a,r){return e(\"tr\",[e(\"td\",[t._v(t._s(r+1)+\")\")]),e(\"td\",[t._v(\" \"+t._s(a.material_detail.name)+\" \"),e(\"input\",{attrs:{type:\"hidden\",name:\"packing_material\"+a.id},domProps:{value:a.id}})]),e(\"td\",t._l(a.specifications,(function(r){return r.material_ids.includes(a.material)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(r.name))]),t._v(\":\"+t._s(r.value)+\", \")]):t._e()})),0),e(\"td\",[t._v(\"#Lot\"+t._s(a.lot))]),e(\"td\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(a.status))])]),e(\"td\",{staticStyle:{width:\"40%\"},attrs:{colspan:\"2\"}},[t._l(a.qtys,(function(r,i){return e(\"div\",{staticClass:\"d-flex\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.number_of_bags,expression:\"qty.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"number_of_bags\"+a.id+\"qtkey\"+i,max:a.quantity},domProps:{value:r.number_of_bags},on:{input:function(a){a.target.composing||t.$set(r,\"number_of_bags\",a.target.value)}}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.packing_quantity,expression:\"qty.packing_quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"packing_quantity\"+a.id+\"qtkey\"+i,step:\"0.1\"},domProps:{value:r.packing_quantity},on:{input:function(a){a.target.composing||t.$set(r,\"packing_quantity\",a.target.value)}}}),e(\"div\",{staticClass:\"border pt-1 px-1\"},[t._v(t._s(a.material_detail.unit))])])})),e(\"div\",{staticClass:\"text-right\"},[a.qtys.length>1?e(\"button\",{staticClass:\"btn btn-danger btn-sm mt-1 mr-1 px-2 py-1\",attrs:{type:\"button\"},on:{click:function(t){a.qtys.splice(a.qtys.length-1,1)}}},[t._v(\"-\")]):t._e(),e(\"button\",{staticClass:\"btn btn-primary btn-sm mt-1 px-2 py-1\",staticStyle:{\"margin-right\":\"1px\"},attrs:{type:\"button\"},on:{click:function(t){return a.qtys.push({packing_quantity:0,number_of_bags:0})}}},[t._v(\"+\")])])],2),e(\"td\",[e(\"span\",{staticClass:\"mr-1\"},[e(\"b\",[t._v(t._s(t.totalPackMetQty(a,\"piece\"))+\"piece\")]),t._v(\", (\"+t._s(t.totalPackMetQty(a,\"weight\"))+t._s(a.material_detail.unit)+\")\")])])])}))],2):t._e()])})),e(\"hr\")],2)]),e(\"b-tab\",{attrs:{title:\"Labours\"}},[e(\"div\",[e(\"b-form-group\",{staticClass:\"work_type_option\"},[e(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"contract\",\"wages\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},on:{change:function(a){t.form_data.workers=[]}},model:{value:t.form_data.work_type,callback:function(a){t.$set(t.form_data,\"work_type\",a)},expression:\"form_data.work_type\"}})],1),e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"o_thread_search_input mt-1\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Labours: \")]),e(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(a){return\"wages\"==t.form_data.work_type&&\"Wage\"==a.work_type||\"contract\"==t.form_data.work_type&&\"Contract\"==a.work_type?e(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+a.id}},[e(\"b-form-checkbox\",{attrs:{name:\"workers\",id:\"worker\"+a.id,value:a.id},on:{input:function(a){t.form_data.total_workers=t.form_data.workers.length}},model:{value:t.form_data.workers,callback:function(a){t.$set(t.form_data,\"workers\",a)},expression:\"form_data.workers\"}},[e(\"b\",[t._v(\"#\"+t._s(a.id)+\"/\"+t._s(a.name))])])],1):t._e()})),0)]),\"wages\"==t.form_data.work_type?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"total_workers\",a.target.value)}}}),e(\"span\",{staticStyle:{width:\"5px\"}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.working_hourse,expression:\"form_data.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\",min:\"0\"},domProps:{value:t.form_data.working_hourse},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"working_hourse\",a.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.working_hourse>0&&t.form_data.total_workers?e(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (\"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.form_data.working_hourse)+\"Hr x Rs440)/8 = \"),e(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.form_data.working_hourse*440/8)+\"/-\")])]):t._e(),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time : \")])]),e(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[e(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Double over time\")])]),e(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st1,expression:\"form_data.overtime_labours_st1\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st1},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"overtime_labours_st1\",a.target.value)}}}),e(\"span\",{staticStyle:{width:\"5px\"}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st1,expression:\"form_data.overtime_hourse_st1\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st1},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"overtime_hourse_st1\",a.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st1>0&&t.form_data.overtime_hourse_st1?e(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x 2 x \"+t._s(t.form_data.overtime_labours_st1)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st1)+\"Hr = \"),e(\"b\",[t._v(\"Rs\"+t._s(110*t.form_data.overtime_labours_st1*t.form_data.overtime_hourse_st1)+\"/-\")])]):t._e(),e(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[e(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Single over time\")])]),e(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st2,expression:\"form_data.overtime_labours_st2\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st2},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"overtime_labours_st2\",a.target.value)}}}),e(\"span\",{staticStyle:{width:\"5px\"}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st2,expression:\"form_data.overtime_hourse_st2\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st2},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"overtime_hourse_st2\",a.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st2>0&&t.form_data.overtime_hourse_st2?e(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x \"+t._s(t.form_data.overtime_labours_st2)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st2)+\"Hr = \"),e(\"b\",[t._v(\"Rs\"+t._s(55*t.form_data.overtime_labours_st2*t.form_data.overtime_hourse_st2)+\"/-\")])]):t._e()]):e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:[function(a){a.target.composing||t.$set(t.form_data,\"total_workers\",a.target.value)},function(a){t.form_data.labour_charge=400*t.form_data.total_workers/8}]}})]),\"contract\"==t.form_data.work_type?e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Labour Charge : \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.contract_labour_charge,expression:\"form_data.contract_labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"contract_labour_charge\",min:\"0\"},domProps:{value:t.form_data.contract_labour_charge},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"contract_labour_charge\",a.target.value)}}})]):t._e(),t.form_data.total_workers>0&&t.form_data.contract_labour_charge?e(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : \"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.total_weight)+\"Kg x \"+t._s(t.form_data.contract_labour_charge)+\"Rs = \"),e(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.total_weight*t.form_data.contract_labour_charge)+\"/-\")])]):t._e(),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"div\",{staticStyle:{width:\"140px\"}},[t._v(\" Contract from wage? : \")]),e(\"b-form-checkbox\",{attrs:{name:\"contract_from_wage\",value:\"1\",switch:\"\"},model:{value:t.form_data.contract_from_wage,callback:function(a){t.$set(t.form_data,\"contract_from_wage\",a)},expression:\"form_data.contract_from_wage\"}},[e(\"b\",[t._v(t._s(t.form_data.contract_from_wage?\"Yes\":\"No\"))])])],1),t.form_data.contract_from_wage?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Labours: \")]),e(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(a){return\"Wage\"==a.work_type?e(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+a.id}},[e(\"b-form-checkbox\",{attrs:{name:\"wage_workers\",id:\"worker\"+a.id,value:a.id},model:{value:t.form_data.wage_workers,callback:function(a){t.$set(t.form_data,\"wage_workers\",a)},expression:\"form_data.wage_workers\"}},[e(\"b\",[t._v(\"#\"+t._s(a.id)+\"/\"+t._s(a.name))])])],1):t._e()})),0)]),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"div\",{staticStyle:{width:\"140px\"}},[t._v(\" Is there payment for wage? : \")]),e(\"b-form-checkbox\",{attrs:{name:\"is_wage_payment\",value:\"1\",switch:\"\"},model:{value:t.form_data.is_wage_payment,callback:function(a){t.$set(t.form_data,\"is_wage_payment\",a)},expression:\"form_data.is_wage_payment\"}},[e(\"b\",[t._v(t._s(t.form_data.is_wage_payment?\"Yes\":\"No\"))])])],1)]):t._e()]),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"})])])])],1)]),e(\"b-tab\",{attrs:{title:\"Consumbales\"}},[e(\"div\",{staticClass:\"user-info pt-2\"},t._l(t.form_data.consumable_items_list,(function(a){return e(\"div\",[a.is_lot_wise?e(\"div\",t._l(a.lots,(function(r){return r.warehouse==t.printing_warehous?e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(a.name)+\" (\"+t._s(a.unit)+\") : \")]),e(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(r.id))]),e(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+a.id+\"lot\"+r.id,max:r.available_quantity}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(a.unit))])]):t._e()})),0):e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(a.name)+\" (\"+t._s(a.unit)+\") : \")]),a.is_lot?e(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(a.consumable))]):t._e(),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"consumable_item.quantity\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+a.id,max:a.is_free?\"\":a.available_quantity},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(a.unit))])])])})),0)])],1)],1)],1)],1)],1)])},i=[],o=(e(\"4160\"),e(\"caad\"),e(\"b680\"),e(\"d3b7\"),e(\"2532\"),e(\"159b\"),e(\"ddb0\"),e(\"4dbf\")),s={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:o[\"a\"]},data:function(){return{form_data:{indent:null,workers:[],wage_workers:[],work_type:\"wages\",consumable_items_list:[],overtime_hourse_st1:2,indent_detail:{parameter:null,expected_date:\"2022-03\",total:0,values:[],total_quantity:0,indent_number:\"\",is_parameters:!1},machine_out_raws:[],lots:[]},id:null,action:\"create\",product_id:null,load_products:!1,parameters:[],indents:[],workers:[],packed_lots:[],packing_materials:[],specifications:[]}},mounted:function(){this.$root.current_section=\"production\",this.action=this.$route.params.action,\"edit\"==this.action&&(this.id=this.$route.params.id,this.getForm()),this.getIndents(),this.getSpecifications(),this.getWorkers()},methods:{getForm:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\"+this.id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data=a,t.product_id=a.product,t.load_products=!0,t.getParameters()}))},getIndent:function(){var t=this;this.load_products=!1;var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\"+this.form_data.indent+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data.indent_detail=a,t.product_id=a.product,t.load_products=!0,t.getParameters(),t.getMachineOutProducts()}))},getIndents:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.indents=a,t.getConsumables()}))},getConsumables:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/other_items/?item_for=packing\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data.consumable_items_list=a}))},productId:function(t){this.product_id=t,this.getParameters()},getMachineOutProducts:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/packing/?parameter=\"+this.form_data.indent_detail.parameter+\"&direct_packing=out\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.packed_lots=a,t.getPackingMaterials()}))},addLot:function(t){t.is_added=!0,t.quantity=t.total_qty},removeLot:function(t){t.is_added=!1,t.quantity=\"\"},getWorkers:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/workers/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.workers=a}))},getPackingMaterials:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_stock/?warehouse=\"+this.printing_warehous+\"&in_stock=true\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){a.forEach((function(t,e){a[e].is_added=!1,a[e].qtys=[{packing_quantity:0,number_of_bags:0}]})),t.packing_materials=a,t.getIndentMaterials()}))},getIndentMaterials:function(){for(var t=this.form_data.indent_detail,a=[],e=0;e<t.values.length;e++){var r=this.checkMaterialStock(t.values[e]);r.id&&this.packing_materials.forEach((function(e,i){r.id==e.id&&(e[\"is_added\"]=!0,e[\"indent\"]=t.id,a.push(e))}))}this.packed_lots.forEach((function(t,e){t.packing_materials=a}))},getParameters:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?product=\"+this.product_id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.parameters=a}))},getSpecifications:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.specifications=a}))},dataForm:function(){this.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/indent_packing/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.id=a.id,t.form_data=a,t.updateFormdata()):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/indent_packing/\"+this.id+\"/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?t.showAlert(\"Updated Successfully!\"):t.showAlert(\"Something Wrong!\")}))},checkMaterialStock:function(t){var a={id:null},e=this.packing_materials;return e.forEach((function(e,r){var i=!0;t.material==e.material?e.specifications.forEach((function(a){var r=!0;if(e.material_detail.specifications.includes(a.id)){var o=!0;t.specifications.forEach((function(e){e.material_ids.includes(t.material)&&a.id==e.id&&(a.value==e.value||null==e.values&&\"on\"==a.value&&e.value||(o=!1))})),o||(r=!1)}r||(i=!1)})):i=!1,i&&(a=e)})),a},totalPackMetQty:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",e=0,r=0;return t.qtys.forEach((function(t){e+=parseInt(t.number_of_bags),r+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),\"piece\"==a?e:\"weight\"==a?r.toFixed(2):0},totalPackQty:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",e=0,r=0,i=0,o=0,s=\"\",n=this;t.packing_materials.forEach((function(t){if(t.is_added){var a=0,d=0;s=t.material_detail.unit,t.qtys.forEach((function(t){a+=parseInt(t.number_of_bags),d+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),t.packing_type==n.action&&(e++,r+=a,i+=d),o+=d}})),t.quantity=o;n=this,o=0;var d=this.form_data.process_outputs;return d.forEach((function(t,a){if(t.quantity){if(0!=n.total_weight){var e=t.quantity/n.total_weight*100;e=e.toFixed(2),d[a].quantity_persentage=e+\"%\"}\"semi_finished_product\"!=t.parameter_type&&\"full_finished_product\"!=t.parameter_type&&\"main_product\"!=t.parameter_type||(o+=parseFloat(t.quantity))}else d[a].quantity_persentage=\"0%\"})),this.total_output=o,\"materials\"==a?e:\"piece\"==a?r:\"weight\"==a?i.toFixed(2)+s:0}}},n=s,d=(e(\"0896\"),e(\"b2cf\"),e(\"2877\")),u=Object(d[\"a\"])(n,r,i,!1,null,null,null);a[\"default\"]=u.exports},1148:function(t,a,e){\"use strict\";var r=e(\"a691\"),i=e(\"1d80\");t.exports=\"\".repeat||function(t){var a=String(i(this)),e=\"\",o=r(t);if(o<0||o==1/0)throw RangeError(\"Wrong number of repetitions\");for(;o>0;(o>>>=1)&&(a+=a))1&o&&(e+=a);return e}},\"408a\":function(t,a,e){var r=e(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=r(t))throw TypeError(\"Incorrect invocation\");return+t}},\"69f6\":function(t,a,e){},b2cf:function(t,a,e){\"use strict\";var r=e(\"bdc8\"),i=e.n(r);i.a},b680:function(t,a,e){\"use strict\";var r=e(\"23e7\"),i=e(\"a691\"),o=e(\"408a\"),s=e(\"1148\"),n=e(\"d039\"),d=1..toFixed,u=Math.floor,_=function(t,a,e){return 0===a?e:a%2===1?_(t,a-1,e*t):_(t*t,a/2,e)},c=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},l=d&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){d.call({})}));r({target:\"Number\",proto:!0,forced:l},{toFixed:function(t){var a,e,r,n,d=o(this),l=i(t),m=[0,0,0,0,0,0],p=\"\",f=\"0\",h=function(t,a){var e=-1,r=a;while(++e<6)r+=t*m[e],m[e]=r%1e7,r=u(r/1e7)},v=function(t){var a=6,e=0;while(--a>=0)e+=m[a],m[a]=u(e/t),e=e%t*1e7},b=function(){var t=6,a=\"\";while(--t>=0)if(\"\"!==a||0===t||0!==m[t]){var e=String(m[t]);a=\"\"===a?e:a+s.call(\"0\",7-e.length)+e}return a};if(l<0||l>20)throw RangeError(\"Incorrect fraction digits\");if(d!=d)return\"NaN\";if(d<=-1e21||d>=1e21)return String(d);if(d<0&&(p=\"-\",d=-d),d>1e-21)if(a=c(d*_(2,69,1))-69,e=a<0?d*_(2,-a,1):d/_(2,a,1),e*=4503599627370496,a=52-a,a>0){h(0,e),r=l;while(r>=7)h(1e7,0),r-=7;h(_(10,r,1),0),r=a-1;while(r>=23)v(1<<23),r-=23;v(1<<r),h(1,1),v(2),f=b()}else h(0,e),h(1<<-a,0),f=b()+s.call(\"0\",l);return l>0?(n=f.length,f=p+(n<=l?\"0.\"+s.call(\"0\",l-n)+f:f.slice(0,n-l)+\".\"+f.slice(n-l))):f=p+f,f}})},bdc8:function(t,a,e){}}]);","extractedComments":[]}