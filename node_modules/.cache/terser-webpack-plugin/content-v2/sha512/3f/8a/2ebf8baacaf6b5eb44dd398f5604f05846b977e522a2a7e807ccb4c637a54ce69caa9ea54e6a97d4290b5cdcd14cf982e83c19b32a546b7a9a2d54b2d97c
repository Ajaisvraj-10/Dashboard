{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a9c0dc26\"],{1148:function(t,e,s){\"use strict\";var a=s(\"a691\"),i=s(\"1d80\");t.exports=\"\".repeat||function(t){var e=String(i(this)),s=\"\",r=a(t);if(r<0||r==1/0)throw RangeError(\"Wrong number of repetitions\");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(s+=e);return s}},\"38cf\":function(t,e,s){var a=s(\"23e7\"),i=s(\"1148\");a({target:\"String\",proto:!0},{repeat:i})},3982:function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"main-content main-content2 task-sec \"},[s(\"div\",[s(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[t._m(0)]),s(\"div\",{staticClass:\"d-flex\"},t._l(t.task_categories,(function(e){return s(\"h5\",{staticClass:\"mb-0 mx-1 font-weight-600 cursor-pointer tab-breadcamp\",class:t.current_task_category==e?\"tab-breadcamp-active task-blue\":\"tab-breadcamp\",on:{click:function(s){return t.selectTaskCat(e)}}},[t._v(t._s(t.slugToWord(e)))])})),0),s(\"div\",{staticClass:\"text-right cursor-pointer\",staticStyle:{width:\"50px\"}},[s(\"img\",{attrs:{src:\"/img/refresh.png\",width:\"24\"},on:{click:function(e){return t.reloadTasks()}}})])],2),s(\"div\",{staticClass:\"separator-breadcrumb border-top\"})]),s(\"div\",{staticClass:\"ul-todo-list-content\",staticStyle:{\"margin-top\":\"-20px\"}},[s(\"div\",{staticClass:\"todo-left p-1\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[s(\"div\",{staticClass:\"mb-2\"},[\"assigned_tasks_to_me\"!=t.current_task_category?s(\"b-card\",{staticClass:\"h-100\",attrs:{\"body-class\":\"p-0\"},on:{click:function(e){t.current_task={},t.is_new_task=!0}}},[s(\"form\",{ref:\"newForm\",on:{submit:function(e){return e.preventDefault(),t.createFormdata()}}},[s(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-input1\",modifiers:{\"collapse-input1\":!0}}],staticClass:\"d-flex justify-content-between border-bottom\"},[s(\"b\",{staticClass:\" p-3 d-flex align-items-center cursor-pointer w-100\",on:{click:function(e){return t.$refs.main_task.focus()}}},[s(\"img\",{staticClass:\"mr-2\",attrs:{src:\"/img/plus.png\",width:\"20\"}}),s(\"div\",[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.task,expression:\"new_task.task\"}],ref:\"main_task\",staticClass:\"style-input \",attrs:{name:\"task\",placeholder:\"Add a task\"},domProps:{value:t.new_task.task},on:{input:function(e){e.target.composing||t.$set(t.new_task,\"task\",e.target.value)}}})])])]),s(\"b-collapse\",{attrs:{id:\"collapse-input1\"}},[s(\"div\",{staticClass:\"todo-collapse-container\"},[s(\"div\",{staticClass:\"todo-collapse px-3 py-2\"},[s(\"div\",{staticClass:\"todo-icons\"},[s(\"div\",{attrs:{id:\"app1\"}},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"i\",{staticClass:\"fa fa-calendar-o\"}),t._v(\"Due Date \"),s(\"span\",{staticClass:\"task-blue\"},[t._v(\"- \"+t._s(t.dateFormate(t.new_task.due_date)))])]},proxy:!0}],null,!1,808429132)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",{on:{click:function(e){t.new_task.due_date=t.getDateIs(\"Today\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.new_task.due_date=t.getDateIs(\"Tomorrow\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.new_task.due_date=t.getDateIs(\"Next Week\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),s(\"b-dropdown-divider\"),s(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[s(\"h6\",[t._v(\"Pick a date\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.due_date,expression:\"new_task.due_date\"}],attrs:{type:\"date\",name:t.new_task.due_date?\"due_date\":\"\"},domProps:{value:t.new_task.due_date},on:{input:function(e){e.target.composing||t.$set(t.new_task,\"due_date\",e.target.value)}}})]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.new_task.due_date=\"\"}}},[t._v(\"Remove Due date\")])])],1)],1)]),s(\"div\",{staticClass:\"todo-icons\"},[s(\"div\",{attrs:{id:\"app8\"}},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"),s(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(\"Normal\"!=t.new_task.priority?t.new_task.priority:\"\"))])]},proxy:!0}],null,!1,1009308834)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),s(\"b-dropdown-divider\"),t._l(t.priorities,(function(e){return s(\"b-dropdown-item\",{attrs:{active:t.new_task.priority==e},on:{click:function(s){t.new_task.priority=e}}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(e))])])})),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.new_task.priority=\"\"}}},[t._v(\" Remove Priority \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.priority,expression:\"new_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.new_task.priority},on:{input:function(e){e.target.composing||t.$set(t.new_task,\"priority\",e.target.value)}}})])])],2)],1)])]),s(\"div\",{staticClass:\"todo-add px-3 py-2\"},[s(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])],1)]):t._e()],1),s(\"div\",{staticClass:\"mb-2\"},[t._l(t.tasks,(function(e){return s(\"b-card\",{staticClass:\"h-100 mb-2\",attrs:{\"body-class\":\"p-0\"}},[s(\"div\",{},[s(\"div\",{staticClass:\"d-flex justify-content-between task-card border-bottom\",class:e.id==t.current_task.id?\"active-task\":\"\",style:\"Completed\"==e.status?\"background-color:green\":\"\",on:{click:function(s){return t.selectTask(e)}}},[s(\"b\",{staticClass:\" p-3 d-flex align-items-center cursor-pointer w-100\",staticStyle:{gap:\"10px\"}},[s(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:\"sub_task_main_list\"+e.id,expression:\"'sub_task_main_list'+task.id\"}],staticClass:\"w-100\",on:{click:function(s){return t.addSubTask(e)}}},[s(\"h6\",{staticClass:\"text-14 font-weight-700 mb-0\",class:\"Completed\"==e.status&&e.is_completed?\"finish-task\":\"\"},[t._v(t._s(e.task))]),s(\"div\",{staticClass:\"task-filters pt-1\"},[s(\"p\",{staticClass:\"text-12 text-darklight\"},t._l(e.assign_users,(function(a,i){return e.user==t.userId?s(\"span\",{staticClass:\"badge badge-light\"},[t._v(\" @\"+t._s(a.username)+\" \")]):s(\"span\",{staticClass:\"badge badge-light\"},[t._v(\"Assigned by @\"+t._s(e.username))])})),0),s(\"p\",{staticClass:\"text-12  badge badge-outline-info\"},[s(\"i\",{staticClass:\"fa fa-calendar-o pr-1\"}),e.due_date?s(\"span\",[t._v(\"Due Date - \"+t._s(t.dateFormate(e.due_date)))]):t._e()]),\"Normal\"!=e.priority?s(\"p\",{staticClass:\"text-12  badge\",class:\"Urgent\"==e.priority?\"badge-danger\":\"Medium\"==e.priority?\"badge-success\":\"Normal\"==e.priority?\"badge-primary\":\"badge-light\"},[s(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"+t._s(\"Normal\"!=e.priority?e.priority:\"\"))]):t._e(),e.tag.id?s(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},[s(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+e.tag.color+\"!important;color:\"+t.bgToTextColor(e.tag.color)},[s(\"i\",{staticClass:\"fa fa-tags pr-1\"}),t._v(t._s(e.tag.name)+\" \")])]):t._e()])]),s(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:\"sub_task_main_list\"+e.id,expression:\"'sub_task_main_list'+task.id\"}],staticClass:\"pt-2\"},[s(\"div\",{staticClass:\"bg-light p-0\",staticStyle:{position:\"relative\",width:\"150px\",\"border-radius\":\"5px\",\"box-shadow\":\"rgb(0 0 0 / 14%) -1px 7px 9px -5px\"}},[s(\"div\",{staticClass:\"badge-success p-0\",staticStyle:{\"border-radius\":\"5px 3px 3px 5px\"},style:\"width:\"+e.task_completion+\"%\"},[s(\"small\",{staticClass:\"px-1\",staticStyle:{\"white-space\":\"nowrap\"}},[t._v(\"Completed \"+t._s(parseInt(e.task_completion))+\"%\")])])])]),s(\"div\",{staticClass:\"pr-2\",staticStyle:{width:\"18%\"}},[s(\"div\",{staticClass:\"text-right\"},[s(\"i\",{staticClass:\"fa fa-bell\",staticStyle:{\"font-size\":\"16px\",color:\"#252d4b\"},on:{click:function(s){return t.removeNotifications(e,\"new_sab_task\")}}}),s(\"sup\",[e.notifications.sub_tasks>0&&e.notifications.notify>0?s(\"span\",{staticClass:\"text-warning\"},[t._v(t._s(e.notifications.sub_tasks?e.notifications.sub_tasks:e.notifications.notify))]):t._e()]),s(\"span\",{staticClass:\"mx-1 pl-1\"}),s(\"i\",{staticClass:\"fa fa-comments\",staticStyle:{\"font-size\":\"18px\",color:\"#252d4b\"},on:{click:function(s){return t.getActivities(e)}}}),s(\"sup\",[e.notifications.activities>0?s(\"span\",{staticClass:\"text-success\"},[t._v(t._s(e.notifications.activities))]):t._e()])]),s(\"div\",{staticClass:\"text-right\"},[s(\"small\",[t._v(t._s(t.timeAgo(e.created_on)))])])])])]),s(\"div\",{staticClass:\"px-2\"},[s(\"b-collapse\",{attrs:{id:\"sub_task_main_list\"+e.id}},[s(\"div\",{staticClass:\"todo-collapse-container py-2\",staticStyle:{\"flex-direction\":\"column\",\"align-items\":\"start\",gap:\"4px\"}},[t._l(e.sub_tasks,(function(e){return e.user==t.userId||e.assign_task.includes(t.userId)?s(\"div\",{staticClass:\"task-card todo-collapse2 d-flex align-items-center px-4 w-100 py-2\",class:e.id==t.current_task.id?\"active-task\":\"\",style:\"Completed\"==e.status?\"background-color:#72f54240!important\":\"\",on:{click:function(s){return t.selectTask(e)}}},[s(\"div\",{},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.status,expression:\"sub_task.status\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"hidden\",name:\"status\"},domProps:{value:e.status},on:{input:function(s){s.target.composing||t.$set(e,\"status\",s.target.value)}}})]),s(\"div\",{staticClass:\"w-100 cursor-pointer sub-task ml-3\"},[s(\"h6\",{staticClass:\"text-14 font-weight-500 mb-0\",class:\"Completed\"==e.status&&e.is_completed?\"finish-task\":\"\"},[t._v(t._s(e.task))]),s(\"div\",{staticClass:\"task-filters pt-1\"},[s(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},t._l(e.assign_users,(function(a,i){return s(\"span\",{staticClass:\"badge badge-light text-10\",staticStyle:{\"margin-left\":\"1px\"}},[a.id!=t.userId?s(\"span\",[t._v(\"@\"+t._s(a.username))]):s(\"span\",[t._v(\"Assigned by @\"+t._s(e.username))])])})),0),s(\"p\",{staticClass:\"text-10 mb-0 badge badge-outline-info\"},[s(\"i\",{staticClass:\"fa fa-calendar-o pr-1\"}),e.due_date?s(\"span\",[t._v(\"Due Date - \"+t._s(t.dateFormate(e.due_date)))]):t._e()]),\"Normal\"!=e.priority?s(\"p\",{staticClass:\"text-10 mb-0 badge\",class:\"Urgent\"==e.priority?\"badge-danger\":\"Medium\"==e.priority?\"badge-success\":\"Normal\"==e.priority?\"badge-primary\":\"badge-light\"},[s(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"+t._s(\"Normal\"!=e.priority?e.priority:\"\"))]):t._e(),e.tag.id?s(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},[s(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+e.tag.color+\"!important;color:\"+t.bgToTextColor(e.tag.color)},[s(\"i\",{staticClass:\"fa fa-tags\"}),t._v(t._s(e.tag.name)+\" \")])]):t._e()])]),s(\"div\",{staticClass:\"pr-3\",staticStyle:{width:\"18%\"}},[s(\"div\",{staticClass:\"text-right cursor-pointer\"},[s(\"i\",{staticClass:\"fa fa-bell\",staticStyle:{\"font-size\":\"16px\",color:\"#252d4b\"},on:{click:function(s){return t.removeNotifications(e,\"new_sab_task\")}}}),s(\"sup\",[e.notifications.notify>0?s(\"span\",{staticClass:\"text-warning\"},[t._v(t._s(e.notifications.notify))]):t._e()]),s(\"span\",{staticClass:\"mx-1 pl-1\"}),s(\"i\",{staticClass:\"fa fa-comments\",staticStyle:{\"font-size\":\"18px\",color:\"#252d4b\"},on:{click:function(s){return t.getActivities(e)}}}),s(\"sup\",[e.notifications.activities>0?s(\"span\",{staticClass:\"text-success\"},[t._v(t._s(e.notifications.activities))]):t._e()])]),s(\"div\",{staticClass:\"text-right\"},[s(\"small\",[t._v(t._s(t.timeAgo(e.created_on)))])])])]):t._e()})),s(\"form\",{staticClass:\"w-100\",attrs:{id:\"newSubForm\"+e.id},on:{submit:function(s){return s.preventDefault(),t.createFormdata(e)}}},[s(\"div\",{staticClass:\"task-card todo-collapse2 d-flex align-items-center px-4 py-2\",on:{click:function(e){t.current_task={},t.is_new_task=!0}}},[s(\"img\",{staticClass:\"mr-2\",attrs:{src:\"/img/plus.png\",width:\"17\"},on:{click:function(s){return t.focusInput(\"add_sub_task\"+e.id)}}}),s(\"h6\",{staticClass:\"font-weight-500 mb-0 w-100 pl-2\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.task,expression:\"new_sub_task.task\"}],staticClass:\"style-input text-12 bg-transparent w-100\",attrs:{name:\"task\",id:\"add_sub_task\"+e.id,placeholder:\"Add sub task\"},domProps:{value:t.new_sub_task.task},on:{input:function(e){e.target.composing||t.$set(t.new_sub_task,\"task\",e.target.value)}}})]),s(\"div\",{staticClass:\"todo-collapse-container bg-transparent p-1\",staticStyle:{\"justify-content\":\"flex-end\",gap:\"15px\"}},[s(\"div\",{staticClass:\"todo-collapse\"},[s(\"div\",{staticClass:\"todo-icons\"},[s(\"div\",[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"i\",{staticClass:\"fa fa-calendar-o\"}),t._v(\" \"),s(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(t.dateFormate(t.new_sub_task.due_date)))])]},proxy:!0}],null,!0)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",{on:{click:function(e){t.new_sub_task.due_date=t.getDateIs(\"Today\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.new_sub_task.due_date=t.getDateIs(\"Tomorrow\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.new_sub_task.due_date=t.getDateIs(\"Next Week\",\"click\")}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),s(\"b-dropdown-divider\"),s(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[s(\"h6\",[t._v(\"Pick a date\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.due_date,expression:\"new_sub_task.due_date\"}],attrs:{type:\"date\",name:t.new_sub_task.due_date?\"due_date\":\"\"},domProps:{value:t.new_sub_task.due_date},on:{input:function(e){e.target.composing||t.$set(t.new_sub_task,\"due_date\",e.target.value)}}})]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.new_sub_task.due_date=\"\"}}},[t._v(\"Remove Due date\")])])],1)],1)]),s(\"div\",{staticClass:\"todo-icons\"},[s(\"div\",[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"),s(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(\"Normal\"!=t.new_sub_task.priority?t.new_sub_task.priority:\"\"))])]},proxy:!0}],null,!0)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),s(\"b-dropdown-divider\"),t._l(t.priorities,(function(e){return s(\"b-dropdown-item\",{attrs:{active:t.new_sub_task.priority==e},on:{click:function(s){t.new_sub_task.priority=e}}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(e))])])})),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.new_sub_task.priority=\"Normal\"}}},[t._v(\" Remove Priority \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.priority,expression:\"new_sub_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.new_sub_task.priority},on:{input:function(e){e.target.composing||t.$set(t.new_sub_task,\"priority\",e.target.value)}}})])])],2)],1)])]),s(\"div\",{staticClass:\"todo-add\"},[s(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])])],2)])],1)])])})),t.tasks.length<=0&&t.is_start?s(\"div\",{staticClass:\"text-center \"},[s(\"p\",{staticClass:\"py-5\"},[t._v(\"No tasks found!\")])]):t._e(),t.tasks.length<=0&&!t.is_start?s(\"div\",{staticClass:\"text-center \"},[s(\"p\",{staticClass:\"p-3\"}),s(\"div\",{staticClass:\"table_loading\"}),s(\"p\")]):t._e()],2)]),s(\"div\",{staticClass:\"todo-sidebar p-1\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[s(\"b-card\",{attrs:{\"body-class\":\"preview-card p-0\"}},[t.current_task.id?s(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.updateFormdata()}}},[s(\"div\",{staticClass:\"d-flex justify-content-between align-items-center px-3 pt-3 pb-1\",staticStyle:{gap:\"10px\"}},[s(\"b\",{staticClass:\"d-flex align-items-center cursor-pointer w-100\"},[s(\"div\",{staticClass:\"w-100\"},[s(\"h6\",{staticClass:\"text-14 font-weight-600 mb-0\",class:\"Completed\"==t.current_task.status&&t.current_task.is_completed?\"finish-task\":\"\"},[t._v(t._s(t.current_task.task))]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.task,expression:\"current_task.task\"}],attrs:{type:\"hidden\",name:\"task\"},domProps:{value:t.current_task.task},on:{input:function(e){e.target.composing||t.$set(t.current_task,\"task\",e.target.value)}}})]),t.current_task.user==t.userId?s(\"div\",{staticClass:\" text-right\"},[\"Completed\"!=t.current_task.status||t.current_task.is_completed?s(\"button\",{staticClass:\"btn btn-info\",staticStyle:{color:\"white\",padding:\"3px 8px!important\"},style:t.current_task.is_completed?\"background-color:green!important\":\"background-color:orange!important\",attrs:{type:\"button\"}},[t._v(t._s(t.current_task.status))]):s(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(e){return t.finishTask()}}},[s(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Mark as Complete\")])]):s(\"div\",{staticClass:\" text-right\"},[\"Completed\"==t.current_task.status||t.current_task.is_completed?s(\"button\",{staticClass:\"btn btn-info\",staticStyle:{\"background-color\":\"darkblue!important\",color:\"white\",padding:\"3px 8px!important\"},attrs:{type:\"button\"}},[t._v(t._s(t.current_task.status))]):s(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(e){return t.completeTask(t.current_task)}}},[s(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Complete Task\")])])]),s(\"div\",{staticClass:\"cursor-pointer\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.not_deleted,expression:\"current_task.not_deleted\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"not_deleted\"},domProps:{checked:Array.isArray(t.current_task.not_deleted)?t._i(t.current_task.not_deleted,null)>-1:t.current_task.not_deleted},on:{change:function(e){var s=t.current_task.not_deleted,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);a.checked?n<0&&t.$set(t.current_task,\"not_deleted\",s.concat([r])):n>-1&&t.$set(t.current_task,\"not_deleted\",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.current_task,\"not_deleted\",i)}}}),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.is_completed,expression:\"current_task.is_completed\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"is_completed\"},domProps:{checked:Array.isArray(t.current_task.is_completed)?t._i(t.current_task.is_completed,null)>-1:t.current_task.is_completed},on:{change:function(e){var s=t.current_task.is_completed,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);a.checked?n<0&&t.$set(t.current_task,\"is_completed\",s.concat([r])):n>-1&&t.$set(t.current_task,\"is_completed\",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.current_task,\"is_completed\",i)}}}),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.status,expression:\"current_task.status\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"hidden\",name:\"status\"},domProps:{value:t.current_task.status},on:{input:function(e){e.target.composing||t.$set(t.current_task,\"status\",e.target.value)}}})])]),s(\"hr\",{staticClass:\"m-2\"}),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"Completed\"==t.current_task.status,expression:\"current_task.status=='Completed'\"}]}),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.current_task.user==t.userId,expression:\"current_task.user==userId\"}]},[s(\"div\",{staticClass:\"sidebar-tab\"},[s(\"div\",{attrs:{id:\"app4\"}},[s(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-tasks\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Assign to task\")]),s(\"div\",{staticClass:\"text-left\"},t._l(t.current_task.assign_users,(function(e,a){return t.current_task.user==t.userId?s(\"span\",{staticClass:\"badge badge-light text-10\",staticStyle:{\"margin-left\":\"1px\"}},[t._v(\"@\"+t._s(e.username))]):t._e()})),0)])])]},proxy:!0}],null,!1,96373124)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Assign to task\")]),s(\"b-dropdown-divider\"),t._l(t.users,(function(e,a){return e.employee&&t.userId!=e.id?s(\"b-dropdown-item\",{attrs:{active:t.current_task.assign_task.includes(e.id)},on:{click:function(s){return t.selectUser(e,a)}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[s(\"i\",{staticClass:\"fa fa-user\"}),t._v(\" \"+t._s(e.first_name))]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"@\"+t._s(e.username))])])]):t._e()}))],2)],1)]),s(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[s(\"div\",{attrs:{id:\"app5\"}},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-calendar-o\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Add Due Date\")]),s(\"div\",{staticClass:\"text-left\"},[s(\"span\",{staticClass:\"badge badge-outline-info\"},[t._v(t._s(t.dateFormate(t.current_task.due_date)))])])])])]},proxy:!0}],null,!1,3786088950)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",{on:{click:function(e){t.current_task.due_date=t.getDateIs(\"Today\",\"click\"),t.updateFormdata2()}}},[s(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.current_task.due_date=t.getDateIs(\"Tomorrow\",\"click\"),t.updateFormdata2()}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),s(\"b-dropdown-item\",{on:{click:function(e){t.current_task.due_date=t.getDateIs(\"Next Week\",\"click\"),t.updateFormdata2()}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),s(\"b-dropdown-divider\"),s(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[s(\"h6\",[t._v(\"Pick a date\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.due_date,expression:\"current_task.due_date\"}],attrs:{type:\"date\",name:t.current_task.due_date?\"due_date\":\"\"},domProps:{value:t.current_task.due_date},on:{change:function(e){return t.updateFormdata2()},input:function(e){e.target.composing||t.$set(t.current_task,\"due_date\",e.target.value)}}})]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.current_task.due_date=\"\",t.updateFormdata2()}}},[t._v(\"Remove Due date\")])])],1)],1),s(\"div\",{attrs:{id:\"app7\"}},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-level-up\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Priority\")]),s(\"div\",{staticClass:\"text-right\"},[\"Normal\"!=t.current_task.priority?s(\"span\",{staticClass:\"badge\",class:\"Urgent\"==t.current_task.priority?\"badge-danger\":\"Medium\"==t.current_task.priority?\"badge-success\":\"Normal\"==t.current_task.priority?\"badge-primary\":\"badge-light\"},[t._v(\" \"+t._s(\"Normal\"!=t.current_task.priority?t.current_task.priority:\"\"))]):t._e()])])])]},proxy:!0}],null,!1,399936629)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),s(\"b-dropdown-divider\"),t._l(t.priorities,(function(e){return s(\"b-dropdown-item\",{attrs:{active:t.current_task.priority==e},on:{click:function(s){t.current_task.priority=e,t.updateFormdata2()}}},[s(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(e))])])})),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",[s(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(e){t.current_task.priority=\"Normal\",t.updateFormdata2()}}},[t._v(\" Remove Priority \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.priority,expression:\"current_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.current_task.priority},on:{input:function(e){e.target.composing||t.$set(t.current_task,\"priority\",e.target.value)}}})])])],2)],1)]),s(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[s(\"div\",{attrs:{id:\"app8\"}},[s(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-tags\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Status\")]),s(\"div\",{staticClass:\"text-left\"},[s(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+t.current_task.tag.color+\"!important;color:\"+t.bgToTextColor(t.current_task.tag.color)},[t._v(t._s(t.current_task.tag.name))])])])])]},proxy:!0}],null,!1,2983543202)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Update Status\")]),s(\"b-dropdown-divider\"),t._l(t.tags,(function(e,a){return t.current_task.main_tag&&t.current_task.main_tag==e.main_tag||!t.current_task.main_tag&&!e.main_tag?s(\"b-dropdown-item\",{attrs:{active:t.current_task.tag.id==e.id},on:{click:function(s){return t.selectTag(e)}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[s(\"i\",{staticClass:\"fa fa-tag\"}),t._v(\" \"+t._s(e.name))]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"tag\")])])]):t._e()}))],2),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.main_tag,expression:\"current_task.main_tag\"}],attrs:{type:\"hidden\",name:\"main_tag\"},domProps:{value:t.current_task.main_tag},on:{input:function(e){e.target.composing||t.$set(t.current_task,\"main_tag\",e.target.value)}}})],1),s(\"div\",{attrs:{id:\"app9\"}},[s(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-image\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Image Compulsory\")]),s(\"div\",{staticClass:\"text-right\"},[t.current_task.image_compulsory?s(\"span\",{staticClass:\"badge badge-success\"},[s(\"i\",{staticClass:\"fa fa-check\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}}),t._v(\"Yes\")]):s(\"span\",{staticClass:\"badge badge-danger\"},[s(\"i\",{staticClass:\"fa fa-times\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}}),t._v(\"No\")])])])])]},proxy:!0}],null,!1,2439802604)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Select an option\")]),s(\"b-dropdown-divider\"),s(\"b-dropdown-item\",{attrs:{active:t.current_task.image_compulsory},on:{click:function(e){t.current_task.image_compulsory=1,t.updateFormdata2()}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[s(\"i\",{staticClass:\"fa fa-check\"}),t._v(\" Yes\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"compulsory\")])])]),s(\"b-dropdown-item\",{attrs:{active:!t.current_task.image_compulsory},on:{click:function(e){t.current_task.image_compulsory=0,t.updateFormdata2()}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[s(\"i\",{staticClass:\"fa fa-times\"}),t._v(\" No\")]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"not compulsory\")])])])],1),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.image_compulsory,expression:\"current_task.image_compulsory\"}],attrs:{type:\"hidden\",name:\"image_compulsory\"},domProps:{value:t.current_task.image_compulsory},on:{input:function(e){e.target.composing||t.$set(t.current_task,\"image_compulsory\",e.target.value)}}})])],1)])]),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"Completed\"!=t.current_task.status&&t.current_task.user!=t.userId,expression:\"current_task.status!='Completed' && current_task.user!=userId\"}]},[t.current_task.image_compulsory?s(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[s(\"div\",{attrs:{id:\"app85\"}},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"},on:{click:function(e){return t.getActivities(t.current_task)}}},[s(\"i\",{staticClass:\"fa fa-image\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Image Compulsory \"),s(\"span\",{staticClass:\"badge badge-success\"},[s(\"i\",{staticClass:\"fa fa-check\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}})])])])])]},proxy:!0}],null,!1,2505991520)})],1)]):t._e(),s(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[s(\"div\",{attrs:{id:\"app8\"}},[s(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[s(\"i\",{staticClass:\"fa fa-tags\"}),s(\"div\",[s(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Status\")]),s(\"div\",{staticClass:\"text-left\"},[s(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+t.current_task.tag.color+\"!important;color:\"+t.bgToTextColor(t.current_task.tag.color)},[t._v(t._s(t.current_task.tag.name))])])])])]},proxy:!0}],null,!1,2983543202)},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Update Status\")]),s(\"b-dropdown-divider\"),t._l(t.tags,(function(e,a){return t.current_task.main_tag==e.main_tag?s(\"b-dropdown-item\",{attrs:{active:t.current_task.tag.id==e.id},on:{click:function(s){return t.selectTag(e)}}},[s(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[s(\"h6\",{staticClass:\"mb-0\"},[s(\"i\",{staticClass:\"fa fa-tag\"}),t._v(\" \"+t._s(e.name))]),s(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"tag\")])])]):t._e()}))],2)],1)]),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.assign_task,expression:\"current_task.assign_task\"}],attrs:{name:\"assign_task\",multiple:\"\"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.current_task,\"assign_task\",e.target.multiple?s:s[0])}}},t._l(t.users,(function(e){return s(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.username))])})),0)])]),t.current_task.main_task?t._e():s(\"div\",{staticClass:\"px-2\"},[s(\"div\",{staticClass:\"bg-light p-0\",staticStyle:{position:\"relative\",width:\"100%\",\"border-radius\":\"5px\",\"box-shadow\":\"rgb(0 0 0 / 14%) -1px 7px 9px -5px\"}},[s(\"div\",{staticClass:\"badge-success p-0\",staticStyle:{\"border-radius\":\"5px 3px 3px 5px\"},style:\"width:\"+t.current_task.task_completion+\"%\"},[s(\"small\",{staticClass:\"px-1\",staticStyle:{\"white-space\":\"nowrap\"}},[t._v(\"Completed \"+t._s(parseInt(t.current_task.task_completion))+\"%\")])])])]),s(\"div\",{staticClass:\"px-2 py-2\"},[s(\"b\",{staticClass:\"text-primary cursor-pointer\",on:{click:function(e){return t.tagStatus(t.current_task)}}},[t._v(\"View More\")]),s(\"b\",{staticClass:\"text-12 float-right\"},[s(\"small\",[t._v(\"created on\")]),t._v(\" \"+t._s(t.dateFormate(t.current_task.created_on,!0)))])])]):t.is_new_task?s(\"div\",{staticClass:\"empty-task p-3\"},[s(\"img\",{attrs:{src:\"/img/add-img.webp\"}}),s(\"div\",{staticClass:\"text-center\"},[s(\"h5\",[t._v(\"Add a task\")]),s(\"p\",[t._v(\"Add task from your website left tab\")])])]):t._e()])],1)]),s(\"b-modal\",{attrs:{id:\"activity\",title:\"Messages\"}},[s(\"div\",{staticClass:\"activity-container\",staticStyle:{height:\"68vh\",\"overflow-y\":\"auto\"}},[s(\"div\",{staticClass:\"activity-header mb-2\"},[s(\"div\",{staticClass:\"profile-dp\"},[t._v(\" \"+t._s(t.slugToWord(t.$root.userInfo.username.length>0?t.$root.userInfo.username[0]:\"X\"))+\" \")]),s(\"div\",{staticClass:\"activity-collapse\"},[s(\"form\",{ref:\"messageForm\",on:{submit:function(e){return e.preventDefault(),t.messageForm()}}},[t.new_activity.preview_image?s(\"div\",{staticClass:\"px-5 py-2\"},[s(\"img\",{staticClass:\"w-100\",attrs:{src:t.new_activity.preview_image}})]):t._e(),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_activity.note,expression:\"new_activity.note\"},{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-action\",modifiers:{\"collapse-action\":!0}}],attrs:{placeholder:\"Write a Comment\",name:\"note\"},domProps:{value:t.new_activity.note},on:{input:function(e){e.target.composing||t.$set(t.new_activity,\"note\",e.target.value)}}}),s(\"b-collapse\",{staticClass:\"activity-body\",attrs:{id:\"collapse-action\"}},[s(\"button\",{staticClass:\"btn btn-info\",attrs:{type:\"submit\"}},[t._v(\"Save\")]),s(\"div\",{staticClass:\"activity-body-right\"},[s(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[s(\"button\",{staticClass:\"btn-icons\"},[s(\"i\",{staticClass:\"fa fa-paperclip\"})])]},proxy:!0}])},[s(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Attatch\")]),s(\"b-dropdown-divider\"),s(\"b-dropdown-text\",[s(\"label\",[s(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Image\")]),s(\"input\",{staticStyle:{opacity:\"0\",\"z-index\":\"99\",position:\"absolute\",top:\"0\",left:\"0\",width:\"100%\",height:\"100%\",cursor:\"pointer\"},attrs:{type:\"file\",name:t.new_activity.preview_image?\"image\":\"no_img\"},on:{change:t.selectFile}})])])],1)],1)])],1)])]),s(\"hr\",{staticClass:\"my-2\"}),s(\"div\",t._l(t.task_activities,(function(e){return s(\"div\",{staticClass:\"activity-header mb-1\"},[s(\"div\",{staticClass:\"profile-dp\",style:e.user==t.userId?\"\":\"background-color:#666fb3\"},[t._v(\" \"+t._s(t.slugToWord(e.username.length>0?e.username[0]:\"X\"))+\" \")]),s(\"div\",{staticClass:\"mx-1 w-100\"},[s(\"b\",[t._v(\"@\"+t._s(e.username))]),e.image?s(\"div\",{staticClass:\"px-2 cursor-pointer\"},[s(\"img\",{staticStyle:{\"max-height\":\"100px\",\"max-width\":\"100%\"},attrs:{src:e.image}})]):t._e(),s(\"p\",{staticClass:\"w-100\"},[t._v(t._s(e.note)+\" \"),s(\"small\",{staticClass:\"text-info pt-1\",staticStyle:{float:\"right\"}},[t._v(t._s(t.timeAgo(e.created_on)))])])])])})),0)])]),s(\"b-modal\",{attrs:{id:\"task-tags\",title:\"Activities\"}},[s(\"div\",{staticClass:\"activity-container p-2\",staticStyle:{height:\"68vh\",\"overflow-y\":\"auto\"}},[s(\"div\",{staticClass:\"row mx-0\"},t._l(t.tag_status,(function(e){return s(\"div\",{staticClass:\"col-md-3\"},[s(\"div\",{staticClass:\"card p-2\"},[s(\"span\",{staticClass:\"text-left\"},[s(\"button\",{staticClass:\"btn btn-light p-1\",style:\"background-color:\"+e.color+\"!important;color:\"+t.bgToTextColor(e.color)},[s(\"i\",{staticClass:\"fa fa-tags\"}),t._v(t._s(e.name)+\" \")]),s(\"span\",{staticClass:\"text-12 d-block mt-1\"},[t._v(\"updated by @\"+t._s(e.username))])]),s(\"span\",{staticStyle:{float:\"right\"}},[s(\"small\",[t._v(t._s(t.timeAgo(e.created_on)))])])])])})),0)])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticStyle:{width:\"50px\"}},[s(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Tasks\")])])}],r=(s(\"caad\"),s(\"c975\"),s(\"a434\"),s(\"d3b7\"),s(\"2532\"),s(\"3ca3\"),s(\"38cf\"),s(\"ddb0\"),s(\"2b3d\"),{metaInfo:{},data:function(){return{tasks:[],users:[],new_task:{is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\",priority:\"Normal\"},new_sub_task:{is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\",priority:\"Normal\"},current_task:{is_completed:!1,not_deleted:1},repeats:[\"None\",\"Dialy\",\"Weekly\",\"Monthly\",\"Yearly\"],task_categories:[\"my_tasks\",\"assigned_tasks_to_me\",\"completed_tasks\"],priorities:[\"Urgent\",\"Medium\",\"Normal\"],tags:[],new_activity:{note:\"\",preview_image:\"\"},task_activities:[],tag_status:[],current_task_category:\"my_tasks\",is_new_task:!0,toggle:!1,is_start:!1}},mounted:function(){this.$root.current_section=\"task\",this.getTasks(),this.getUsers(),this.getTags()},methods:{reloadTasks:function(){this.tasks=[],this.getTasks()},selectTaskCat:function(t){this.is_new_task=!0,this.current_task_category=t,this.tasks=[],this.current_task={},this.getTasks()},getDateIs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"Today\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",s=new Date,a=\"\";return\"Today\"==t&&(a=s.setDate(s.getDate())),\"Tomorrow\"==t&&(a=s.setDate(s.getDate()+1)),\"Next Week\"==t&&(a=s.setDate(s.getDate()+7)),\"click\"==e?this.currentDate(a):this.dateFormate(a)},getTasks:function(){var t=this;this.is_start=!1;var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/?task_type=\"+this.current_task_category,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.is_start=!0,t.tasks=e}))},selectTask:function(t){var e=this;if(this.is_new_task=!1,t.main_task&&t.user!=this.userId&&!t.assign_task.includes(this.userId))return this.showAlert(\"The task is not yours\",\"red\"),!1;e.current_task={},setTimeout((function(){e.current_task=t}),0)},createFormdata:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null};if(this.lock_btn)return!1;this.lock_btn=!0;var s=new FormData(this.$refs[\"newForm\"]);e.id&&(s=new FormData(document.getElementById(\"newSubForm\"+e.id)),s.append(\"main_task\",e.id)),s.append(\"user\",this.userId),s.append(\"not_deleted\",1);var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/\",{method:\"POST\",body:s,headers:a}).then((function(t){return t.json()})).then((function(e){t.lock_btn=!1,e.id>0?(t.new_task={is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\"},t.new_sub_task={is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\"},t.current_task=e,t.updateSubTask(),t.showAlert(\"Added Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this;if(this.current_task.user!=this.userId&&this.current_task.image_compulsory&&!this.current_task.preview_image&&!this.current_task.image)return this.showAlert(\"Please attach an image\",\"red\"),!1;var e=new FormData(this.$refs[\"dataForm\"]);e.append(\"user\",this.current_task.user);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/\"+this.current_task.id+\"/\",{method:\"PUT\",body:e,headers:s}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.current_task=e,t.current_task.not_deleted?t.updateSubTask():(t.showAlert(\"Task Deleted!\",\"red\"),t.getTasks())):t.showAlert(\"Something Wrong!\")}))},updateSubTask:function(){var t=this,e=new FormData;e.append(\"task\",this.current_task.id);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/update_sub_tasks/\",{method:\"POST\",body:e,headers:s}).then((function(t){return t.json()})).then((function(e){e.id>0&&(t.current_task=e,t.getTasks(),t.showAlert(\"Saved!\"))}))},selectFile:function(t){var e=t.target.files[0];if(e){this.new_activity.preview_image=\"\";var s=this;setTimeout((function(){s.new_activity.preview_image=URL.createObjectURL(e)}),10)}},deleteTask:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e)return this.$swal({title:\"Delete Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(e){e.value&&t.deleteTask(!1)})),!1;this.current_task.user==this.userId&&(this.current_task.not_deleted=0),this.updateFormdata2()},completeTask:function(t){var e=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.user!=this.userId&&t.assign_task.includes(this.userId)?s?(this.$swal({title:\"Completed Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(s){s.value&&e.completeTask(t,!1)})),!1):(t.status=\"Completed\",this.current_task=t,void this.updateFormdata2()):(this.showAlert(\"Status is \"+t.status,\"yellow\"),!1)},finishTask:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.current_task.user==this.userId&&(e?(this.$swal({title:\"Finish Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(e){e.value&&t.finishTask(!1)})),!1):(this.current_task.is_completed=1,void this.updateFormdata2()))},getUsers:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/users/users/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.users=e}))},selectUser:function(t,e){if(this.current_task.assign_task.includes(t.id)){var s=this.current_task.assign_task.indexOf(t.id);this.current_task.assign_task.splice(s,1),this.current_task.assign_users.splice(s,1)}else this.current_task.assign_task.push(t.id),this.current_task.assign_users.push({id:t.id,username:t.username});this.updateFormdata2()},getTags:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.tags=e}))},getActivities:function(t){var e=this;this.current_task=t,this.task_activities=[],this.$bvModal.show(\"activity\");var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_activities/?task=\"+this.current_task.id,{method:\"get\",headers:s}).then((function(t){return t.json()})).then((function(s){e.task_activities=s,e.removeNotifications(t,\"new_messages\")}))},removeNotifications:function(t,e){var s=this;this.current_task=t;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/update_sub_tasks/?task=\"+this.current_task.id+\"&noti_type=\"+e,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(t){t.success&&s.getTasks()}))},tagStatus:function(t){var e=this;this.current_task=t,this.tag_status=[],this.$bvModal.show(\"task-tags\");var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tag_status/?task=\"+this.current_task.id,{method:\"get\",headers:s}).then((function(t){return t.json()})).then((function(t){e.tag_status=t}))},selectTag:function(t){var e=this;if(this.lock_btn)return!1;this.current_task.tag=t;var s=new FormData;s.append(\"task\",this.current_task.id),s.append(\"tag\",t.id),s.append(\"user\",this.userId),this.lock_btn=!0;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tag_status/\",{method:\"POST\",body:s,headers:a}).then((function(t){return t.json()})).then((function(s){e.lock_btn=!1,s.id>0&&(t.main_tag?(e.getTasks(),e.showAlert(\"Tag Updated!\")):(e.current_task.main_tag=t.id,e.updateFormdata2()))}))},messageForm:function(t){var e=this;if(this.lock_btn)return!1;var s=new FormData(this.$refs[\"messageForm\"]);s.append(\"task\",this.current_task.id),s.append(\"user\",this.userId),this.lock_btn=!0;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_activities/\",{method:\"POST\",body:s,headers:a}).then((function(t){return t.json()})).then((function(t){e.lock_btn=!1,t.id>0&&(e.new_activity={note:\"\",preview_image:\"\"},e.getActivities(e.current_task),e.showAlert(\"Message saved!\"))}))},addSubTask:function(t){this.new_sub_task={is_completed:!1,due_date:t.due_date,remider_date:t.remider_date,repeat:t.repeat,priority:t.priority},this.focusInput(\"add_sub_task\"+t.id)},updateFormdata2:function(){var t=this;setTimeout((function(){t.updateFormdata()}),50)},focusInput:function(t){setTimeout((function(){document.getElementById(t).focus()}),50)}}}),n=r,o=(s(\"8b20\"),s(\"2877\")),c=Object(o[\"a\"])(n,a,i,!1,null,null,null);e[\"default\"]=c.exports},\"8b20\":function(t,e,s){\"use strict\";var a=s(\"9b76\"),i=s.n(a);i.a},\"9b76\":function(t,e,s){}}]);","extractedComments":[]}