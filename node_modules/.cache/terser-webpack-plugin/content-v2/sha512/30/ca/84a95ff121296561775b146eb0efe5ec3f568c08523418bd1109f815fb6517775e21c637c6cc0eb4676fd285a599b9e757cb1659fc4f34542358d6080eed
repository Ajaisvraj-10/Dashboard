{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-e318e2b0\"],{\"25f0\":function(t,e,n){\"use strict\";var o=n(\"6eeb\"),i=n(\"825a\"),r=n(\"d039\"),s=n(\"ad6d\"),a=\"toString\",c=RegExp.prototype,l=c[a],d=r((function(){return\"/a/b\"!=l.call({source:\"a\",flags:\"b\"})})),u=l.name!=a;(d||u)&&o(RegExp.prototype,a,(function(){var t=i(this),e=String(t.source),n=t.flags,o=String(void 0===n&&t instanceof RegExp&&!(\"flags\"in c)?s.call(t):n);return\"/\"+e+\"/\"+o}),{unsafe:!0})},\"52d6\":function(t,e,n){},5916:function(t,e,n){\"use strict\";var o=n(\"609c\"),i=n.n(o);i.a},\"609c\":function(t,e,n){},\"80ad\":function(t,e,n){\"use strict\";var o=n(\"52d6\"),i=n.n(o);i.a},b3df:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"main-content capcee-login\"},[n(\"div\",{staticClass:\"site-wrapper\"},[n(\"div\",{staticClass:\"flex-align w-100 p-3 \"},[n(\"img\",{staticStyle:{\"max-width\":\"120px\",\"max-height\":\"60px\"},attrs:{src:\"/all-images/logo.png\"}}),n(\"router-link\",{attrs:{to:t.edit?\"\":{name:\"home\"}}},[n(\"img\",{staticStyle:{width:\"20px\",opacity:\".5\"},attrs:{src:\"/all-images/close.png\"}})])],1),\"login\"==t.crnt_tab?n(\"div\",{staticClass:\"login-am\"},[n(\"div\",{staticClass:\"signin-2\",attrs:{id:\"signInBorder\"}},[t._m(0),n(\"form\",{ref:\"loginUser\",on:{submit:function(e){return e.preventDefault(),t.loginUser()}}},[n(\"div\",{staticClass:\"text-center scanner border-light\"},[n(\"qr-code\",{staticStyle:{padding:\"10px\",border:\"2px solid lightgray\",\"border-radius\":\"14px\"},attrs:{text:t.base_url+\"/sign-in?theme=m1&device_token=\"+t.device_token+\"&login=\"+t.login_code,size:\"400\",color:\"#1c1c1c\",\"bg-color\":\"#f7f9fa\",\"error-level\":\"L\"}}),n(\"h6\",{staticClass:\"mt-2 text-white\"},[t._v(\"Scan qr code and your account\")])],1),n(\"div\",{staticClass:\"mt-2\"},[n(\"button\",{staticClass:\"btn btn-light foucs-btn w-100\",staticStyle:{opacity:\".8\",\"font-weight\":\"600\",\"min-height\":\"40px\",color:\"#000\"},attrs:{type:\"button\"}},[t._v(t._s(t.login_code))])])])])]):t._e()])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"text-left mb-4\"},[n(\"h5\",{staticClass:\" login-head\"},[t._v(\" Login Account \")]),n(\"h6\",{staticClass:\"text-white\"},[t._v(\"Welcome back. Good to see you again!\")])])}],r=(n(\"4160\"),n(\"fb6a\"),n(\"d3b7\"),n(\"25f0\"),n(\"159b\"),{props:[\"edit\",\"blocks\",\"current_block\"],components:{},data:function(){return{start:!1,current_page:{},menu_click:!1,crnt_tab:\"login\",device_token:\"\",login_code:\"\",error_count:0}},mounted:function(){this.edit?this.start=!0:(this.edit=!1,this.blocks=[{},{},{}],this.getPage()),localStorage.getItem(\"device_token\")&&localStorage.getItem(\"device_token\").length>0&&(this.device_token=localStorage.getItem(\"device_token\")),\"\"==this.device_token&&(this.device_token=this.generateToken(),localStorage.setItem(\"device_token\",this.device_token)),this.setLoginCode()},methods:{generateToken:function(){var t=Math.random().toString(36).slice(2);return t},setLoginCode:function(){var t=this,e=new FormData;e.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"post\",headers:n,body:e}).then((function(t){return t.json()})).then((function(e){e.success?(t.login_code=e.code,t.checkLogin2()):t.showAlert(\"Something Wrong!\",\"red\")}))},checkLogin2:function(){var t=this,e=new FormData;e.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"put\",headers:n,body:e}).then((function(e){if(!(200!=e.status&&t.error_count<5))return e.json();var n=t;setTimeout((function(){n.error_count++,n.checkLogin2()}),2e3)})).then((function(e){if(e.success)if(t.error_count=0,e.is_logged){var n=e.user;n.access?(localStorage.setItem(\"userInfo\",JSON.stringify(n)),t.$root.token=n.access,\"\"==t.$root.token?localStorage.removeItem(\"userInfo\"):window.location.href=\"/\"):(t.showAlert(\"Something Wrong!\",\"red\"),localStorage.removeItem(\"userInfo\"))}else{var o=t;setTimeout((function(){o.checkLogin2()}),5e3)}else t.showAlert(\"Something Wrong!\",\"red\")})).catch((function(e){alert(e);var n=t;setTimeout((function(){n.checkLogin2()}),2e3)}))},getPage:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/content/pages_contents/?theme=\"+theme_name+\"&page=/sign-in\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.current_page=e,t.blocks=e.blocks,t.start=!0}))},selectContent:function(t){this.edit&&(this.blocks.forEach((function(t){t.is_edit=!1})),t.is_edit=!0,this.$emit(\"selectedContent\",t))}}}),s=r,a=(n(\"5916\"),n(\"80ad\"),n(\"2877\")),c=Object(a[\"a\"])(s,o,i,!1,null,\"19d3a2a8\",null);e[\"default\"]=c.exports},fb6a:function(t,e,n){\"use strict\";var o=n(\"23e7\"),i=n(\"861d\"),r=n(\"e8b5\"),s=n(\"23cb\"),a=n(\"50c4\"),c=n(\"fc6a\"),l=n(\"8418\"),d=n(\"b622\"),u=n(\"1dde\"),h=n(\"ae40\"),g=u(\"slice\"),f=h(\"slice\",{ACCESSORS:!0,0:0,1:2}),p=d(\"species\"),v=[].slice,m=Math.max;o({target:\"Array\",proto:!0,forced:!g||!f},{slice:function(t,e){var n,o,d,u=c(this),h=a(u.length),g=s(t,h),f=s(void 0===e?h:e,h);if(r(u)&&(n=u.constructor,\"function\"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(u,g,f);for(o=new(void 0===n?Array:n)(m(f-g,0)),d=0;g<f;g++,d++)g in u&&l(o,d,u[g]);return o.length=d,o}})}}]);","extractedComments":[]}