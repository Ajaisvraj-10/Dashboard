{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-63d61dda\"],{1148:function(t,e,a){\"use strict\";var s=a(\"a691\"),o=a(\"1d80\");t.exports=\"\".repeat||function(t){var e=String(o(this)),a=\"\",r=s(t);if(r<0||r==1/0)throw RangeError(\"Wrong number of repetitions\");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},\"408a\":function(t,e,a){var s=a(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=s(t))throw TypeError(\"Incorrect invocation\");return+t}},\"476e\":function(t,e,a){},\"4dbf\":function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},o=[],r=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:\"\",product_type_id:\"\"}},mounted:function(){this.product_id?this.getProduct():(this.product_id=\"\",this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=\"\"}}}),i=r,n=a(\"2877\"),c=Object(n[\"a\"])(i,s,o,!1,null,null,null);e[\"a\"]=c.exports},\"55ef\":function(t,e,a){\"use strict\";var s=a(\"476e\"),o=a.n(s);o.a},\"6a91\":function(t,e,a){\"use strict\";var s=a(\"7d66\"),o=a.n(s);o.a},\"7d66\":function(t,e,a){},a0fa:function(t,e,a){},b680:function(t,e,a){\"use strict\";var s=a(\"23e7\"),o=a(\"a691\"),r=a(\"408a\"),i=a(\"1148\"),n=a(\"d039\"),c=1..toFixed,d=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},p=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},l=c&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){c.call({})}));s({target:\"Number\",proto:!0,forced:l},{toFixed:function(t){var e,a,s,n,c=r(this),l=o(t),_=[0,0,0,0,0,0],m=\"\",h=\"0\",v=function(t,e){var a=-1,s=e;while(++a<6)s+=t*_[a],_[a]=s%1e7,s=d(s/1e7)},f=function(t){var e=6,a=0;while(--e>=0)a+=_[e],_[e]=d(a/t),a=a%t*1e7},b=function(){var t=6,e=\"\";while(--t>=0)if(\"\"!==e||0===t||0!==_[t]){var a=String(_[t]);e=\"\"===e?a:e+i.call(\"0\",7-a.length)+a}return e};if(l<0||l>20)throw RangeError(\"Incorrect fraction digits\");if(c!=c)return\"NaN\";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m=\"-\",c=-c),c>1e-21)if(e=p(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),s=l;while(s>=7)v(1e7,0),s-=7;v(u(10,s,1),0),s=e-1;while(s>=23)f(1<<23),s-=23;f(1<<s),v(1,1),f(2),h=b()}else v(0,a),v(1<<-e,0),h=b()+i.call(\"0\",l);return l>0?(n=h.length,h=m+(n<=l?\"0.\"+i.call(\"0\",l-n)+h:h.slice(0,n-l)+\".\"+h.slice(n-l))):h=m+h,h}})},cee7:function(t,e,a){\"use strict\";var s=a(\"a0fa\"),o=a.n(s);o.a},f6fd:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.production_process.main_process_name))]),t._v(\" / \"+t._s(t.production_process.name))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){return t.newProcess()}}},[t._v(\"New Process \")]),a(\"router-link\",{attrs:{to:\"/app/production/process/processing\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1)],1)],2),a(\"div\",{staticClass:\"my-2 border-top\"})]),a(\"div\",{staticClass:\"row main-scroll\",staticStyle:{\"overflow-y\":\"hidden\"}},[t._l(t.process_details,(function(e){return e.id!=t.default_packing_id?a(\"div\",{staticClass:\"col-md-3 p-1\",style:\"max-width:\"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[a(\"div\",{staticClass:\"card p-2 m-0 flex-row\"},[t._m(0,!0),a(\"div\",{staticClass:\"col-md-9 align-self-center\"},[a(\"b\",[t._v(t._s(e.name)+\" \")]),a(\"div\",[a(\"b-button\",{staticClass:\" px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"button\",variant:\"primary\"},on:{click:function(a){return t.newProcess(e)}}},[t._v(\"New\")]),a(\"b-button\",{staticClass:\"ml-1 px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"button\",variant:\"danger\"},on:{click:function(a){return t.breakDown(e)}}},[t._v(\"Break\")])],1)])]),a(\"div\",{staticClass:\"process_kanban\"},t._l(e.start_processes,(function(s){return s.main_process_detail.current_process_detail==s.process_detail?a(\"div\",{staticClass:\"card m-1 mb-0\"},[a(\"div\",{staticClass:\"card px-3 py-2 m-1 cursor-pointer\",on:{click:function(a){return t.startProcess(e,s)}}},[a(\"table\",[a(\"tr\",[a(\"th\",{staticClass:\"text-primary\"},[t._v(\"#\"+t._s(s.main_process)+\"/PROCESS\")]),a(\"th\",[t._v(\" LOT \"),t._l(s.process_products,(function(e){return a(\"span\",[t._v(\" \"+t._s(e.lot)+\", \")])}))],2)]),a(\"tr\",[a(\"th\",[t._v(\"PRODUCT\")]),t._l(s.process_products,(function(e){return a(\"th\",[t._v(\" \"+t._s(e.parameter_detail.name)+\", \")])}))],2),a(\"tr\",[a(\"th\",[t._v(\"DATE\")]),a(\"th\",[t._v(t._s(t.dateFormate(s.created_on)))])]),a(\"tr\",[a(\"th\",[t._v(\"STATUS\")]),a(\"th\",[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(s.status))])])])])]),t._l(s.processes,(function(o){return a(\"div\",{staticClass:\"card px-3 py-2 mx-1 mb-1 cursor-pointer\",on:{click:function(a){return t.startProcess(e,s,o.id)}}},[a(\"table\",[a(\"tr\",[a(\"th\",[t._v(\" #\"+t._s(o.supervisor_detail.name)+\" \")]),a(\"th\",[t._v(\" SHIFT: \"+t._s(o.shift)+\" \")]),a(\"th\",[t._v(t._s(t.dateFormate(o.created_on)))]),a(\"th\",[a(\"span\",{staticClass:\"badge py-0\",class:\"Completed\"==o.status?\"badge-success text-success\":\"badge-warning text-warning\"},[t._v(\"-\")])])])])])}))],2):t._e()})),0)])]):t._e()})),a(\"div\",{staticClass:\"col-md-3 p-1\",style:\"max-width:\"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[t._m(1),a(\"div\",{staticClass:\"process_kanban\"},t._l(t.packing.start_processes,(function(e){return e.main_process_detail.production_process==t.production_process.id?a(\"div\",{staticClass:\"card m-1 mb-0\"},[a(\"div\",{staticClass:\"card px-3 py-2 m-1 cursor-pointer\"},[a(\"table\",[a(\"tr\",[a(\"th\",{staticClass:\"text-primary\"},[t._v(\"#\"+t._s(e.main_process)+\"/PROCESS\")]),a(\"th\",[t._v(\" LOT \"),t._l(e.process_products,(function(e){return a(\"span\",[t._v(\" \"+t._s(e.lot)+\", \")])}))],2)]),a(\"tr\",[a(\"th\",[t._v(\"PRODUCT\")]),t._l(e.process_products,(function(e){return a(\"th\",[t._v(\" \"+t._s(e.parameter_detail.name)+\", \")])}))],2),a(\"tr\",[a(\"th\",[t._v(\"DATE\")]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))])]),a(\"tr\",[a(\"th\",[t._v(\"STATUS\")]),a(\"th\",[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(e.status))])])]),a(\"tr\",[a(\"th\",{staticClass:\"text-center\",attrs:{colspan:\"2\"}},[a(\"router-link\",{attrs:{to:\"/app/production/process/processing/view/\"+t.packing.id+\"/packing/\"+e.main_process}},[a(\"button\",{staticClass:\"btn btn-warning px-2 py-1 btn-sm mt-2 w-100\"},[t._v(\"Pack Now\")])])],1)])])]),t._l(e.processes,(function(s){return a(\"div\",{staticClass:\"card px-3 py-2 mx-1 mb-1 cursor-pointer\",on:{click:function(a){return t.startProcess(t.process_detail,e,s.id)}}},[a(\"table\",[a(\"tr\",[a(\"th\",[t._v(\" #\"+t._s(s.supervisor_detail.name)+\" \")]),a(\"th\",[t._v(\" SHIFT: \"+t._s(s.shift)+\" \")]),a(\"th\",[t._v(t._s(t.dateFormate(s.created_on)))]),t._m(2,!0)])])])}))],2):t._e()})),0)])])],2),a(\"div\",[a(\"b-modal\",{attrs:{id:\"list-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.production_process.name))]),t._v(\" /\"+t._s(t.current_process_detail.name))])]),t.list_process?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"list-process\")}}},[t._v(\"Close\")])],1):a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"success\"},on:{click:function(e){return t.createProcess()}}},[t._v(\"Start Process\")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){t.list_process=!0}}},[t._v(\"Back\")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[t.list_process?a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"mt-2\"},t._l(t.process_details,(function(e){return a(\"div\",{staticClass:\"card px-2 py-1 mx-0 mt-2\"},[a(\"table\",{},[a(\"tr\",[a(\"th\",[t._v(t._s(e.name))]),a(\"td\",{staticClass:\"text-right pr-2\"},[a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm  my-2 \",attrs:{type:\"button\"},on:{click:function(a){return t.selectProcessDetail(e)}}},[t._v(\"Start\")])])])])])})),0)],1):a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"b-card\",{staticClass:\"mt-2 pt-0\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",[t._v(\"WareHouse : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.warehouse_id,expression:\"warehouse_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"warehouse\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.warehouse_id=e.target.multiple?a:a[0]},function(e){return t.stockParameter()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select WareHouse\")]),t._l(t.warehouses,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"input\",{attrs:{type:\"hidden\",name:\"process_detail\"},domProps:{value:t.current_process_detail.id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"production_process\"},domProps:{value:t.production_process.id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"status\",value:\"Starting\"}}),a(\"table\",{staticClass:\"table mt-2 w-100\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Product\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Indent\")]),a(\"th\",[t._v(\"Available Qty\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Action\")])])]),a(\"tbody\",t._l(t.stock_parameters,(function(e,s){return a(\"tr\",[a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(e.lot)+\"/Lot \"),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"+e.id},domProps:{value:e.lot}})]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.indent,expression:\"stock_parameter.indent\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"indent\"+e.id,disabled:!e.is_added},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(e,\"indent\",a.target.multiple?s:s[0])}}},t._l(t.indents,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.indent_number))])})),0)]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.stock_quantity)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"stock_parameter.quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:e.stock_quantity,name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeProduct(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addProduct(e)}}},[t._v(\"Add\")])])])})),0)])])])],1)])],1)],1),a(\"b-modal\",{attrs:{id:\"start-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[t.load_processing_form?a(\"ProcessingForm\",{attrs:{process_detail_id:t.current_process_detail.id,start_process_id:t.start_process_id,processing_id:t.processing_id},on:{closePopup:t.closePopup}}):t._e()],1)]),a(\"b-modal\",{attrs:{id:\"break-down\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[t.load_break_form?a(\"BreakDownForm\",{attrs:{process_detail_id:t.current_process_detail.id,processing_id:t.processing_id},on:{closeBreakPopup:t.closeBreakPopup}}):t._e()],1)])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"card p-2 m-0 flex-row \"},[a(\"div\",{staticClass:\"col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})]),a(\"div\",{staticClass:\"col-md-9 align-self-center\"},[a(\"b\",[t._v(\"Packing \")]),a(\"div\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"th\",[a(\"span\",{staticClass:\"badge badge-warning text-warning py-0\"},[t._v(\"-\")])])}],r=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),a(\"4dbf\")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[t.is_start?a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.process_detail.name))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[\"input\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Start Process \")])],1):t._e(),\"details\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.form_data.status=\"Starting\",t.action=\"workers\"}}},[t._v(\"Next \")])],1):\"workers\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"details\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.form_data.status=\"Stop\",t.dataForm()}}},[t._v(\"Next \")])],1):\"output\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"workers\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Save \")])],1):\"complete\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"output\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Save \")])],1):t._e(),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.closePopup()}}},[t._v(\"Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"input\"==t.action,expression:\"action=='input'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{},[a(\"input\",{attrs:{type:\"hidden\",name:\"status\",value:\"Starting\"}}),a(\"table\",{staticClass:\"table mt-2 w-100\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Product\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Available Qty\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Action\")])])]),a(\"tbody\",t._l(t.stock_parameters,(function(e,s){return a(\"tr\",[a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(e.lot)+\"/Lot \"),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"+e.id},domProps:{value:e.lot}})]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.stock_quantity)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"stock_parameter.quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:e.stock_quantity,name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\",min:\"0\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeProduct(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addProduct(e)}}},[t._v(\"Add\")])])])})),0)])])])],1)]),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"details\"==t.action,expression:\"action=='details'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t._l(t.form_data.start_process_detail.process_products,(function(e,s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" \"+t._s(0==s?\"Product :\":\"\")+\" \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"Product\",type:\"text\",readonly:\"\"},domProps:{value:e.parameter_detail.name}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.lot,expression:\"process_product.lot\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"Lot\",type:\"number\",autocomplete:\"off\",name:\"lot\",min:\"0\",readonly:\"\"},domProps:{value:e.lot},on:{input:function(a){a.target.composing||t.$set(e,\"lot\",a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Qty\")]),a(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",max:e.quantity,name:\"quantity\",readonly:\"\"},domProps:{value:e.quantity}})])})),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Shift: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.shift,expression:\"form_data.shift\"}],staticClass:\"ui-autocomplete-input w-100 ml-1\",attrs:{name:\"shift\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"shift\",e.target.multiple?a:a[0])}}},t._l(t.shifts,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.date,expression:\"form_data.date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"date\",required:\"\"},domProps:{value:t.form_data.date},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"date\",e.target.value)}}})]),t.process_detail.is_machine?a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Machine Details \")])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Run Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machines: \")]),a(\"div\",{staticClass:\"ui-autocomplete-input w-100 ml-1\"},t._l(t.form_data.machines,(function(e){return a(\"span\",[a(\"span\",{staticClass:\"badge badge-success p-1 mr-1\"},[t._v(\" \"+t._s(e.name))]),e.note_stock?a(\"div\",{staticClass:\"pb-2\"},[a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{type:\"number\",name:\"'dryer_qty'+machine.id\",placeholder:\"Qty\",step:\"0.1\",min:\"0\"}})]):t._e()])})),0),a(\"select\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{name:\"machines\",multiple:\"\"}},t._l(t.form_data.machines,(function(e){return a(\"option\",{attrs:{selected:\"\"},domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)])]):t._e(),t.process_detail.is_thermic_fluid_furnace?a(\"div\",[a(\"label\",[t._v(\"THERMIC FLUID FURNACE DETAILS\")]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" TF RUN TIME: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})])]):t._e(),a(\"hr\",{staticClass:\"mt-2 mb-4\"}),t.process_detail.have_fire_wood?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Firewood consumption : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.firewood_consumption,expression:\"form_data.firewood_consumption\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Firewood consumption\",type:\"number\",autocomplete:\"off\",name:\"firewood_consumption\",min:\"0\"},domProps:{value:t.form_data.firewood_consumption},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"firewood_consumption\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Kg\")])])]):t._e(),t.process_detail.is_briquette_consumption?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Briquette consumption : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.briquette_consumption,expression:\"form_data.briquette_consumption\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Briquette consumption\",type:\"number\",autocomplete:\"off\",name:\"briquette_consumption\",min:\"0\"},domProps:{value:t.form_data.briquette_consumption},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"briquette_consumption\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Kg\")])])]):t._e(),t._l(t.process_detail.consumable_items_list,(function(e){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(e.name)+\" (\"+t._s(e.unit)+\") : \")]),a(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"'consumable_qty'+consumable_item.id\"}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(e.unit))])])}))],2)])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"workers\"==t.action,expression:\"action=='workers'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",[a(\"b-form-group\",{staticClass:\"work_type_option\"},[a(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"wages\",\"contract\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},model:{value:t.form_data.work_type,callback:function(e){t.$set(t.form_data,\"work_type\",e)},expression:\"form_data.work_type\"}})],1),a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Workers: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.workers,expression:\"form_data.workers\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"workers\",multiple:\"\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"workers\",e.target.multiple?a:a[0])},function(e){t.form_data.total_workers=t.form_data.workers.length}]}},t._l(t.workers,(function(e){return 5==e.job_position?a(\"option\",{domProps:{value:e.id}},[t._v(\" #\"+t._s(e.id)+\"/\"+t._s(e.name))]):t._e()})),0)]),\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.working_hourse,expression:\"form_data.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\",min:\"0\"},domProps:{value:t.form_data.working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hrs\")])]):a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:[function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)},function(e){t.form_data.labour_charge=400*t.form_data.total_workers/8}]}})]),\"contract\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Labour Charge : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.labour_charge,expression:\"form_data.labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"labour_charge\",min:\"0\"},domProps:{value:t.form_data.labour_charge},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"labour_charge\",e.target.value)}}})]):t._e(),\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"is_over_time\",switch:\"\"},model:{value:t.form_data.is_over_time,callback:function(e){t.$set(t.form_data,\"is_over_time\",e)},expression:\"form_data.is_over_time\"}},[a(\"b\",[t._v(t._s(t.form_data.is_over_time?\"Yes\":\"No\"))])])],1):t._e(),t.form_data.is_over_time&&\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total (overtime) : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_total_workers,expression:\"form_data.overtime_total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_total_workers\",min:\"0\"},domProps:{value:t.form_data.overtime_total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_working_hourse,expression:\"form_data.overtime_working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_working_hourse\",min:\"0\"},domProps:{value:t.form_data.overtime_working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hrs\")])]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"},domProps:{value:t.form_data.lot}}),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.other_lots,expression:\"form_data.other_lots\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{name:\"other_lots\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"other_lots\",e.target.multiple?a:a[0])}}},t._l(t.form_data.other_lots,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"})])])])],1)]),\"output\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row mt-2\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info mb-5\"},[t.process_detail.have_barrel?a(\"div\",[a(\"div\",{staticClass:\"row pb-2\"},[t._l(t.barrels,(function(e){return e.available_quantity!=e.max_quantity?a(\"div\",{staticClass:\"col-md-3\",on:{click:function(a){t.barrel_id=e.id}}},[a(\"div\",{staticClass:\"barrel_out\"},[a(\"div\",{staticClass:\"barrel_in\",style:\"height:\"+(100-100/e.max_quantity*e.quantity-100/e.max_quantity*e.available_quantity)+\"%\"},[a(\"div\",{staticClass:\"details text-center\"},[a(\"div\",[t._v(t._s(e.code))]),a(\"span\",[t._v(t._s(e.available_quantity)+\"/\"+t._s(e.max_quantity))]),a(\"div\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"600\"}},[t._v(t._s(e.quantity))])])]),a(\"div\",{staticClass:\"barrel_pepper\",style:\"height:\"+100/e.max_quantity*e.quantity+\"%\"})])]):t._e()})),t._l(t.barrels,(function(e){return a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.barrel_id==e.id,expression:\"barrel_id==barrel.id\"}],staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Barrel : \")]),a(\"select\",{staticClass:\"ui-autocomplete-input\",attrs:{name:\"barrel\"+e.id}},[a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.code)+\"/\"+t._s(e.name))])])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Quantity: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"barrel.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\"+e.id,min:\"0\",required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(e){return t.calculateQty()}]}}),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity (%)\",type:\"text\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,readonly:\"\"},domProps:{value:(100/e.max_quantity*e.quantity).toFixed(2)+\"%\"}})]),t._l(t.process_detail.consumable_items_list,(function(s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(s.name)+\" (\"+t._s(s.unit)+\") : \")]),a(\"input\",{attrs:{type:\"hidden\",name:\"consumable\"+e.id+\"item_id\"+s.id}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e[\"other\"+s.id],expression:\"barrel['other'+consumable_item.id]\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"'consumable'+barrel.id+'quantity'+consumable_item.id\",required:\"\"},domProps:{value:e[\"other\"+s.id]},on:{input:function(a){a.target.composing||t.$set(e,\"other\"+s.id,a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"%\")])])}))],2)}))],2)]):t._e(),a(\"table\",{staticClass:\"table\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Parameter\")]),a(\"th\",[t._v(\"Type\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Quantity (%)\")]),a(\"th\",[t._v(\"Indent\")])])]),a(\"tbody\",[t._l(t.form_data.process_outputs,(function(e){return t.process_detail.outputs.includes(e.id)?a(\"tr\",[a(\"td\",[t._v(\" \"+t._s(e.name)+\" \")]),a(\"td\",[\"product\"==e.parameter_type?a(\"span\",{staticClass:\"badge badge-info\"},[t._v(t._s(e.parameter_type))]):a(\"span\",{staticClass:\"badge badge-secondary\"},[t._v(t._s(e.parameter_type))]),a(\"input\",{attrs:{type:\"hidden\",name:\"parameter_type\"+e.id},domProps:{value:e.parameter_type}})]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:e.name,type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+e.id,min:\"0\",required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(a){return t.calculation(e)}]}})]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity_persentage,expression:\"parameter.quantity_persentage\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:e.name,type:\"text\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,min:\"0\",readonly:\"\"},domProps:{value:e.quantity_persentage},on:{input:function(a){a.target.composing||t.$set(e,\"quantity_persentage\",a.target.value)}}})]),a(\"td\")]):t._e()})),a(\"tr\",[a(\"th\",{staticClass:\"text-right\",attrs:{colspan:\"2\"}},[t._v(\"Total Output : \")]),a(\"td\",[t._v(t._s(t.total_output)+\"/\"+t._s(t.total_weight))]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_output)))])]),a(\"tr\",[a(\"th\",{staticClass:\"text-right\",attrs:{colspan:\"2\"}},[t._v(\"Loss : \")]),a(\"td\",[t._v(t._s(t.total_weight-t.total_output))]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_weight-t.total_output)))])])],2)])])])])])],1):t._e(),\"complete\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"div\",{staticStyle:{width:\"35%\"}},[t._v(\" Complete process? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"complete_process\",switch:\"\"},model:{value:t.form_data.complete_process,callback:function(e){t.$set(t.form_data,\"complete_process\",e)},expression:\"form_data.complete_process\"}},[a(\"b\",[t._v(t._s(t.form_data.complete_process?\"Yes\":\"No\"))])])],1),t.form_data.complete_process?a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"div\",{staticStyle:{width:\"52%\"}},[t._v(\" Next Process: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.next_process,expression:\"form_data.next_process\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"next_process\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"next_process\",e.target.multiple?a:a[0])}}},t._l(t.next_processes,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" #\"+t._s(e.sort_order)+\"/\"+t._s(e.name))])})),0)]):t._e()])])])],1):t._e()],1)],1):a(\"div\",{staticStyle:{height:\"84vh\"}},[t._m(0)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"loader_logo\"},[a(\"img\",{attrs:{src:\"/img/logo.png\",alt:\"logo\"}})]),a(\"div\",{staticClass:\"loading\"})])}],c=(a(\"b680\"),{props:[\"process_detail_id\",\"start_process_id\",\"processing_id\"],components:{ProductFields:r[\"a\"]},data:function(){return{form_data:{id:null,date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],work_type:\"wages\",is_over_time:!1,machines:[],start_process_detail:{process_products_list:[],main_process_detail:{}},other_lots:[],lot:null,process_outputs:[],barrel_detail:{},next_process:null},process_detail:{outputs:[],consumable_items_list:[],inputs:[]},barrel_id:null,id:null,product_name:\"\",action:\"details\",user_id:6,total_weight:0,total_output:0,workers:[],barrels:[],next_processes:[],stock_parameters:[],is_start:!1}},mounted:function(){this.form_data.date=this.currentDate(),this.processing_id?this.getProcess():this.getProcessDetails(),this.getEmployees()},methods:{getProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+this.processing_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e,t.action=\"output\",t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_detail_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_detail=e,t.form_data.machines=e.machines,t.action=\"details\",t.form_data.process_outputs.length>0?(t.action=\"complete\",t.nextProcesses()):t.getParameters(),e.have_barrel&&t.getBarrels(),t.getStartProcess()}))},getStartProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/start_process/\"+this.start_process_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.start_process_detail=e;var a=null;e.processes.forEach((function(t,e){a=t.id})),a!=t.processing_id&&\"complete\"==t.action&&(t.action=\"details\"),\"Completed\"==e.status&&(t.action=\"details\"),e.process_products.length<=0&&(t.action=\"input\",t.stockParameter());var s=[],o=null;e.process_products.forEach((function(t,e){0==e&&(o=t.lot),s.push(t.lot)})),t.total_weight=e.total_weight,t.form_data.lot=o,t.form_data.other_lots=s,t.is_start=!0}))},getBarrels:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/barrel/?product=\"+this.form_data.product,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,s){e[s][\"quantity\"]=0,e[s][\"quantity_persentage\"]=0,a.process_detail.consumable_items_list.forEach((function(t,a){e[s][\"other\"+t.id]=0}))})),t.barrels=e}))},getParameters:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?outputs=\"+this.process_detail.outputs+\"&start_process=\"+this.start_process_id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.process_outputs=e;var a=t;t.form_data.process_outputs.forEach((function(t,e){a.form_data.process_outputs[e].quantity=0,a.form_data.process_outputs[e].quantity_persentage=\"0%\"})),t.calculation()}))},calculateQty:function(){var t=this,e=0;this.barrels.forEach((function(t,a){e+=parseFloat(t.quantity)})),this.form_data.process_outputs.forEach((function(a,s){\"product\"==a.parameter_type&&(t.form_data.process_outputs[s].quantity=e)}))},calculation:function(t){var e=this,a=0,s=this.form_data.process_outputs;this.form_data.process_outputs=[],s.forEach((function(t,o){if(t.quantity){if(0!=e.total_weight){var r=t.quantity/e.total_weight*100;r=r.toFixed(2),s[o].quantity_persentage=r+\"%\"}\"product\"==t.parameter_type&&(a+=parseFloat(t.quantity))}else s[o].quantity_persentage=\"0%\"})),this.form_data.process_outputs=s,this.total_output=a},CalculatePersentage:function(t){if(t&&0!=this.total_weight){var e=t/this.total_weight*100;return e=e.toFixed(2),e+\"%\"}return\"0%\"},getEmployees:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/employees/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.workers=e}))},dataForm:function(){\"input\"==this.action&&this.createNextProcess(),\"workers\"==this.action?this.createProcess():\"output\"==this.action?this.createOutput():\"complete\"==this.action&&this.completeProcess()},createProcess:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",a=\"\";this.form_data.id&&(e=\"PUT\",a=this.form_data.id+\"/\");var s=new FormData(this.$refs[\"dataForm\"]);s.append(\"supervisor\",this.user_id),s.append(\"status\",this.form_data.status),s.append(\"start_process\",this.start_process_id);var o=new Headers;o.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+a,{method:e,body:s,headers:o}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.form_data.id=e.id,t.otherInputs()):t.showAlert(\"Something Wrong!\")}))},otherInputs:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/other_process_inputs/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.action=\"output\",t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},createOutput:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_outputs/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.action=\"complete\",t.nextProcesses(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},nextProcesses:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/?next_process_detail=\"+this.process_detail.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.next_processes=e,e.length<=0&&t.next_processes.push({id:t.default_packing_id,sort_order:\"\",name:\"Packing\"}),t.form_data.next_process=t.next_processes[0].id}))},completeProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/complete_process/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.showAlert(\"Saved Successfully!\"),t.closePopup()):t.showAlert(\"Something Wrong!\")}))},closePopup:function(){this.$emit(\"closePopup\",!0)},stockParameter:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameter_stock/?inputs=\"+this.process_detail.inputs+\"&warehouse=\"+this.form_data.start_process_detail.main_process_detail.warehouse,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.stock_parameters=e}))},addProduct:function(t){t.is_added=!0,t.quantity=t.stock_quantity},removeProduct:function(t){t.is_added=!1,t.quantity=\"\"},createNextProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"inputs\",this.process_detail.inputs),e.append(\"start_process\",this.start_process_id),e.append(\"supervisor\",this.user_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_products/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getProcessDetails(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))}}}),d=c,u=(a(\"6a91\"),a(\"2877\")),p=Object(u[\"a\"])(d,i,n,!1,null,null,null),l=p.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Break\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\",type:\"button\"},on:{click:function(e){return t.closeBreakPopup()}}},[t._v(\"Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{staticClass:\"my-2\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info mb-2 pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date : \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"date\",required:\"\"},domProps:{value:t.form_data.date}})])]),a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Type: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.break_type,expression:\"form_data.break_type\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"break_type\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"break_type\",e.target.multiple?a:a[0])}}},t._l(t.break_types,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),\"Break Down\"==t.form_data.break_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machine: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine,expression:\"form_data.machine\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"machine\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"machine\",e.target.multiple?a:a[0])}}},t._l(t.machines,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)]):t._e(),\"Break Down\"==t.form_data.break_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Motors: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine_mototrs,expression:\"form_data.machine_mototrs\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"machine_mototrs\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"machine_mototrs\",e.target.multiple?a:a[0])}}},t._l(t.machine_mototrs,(function(e){return e.machine==t.form_data.machine?a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))]):t._e()})),0)]):a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Time: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.break_time,expression:\"form_data.break_time\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"break_time\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"break_time\",e.target.multiple?a:a[0])}}},t._l(t.break_times,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Reason: \")]),a(\"textarea\",{staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"reason\",placeholder:\"Write here\",rows:\"4\"}},[t._v(t._s(t.form_data.reason))])])])])])],1)],1)],1)])},m=[],h={props:[\"process_detail_id\",\"processing_id\"],components:{},data:function(){return{form_data:{date:null,batch:null,process:null,break_type:\"Break Down\"},process:{id:null,date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],work_type:\"wages\",is_over_time:!1,machines:[],start_process_detail:{process_products_list:[],main_process_detail:{}},other_lots:[],lot:null,process_outputs:[],barrel_detail:{},next_process:null},process_detail:{outputs:[],consumable_items_list:[],inputs:[]},id:null,action:\"create\",user_id:6,machines:[],machine_mototrs:[],break_types:[\"Break Down\",\"Break Time\"],break_times:[\"Lunch Break\",\"Morning Break\"]}},mounted:function(){this.getProcess(),this.getMotors()},methods:{getProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+this.processing_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process=e,t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_detail_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_detail=e,t.machines=e.machines}))},getMachines:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machines/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.machines=e}))},getMotors:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machine_mototrs/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.machine_mototrs=e}))},dataForm:function(){\"create\"==this.action?this.createFormdata():this.updateFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process\",this.processing_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.closeBreakPopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process\",this.processing_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\"+this.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.closeBreakPopup(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))},closeBreakPopup:function(){this.$emit(\"closeBreakPopup\",!0)}}},v=h,f=(a(\"cee7\"),Object(u[\"a\"])(v,_,m,!1,null,null,null)),b=f.exports,y={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:r[\"a\"],ProcessingForm:l,BreakDownForm:b},data:function(){return{production_process:{id:null},process_details:[],current_process_detail:{id:null},list_process:!0,warehouse_id:\"\",stock_parameters:[],start_process_id:null,user_id:6,indents:[],packing:{},processing_id:null,load_processing_form:!1,load_break_form:!1,max_width:\"25%\",action:\"Details\"}},mounted:function(){this.$root.current_section=\"production\",this.production_process.id=this.$route.params.process_id,this.getProcess(),this.getIndents(),this.getWarehouses()},methods:{getProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/production_process/\"+this.production_process.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.production_process=e,t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/?production_process=\"+this.production_process.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_details=e,t.setColSize(),t.getPacking()}))},getPacking:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.default_packing_id+\"/?is_packing=true&production_process=\"+this.production_process.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.packing=e}))},setColSize:function(){var t=this.process_details.length;this.max_width=\"25%\",t>4&&(this.max_width=100/t+\"%\")},newProcess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.id?this.selectProcessDetail(t):this.current_process_detail={},this.$bvModal.show(\"list-process\")},selectProcessDetail:function(t){this.current_process_detail=t,this.list_process=!1,this.warehouse_id=this.warehouses[0].id,this.stockParameter()},getIndents:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.indents=e}))},stockParameter:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameter_stock/?inputs=\"+this.current_process_detail.inputs+\"&warehouse=\"+this.warehouse_id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.stock_parameters=e}))},addProduct:function(t){t.is_added=!0,t.quantity=t.stock_quantity},removeProduct:function(t){t.is_added=!1,t.quantity=\"\"},createProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"inputs\",this.current_process_detail.inputs),e.append(\"supervisor\",this.user_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/main_process/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getProcessDetails(),t.list_process=!0,t.$bvModal.hide(\"list-process\"),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},startProcess:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.current_process_detail=t,this.start_process_id=e.id,this.processing_id=a,this.load_processing_form=!0,this.$bvModal.show(\"start-process\")},closePopup:function(t){t&&(this.load_processing_form=!1,this.$bvModal.hide(\"start-process\"),this.getProcessDetails())},breakDown:function(t){this.current_process_detail=t;var e=null;t.start_processes.forEach((function(t){t.main_process_detail.current_process_detail==t.process_detail&&t.processes.forEach((function(t){e=t.id}))})),e?(this.processing_id=e,this.load_break_form=!0,this.$bvModal.show(\"break-down\")):this.showAlert(\"Please create a process!\")},closeBreakPopup:function(t){t&&(this.load_break_form=!1,this.$bvModal.hide(\"break-down\"))}}},g=y,w=(a(\"55ef\"),Object(u[\"a\"])(g,s,o,!1,null,null,null));e[\"default\"]=w.exports}}]);","extractedComments":[]}