{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1eb96816\"],{\"7f94\":function(t,e,a){\"use strict\";var s=a(\"b238\"),n=a.n(s);n.a},b238:function(t,e,a){},eda7:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content main-content2\"},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Farmers\")])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"router-link\",{attrs:{tag:\"a\",to:\"/app/fpo/farmer/create\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\"}},[t._v(\"+ Create \")])],1)],1)],2),a(\"div\",{staticClass:\"my-3 border-top\"})]),a(\"b-card\",{staticClass:\"main-scroll\"},[a(\"vue-good-table\",{attrs:{columns:t.columns,\"line-numbers\":!1,\"search-options\":{enabled:!0,placeholder:\"Search\"},\"pagination-options\":{enabled:!1,mode:\"records\",perPage:10},styleClass:\"tableOne vgt-table\",rows:t.rows.results},scopedSlots:t._u([{key:\"table-row\",fn:function(e){return[\"id\"==e.column.field?a(\"span\",[a(\"router-link\",{attrs:{to:\"/app/fpo/farmer/view/\"+e.row.id}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\"}},[t._v(\"View\")])],1)],1):\"phone\"==e.column.field?a(\"span\",[t._v(\" \"+t._s(e.row.phone)+\" \")]):\"farmer_code\"==e.column.field?a(\"span\",{staticClass:\"badge badge-success\"},[t._v(\" \"+t._s(e.row.farmer_code)+\" \")]):t._e()]}}])},[a(\"div\",{staticClass:\"text-center\",attrs:{slot:\"emptystate\"},slot:\"emptystate\"},[t.load_first?a(\"div\",{staticClass:\"table_loading\"}):a(\"div\",[t._v(\"No records found\")])])]),t.rows.count>0?a(\"TablePagination\",{attrs:{page:t.page,rows:t.rows},on:{changePage:t.changePage}}):t._e()],1)],1)},n=[],o=(a(\"d3b7\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"vgt-wrap__footer vgt-clearfix\",attrs:{bis_skin_checked:\"1\"}},[a(\"div\",{staticClass:\"footer__row-count vgt-pull-left\",attrs:{bis_skin_checked:\"1\"}},[a(\"span\",{staticClass:\"footer__row-count__label\"},[t._v(\"Jump to page\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.page,expression:\"page\"}],staticStyle:{width:\"50px\",\"text-align\":\"center\",\"margin-left\":\"5px\",border:\"0\",\"border-bottom\":\"1px solid #909399\"},attrs:{type:\"number\",min:\"1\",max:t.max_page,autocomplete:\"off\",name:\"perPageSelect\"},domProps:{value:t.page},on:{change:function(e){t.changePage(parseInt(t.page))},input:function(e){e.target.composing||(t.page=e.target.value)}}})]),a(\"div\",{staticClass:\"footer__navigation vgt-pull-right\",attrs:{bis_skin_checked:\"1\"}},[a(\"a\",{staticClass:\"footer__navigation__page-btn\",class:t.rows.previous?\"\":\"disabled\",attrs:{href:\"javascript:undefined\",tabindex:\"0\"},on:{click:function(e){return t.changePage(t.page-1)}}},[a(\"span\",{staticClass:\"chevron left\"}),a(\"span\",[t._v(\"Prev\")])]),a(\"div\",{staticClass:\"footer__navigation__info\",attrs:{bis_skin_checked:\"1\"}},[t._v(t._s(t.page)+\" - \"+t._s(t.rows.results.length)+\" of \"+t._s(t.rows.count))]),a(\"a\",{staticClass:\"footer__navigation__page-btn\",class:t.rows.next||t.max_page>=t.page?\"\":\"disabled\",attrs:{href:\"javascript:undefined\",tabindex:\"0\"},on:{click:function(e){return t.changePage(t.page+1)}}},[a(\"span\",[t._v(\"Next\")]),t._v(\" \"),a(\"span\",{staticClass:\"chevron right\"})])])])}),r=[],i={props:[\"page\",\"rows\"],data:function(){return{max_page:1,results:20}},mounted:function(){this.max_page=parseInt(this.rows.count/this.results),this.rows.count%this.results!=0&&this.max_page++},methods:{changePage:function(t){this.page=t,this.$emit(\"changePage\",this.page)}}},l=i,c=a(\"2877\"),p=Object(c[\"a\"])(l,o,r,!1,null,null,null),u=p.exports,d={metaInfo:{title:\"Farmers\"},components:{TablePagination:u},data:function(){return{columns:[{label:\"Name\",field:\"name\"},{label:\"Farmer Code\",field:\"farmer_code\"},{label:\"Phone\",field:\"phone\"},{label:\"Country\",field:\"country\"},{label:\"Action\",field:\"id\"}],rows:{results:[],count:0},page:0,load_first:!1}},mounted:function(){this.$root.current_section=\"fpo\",this.changePage(1)},methods:{changePage:function(t){this.page=t,this.getFarmers()},getFarmers:function(){var t=this;if(this.load_first)return!1;this.load_first=!0;var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/farmers/?page=\"+this.page,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){\"Invalid page.\"==e.detail?t.rows={results:[],count:0}:(t.load_first=!1,t.rows=e)}))},onPageChange:function(t){console.log(t)}}},g=d,f=(a(\"7f94\"),Object(c[\"a\"])(g,s,n,!1,null,null,null));e[\"default\"]=f.exports}}]);","extractedComments":[]}