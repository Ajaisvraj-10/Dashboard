{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-818813b2\"],{\"64e0\":function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content main-content2 task-sec task-tag\"},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[t._m(0)]),e(\"div\",{staticStyle:{\"margin-top\":\"-10px\"}},[e(\"b-card\",{attrs:{\"body-class\":\"p-0\"}},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",{staticClass:\"d-flex justify-content-between align-items-center\"},[e(\"b\",{staticClass:\"pl-2 d-flex align-items-center cursor-pointer w-100\",on:{click:function(a){return t.$refs.tag_input.focus()}}},[e(\"i\",{staticClass:\"fa fa-tags mx-1 text-primary\",staticStyle:{\"font-size\":\"18px\"}}),e(\"div\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_tag.name,expression:\"current_tag.name\"}],ref:\"tag_input\",staticClass:\"style-input \",attrs:{name:\"name\",placeholder:\"Add a tag\",required:\"\"},domProps:{value:t.current_tag.name},on:{input:function(a){a.target.composing||t.$set(t.current_tag,\"name\",a.target.value)}}})]),e(\"div\",{staticClass:\"d-flex align-items-center border-left pl-3\"},[e(\"input\",{staticClass:\"color-style1 style-input-color\",attrs:{name:\"color\",type:\"color\",value:\"#43da86\"}}),e(\"label\",{staticClass:\"mb-0 text-info pl-2\"},[t._v(\"Pick a Color\")])])]),e(\"div\",{staticClass:\"todo-add px-3 py-2\"},[e(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])])],1)],2),e(\"div\",{staticClass:\"separator-breadcrumb border-top\"})]),e(\"b-row\",{staticStyle:{\"margin-top\":\"-20px\"}},[e(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[e(\"div\",{staticClass:\"mb-2\"},[e(\"div\",{staticClass:\"my-2 row\"},t._l(t.tags,(function(a){return e(\"div\",{staticClass:\"col-md-2 pr-0\"},[e(\"div\",{staticClass:\"card p-2\"},[e(\"div\",{staticClass:\"d-flex mt-1\"},[e(\"button\",{staticClass:\"btn btn-tag w-100\",staticStyle:{padding:\"5px!important\"},style:\"background-color:\"+a.color+\"!important;color:\"+t.bgToTextColor(a.color)},[t._v(\" \"+t._s(a.name)+\" \")]),e(\"i\",{staticClass:\"fa fa-trash-o cursor-pointer ml-1\",staticStyle:{\"font-size\":\"16px\"},on:{click:function(e){return t.deleteTag(a)}}})]),e(\"hr\",{staticClass:\"my-2\"}),e(\"div\",{staticClass:\"sub_tags mx-2\"},t._l(a.sub_tags,(function(a){return e(\"div\",{staticClass:\"d-flex\"},[e(\"button\",{staticClass:\"btn btn-tag mb-1 w-100\",style:\"background-color:\"+a.color+\"!important;color:\"+t.bgToTextColor(a.color)},[t._v(\" \"+t._s(a.name)+\" \")]),e(\"i\",{staticClass:\"fa fa-trash-o cursor-pointer ml-1\",staticStyle:{\"font-size\":\"16px\"},on:{click:function(e){return t.deleteTag(a)}}})])})),0),e(\"hr\",{staticClass:\"my-1\"}),e(\"form\",{staticClass:\"card p-2\",attrs:{id:\"dataForm\"+a.id},on:{submit:function(e){return e.preventDefault(),t.dataForm(a)}}},[e(\"div\",{staticClass:\"d-flex \"},[e(\"i\",{staticClass:\"fa fa-tags ml-1 text-primary\",staticStyle:{\"padding-top\":\"6px\"}}),e(\"input\",{staticClass:\"w-100 border-0\",attrs:{name:\"name\",placeholder:\"Add sub tag\",required:\"\"}}),e(\"input\",{staticClass:\"color-style1 p-0\",staticStyle:{appearance:\"none\",\"background-color\":\"transparent\",border:\"none\"},attrs:{name:\"color\",type:\"color\",value:\"#43da86\"}}),e(\"button\",{staticClass:\"btn btn-tag w-50 m-1\",staticStyle:{\"background-color\":\"#303e70!important\",color:\"#fff\"},attrs:{type:\"submit\"}},[t._v(\" Add \")])])])])])})),0)])])],1)],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Task \"),e(\"span\",{staticClass:\"text-success\"},[t._v(\"/Tags\")])])])}],o=(e(\"d3b7\"),{metaInfo:{},data:function(){return{tags:[],current_tag:{}}},mounted:function(){this.$root.current_section=\"task\",this.getTags()},methods:{getTags:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/?main_tag=true\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.tags=a}))},dataForm:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null},e=new FormData(this.$refs[\"dataForm\"]);a.id&&(e=new FormData(document.getElementById(\"dataForm\"+a.id)),e.append(\"main_tag\",a.id)),e.append(\"status\",1);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\",{method:\"POST\",body:e,headers:s}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.getTags(),t.showAlert(\"Added Successfully!\")):t.showAlert(\"Something Wrong!\")}))},deleteTag:function(t){var a=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return this.$swal({title:\"Delete Tag\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(e){e.value&&a.deleteTag(t,!1)})),!1;var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\"+t.id+\"/\",{method:\"DELETE\",headers:s}).then((function(t){a.showAlert(\"Removed!\",\"red\"),a.getTags()}))}}}),r=o,i=(e(\"eecd4\"),e(\"2877\")),c=Object(i[\"a\"])(r,s,n,!1,null,null,null);a[\"default\"]=c.exports},a6d5:function(t,a,e){},eecd4:function(t,a,e){\"use strict\";var s=e(\"a6d5\"),n=e.n(s);n.a}}]);","extractedComments":[]}