{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4fcf54f5\"],{1148:function(t,s,e){\"use strict\";var a=e(\"a691\"),i=e(\"1d80\");t.exports=\"\".repeat||function(t){var s=String(i(this)),e=\"\",r=a(t);if(r<0||r==1/0)throw RangeError(\"Wrong number of repetitions\");for(;r>0;(r>>>=1)&&(s+=s))1&r&&(e+=s);return e}},\"19ad\":function(t,s,e){},\"38cf\":function(t,s,e){var a=e(\"23e7\"),i=e(\"1148\");a({target:\"String\",proto:!0},{repeat:i})},\"5c6e\":function(t,s,e){\"use strict\";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"main-content main-content2 task-sec \"},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[t._m(0)]),e(\"div\",{staticClass:\"d-flex\"},t._l(t.task_categories,(function(s){return e(\"h5\",{staticClass:\"mb-0 mx-1 font-weight-600 cursor-pointer tab-breadcamp\",class:t.current_task_category==s?\"tab-breadcamp-active task-blue\":\"tab-breadcamp\",on:{click:function(e){return t.selectTaskCat(s)}}},[t._v(t._s(t.slugToWord(s)))])})),0),e(\"div\",{staticClass:\"text-right cursor-pointer\",staticStyle:{width:\"50px\"}},[e(\"img\",{attrs:{src:\"/img/refresh.png\",width:\"24\"},on:{click:function(s){return t.reloadTasks()}}})])],2),e(\"div\",{staticClass:\"separator-breadcrumb border-top\"})]),e(\"div\",{staticClass:\"ul-todo-list-content\",staticStyle:{\"margin-top\":\"-20px\"}},[e(\"div\",{staticClass:\"todo-left p-1\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[e(\"div\",{staticClass:\"mb-2\"},[\"my_tasks\"==t.current_task_category?e(\"b-card\",{staticClass:\"h-100\",attrs:{\"body-class\":\"p-0\"},on:{click:function(s){t.current_task={},t.is_new_task=!0}}},[e(\"form\",{ref:\"newForm\",on:{submit:function(s){return s.preventDefault(),t.createFormdata()}}},[e(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-input1\",modifiers:{\"collapse-input1\":!0}}],staticClass:\"d-flex justify-content-between border-bottom\"},[e(\"b\",{staticClass:\" p-3 d-flex align-items-center cursor-pointer w-100\",on:{click:function(s){return t.$refs.main_task.focus()}}},[e(\"img\",{staticClass:\"mr-2\",attrs:{src:\"/img/plus.png\",width:\"20\"}}),e(\"div\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.task,expression:\"new_task.task\"}],ref:\"main_task\",staticClass:\"style-input \",attrs:{name:\"task\",placeholder:\"Add a task\"},domProps:{value:t.new_task.task},on:{input:function(s){s.target.composing||t.$set(t.new_task,\"task\",s.target.value)}}})])])]),e(\"b-collapse\",{attrs:{id:\"collapse-input1\"}},[e(\"div\",{staticClass:\"todo-collapse-container\"},[e(\"div\",{staticClass:\"todo-collapse px-3 py-2\"},[e(\"div\",{staticClass:\"todo-icons\"},[e(\"div\",{attrs:{id:\"app1\"}},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"i\",{staticClass:\"fa fa-calendar-o\"}),t._v(\"Due Date \"),e(\"span\",{staticClass:\"task-blue\"},[t._v(\"- \"+t._s(t.dateFormate(t.new_task.due_date)))])]},proxy:!0}],null,!1,808429132)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",{on:{click:function(s){t.new_task.due_date=t.getDateIs(\"Today\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.new_task.due_date=t.getDateIs(\"Tomorrow\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.new_task.due_date=t.getDateIs(\"Next Week\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),e(\"b-dropdown-divider\"),e(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[e(\"h6\",[t._v(\"Pick a date\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.due_date,expression:\"new_task.due_date\"}],attrs:{type:\"date\",name:t.new_task.due_date?\"due_date\":\"\"},domProps:{value:t.new_task.due_date},on:{input:function(s){s.target.composing||t.$set(t.new_task,\"due_date\",s.target.value)}}})]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.new_task.due_date=\"\"}}},[t._v(\"Remove Due date\")])])],1)],1)]),e(\"div\",{staticClass:\"todo-icons\"},[e(\"div\",{attrs:{id:\"app8\"}},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"),e(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(\"Normal\"!=t.new_task.priority?t.new_task.priority:\"\"))])]},proxy:!0}],null,!1,1009308834)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),e(\"b-dropdown-divider\"),t._l(t.priorities,(function(s){return e(\"b-dropdown-item\",{attrs:{active:t.new_task.priority==s},on:{click:function(e){t.new_task.priority=s}}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(s))])])})),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.new_task.priority=\"\"}}},[t._v(\" Remove Priority \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_task.priority,expression:\"new_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.new_task.priority},on:{input:function(s){s.target.composing||t.$set(t.new_task,\"priority\",s.target.value)}}})])])],2)],1)])]),e(\"div\",{staticClass:\"todo-add px-3 py-2\"},[e(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])],1)]):t._e()],1),e(\"div\",{staticClass:\"mb-2\"},[t._l(t.tasks,(function(s){return e(\"b-card\",{staticClass:\"h-100 mb-2\",attrs:{\"body-class\":\"p-0\"}},[e(\"div\",{on:{click:function(e){t.current_main_task=s}}},[e(\"div\",{staticClass:\"d-flex justify-content-between task-card border-bottom\",class:s.id==t.current_task.id?\"active-task\":\"\",style:\"Completed\"==s.status?\"background-color:72f54280\":\"\",on:{click:function(e){return t.selectTask(s)}}},[e(\"b\",{staticClass:\" p-3 d-flex align-items-center cursor-pointer w-100\",staticStyle:{gap:\"10px\"}},[e(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:\"sub_task_main_list\"+s.id,expression:\"'sub_task_main_list'+task.id\"}],staticClass:\"w-100\",on:{click:function(e){return t.addSubTask(s)}}},[e(\"h6\",{staticClass:\"text-14 font-weight-700 mb-0\",class:\"Completed\"==s.status&&s.is_completed?\"finish-task\":\"\"},[t._v(t._s(s.task))]),e(\"div\",{staticClass:\"task-filters pt-1\"},[e(\"p\",{staticClass:\"text-12 text-darklight\"},t._l(s.assign_users,(function(a,i){return s.user==t.userId?e(\"span\",{staticClass:\"badge badge-light\"},[t._v(\" @\"+t._s(a.username)+\" \")]):e(\"span\",{staticClass:\"badge badge-light\"},[t._v(\"Assigned by @\"+t._s(s.username))])})),0),e(\"p\",{staticClass:\"text-12  badge badge-outline-info\"},[e(\"i\",{staticClass:\"fa fa-calendar-o pr-1\"}),s.due_date?e(\"span\",[t._v(\"Due Date - \"+t._s(t.dateFormate(s.due_date)))]):t._e()]),\"Normal\"!=s.priority?e(\"p\",{staticClass:\"text-12  badge\",class:\"Urgent\"==s.priority?\"badge-danger\":\"Medium\"==s.priority?\"badge-success\":\"Normal\"==s.priority?\"badge-primary\":\"badge-light\"},[e(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"+t._s(\"Normal\"!=s.priority?s.priority:\"\"))]):t._e(),s.tag.id&&!s.is_completed?e(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},[e(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+s.tag.color+\"!important;color:\"+t.bgToTextColor(s.tag.color)},[e(\"i\",{staticClass:\"fa fa-tags pr-1\"}),t._v(t._s(s.tag.name)+\" \")])]):t._e()])]),e(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:\"sub_task_main_list\"+s.id,expression:\"'sub_task_main_list'+task.id\"}],staticClass:\"pt-2\"},[e(\"div\",{staticClass:\"bg-light p-0\",staticStyle:{position:\"relative\",width:\"150px\",\"border-radius\":\"5px\",\"box-shadow\":\"rgb(0 0 0 / 14%) -1px 7px 9px -5px\"}},[e(\"div\",{staticClass:\"badge-success p-0\",staticStyle:{\"border-radius\":\"5px 3px 3px 5px\"},style:\"width:\"+s.task_completion+\"%\"},[e(\"small\",{staticClass:\"px-1\",staticStyle:{\"white-space\":\"nowrap\"}},[t._v(\"Completed \"+t._s(parseInt(s.task_completion))+\"%\")])])])]),e(\"div\",{staticClass:\"pr-2\",staticStyle:{width:\"18%\"}},[e(\"div\",{staticClass:\"text-right\"},[e(\"i\",{staticClass:\"fa fa-bell\",class:s.notifications.sub_tasks>0&&s.notifications.notify>0?\"msg_shake\":\"\",staticStyle:{\"font-size\":\"16px\",color:\"#434e75\"},on:{click:function(e){return t.removeNotifications(s,\"new_sab_task\")}}}),e(\"sup\",[s.notifications.sub_tasks>0&&s.notifications.notify>0?e(\"span\",{staticClass:\"text-warning\"},[t._v(t._s(s.notifications.sub_tasks?s.notifications.sub_tasks:s.notifications.notify))]):t._e()]),e(\"span\",{staticClass:\"mx-1 pl-1\"}),e(\"i\",{staticClass:\"fa fa-comments\",class:s.notifications.activities>0?\"msg_shake\":\"\",staticStyle:{\"font-size\":\"18px\",color:\"#434e75\"},on:{click:function(e){return t.getActivities(s)}}}),e(\"sup\",[s.notifications.activities>0?e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(s.notifications.activities))]):t._e()])]),e(\"div\",{staticClass:\"text-right\"},[e(\"small\",[t._v(t._s(t.timeAgo(s.created_on)))])])])])]),e(\"div\",{staticClass:\"px-2\"},[e(\"b-collapse\",{attrs:{id:\"sub_task_main_list\"+s.id}},[e(\"div\",{staticClass:\"todo-collapse-container py-2\",staticStyle:{\"flex-direction\":\"column\",\"align-items\":\"start\",gap:\"4px\"}},[s.sub_tasks<=0&&s.sub_tasks_count>0?e(\"div\",{staticClass:\"w-100 text-center p-3\"},[e(\"div\",{staticClass:\"table_loading\"})]):t._e(),t._l(s.sub_tasks,(function(s){return s.user==t.userId||s.assign_task.includes(t.userId)?e(\"div\",{staticClass:\"task-card todo-collapse2 d-flex align-items-center px-4 w-100 py-2\",class:s.id==t.current_task.id?\"active-task\":\"\",style:\"Completed\"==s.status?\"background-color:#72f54240!important\":\"\",on:{click:function(e){return t.selectTask(s)}}},[e(\"div\",{},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.status,expression:\"sub_task.status\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"hidden\",name:\"status\"},domProps:{value:s.status},on:{input:function(e){e.target.composing||t.$set(s,\"status\",e.target.value)}}})]),e(\"div\",{staticClass:\"w-100 cursor-pointer sub-task ml-3\"},[e(\"h6\",{staticClass:\"text-14 font-weight-500 mb-0\",class:\"Completed\"==s.status&&s.is_completed?\"finish-task\":\"\"},[t._v(t._s(s.task))]),e(\"div\",{staticClass:\"task-filters pt-1\"},[e(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},t._l(s.assign_users,(function(a,i){return e(\"span\",{staticClass:\"badge badge-light text-10\",staticStyle:{\"margin-left\":\"1px\"}},[a.id!=t.userId?e(\"span\",[t._v(\"@\"+t._s(a.username))]):e(\"span\",[t._v(\"Assigned by @\"+t._s(s.username))])])})),0),e(\"p\",{staticClass:\"text-10 mb-0 badge badge-outline-info\"},[e(\"i\",{staticClass:\"fa fa-calendar-o pr-1\"}),s.due_date?e(\"span\",[t._v(\"Due Date - \"+t._s(t.dateFormate(s.due_date)))]):t._e()]),\"Normal\"!=s.priority?e(\"p\",{staticClass:\"text-10 mb-0 badge\",class:\"Urgent\"==s.priority?\"badge-danger\":\"Medium\"==s.priority?\"badge-success\":\"Normal\"==s.priority?\"badge-primary\":\"badge-light\"},[e(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"+t._s(\"Normal\"!=s.priority?s.priority:\"\"))]):t._e(),s.tag.id&&!s.is_completed?e(\"p\",{staticClass:\"text-10 mb-0 text-darklight\"},[e(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+s.tag.color+\"!important;color:\"+t.bgToTextColor(s.tag.color)},[e(\"i\",{staticClass:\"fa fa-tags\"}),t._v(t._s(s.tag.name)+\" \")])]):t._e()])]),e(\"div\",{staticClass:\"pr-3\",staticStyle:{width:\"18%\"}},[e(\"div\",{staticClass:\"text-right cursor-pointer\"},[e(\"i\",{staticClass:\"fa fa-bell\",class:s.notifications.notify>0?\"msg_shake\":\"\",staticStyle:{\"font-size\":\"16px\",color:\"#434e75\"},on:{click:function(e){return t.removeNotifications(s,\"new_sab_task\")}}}),e(\"sup\",[s.notifications.notify>0?e(\"span\",{staticClass:\"text-warning\"},[t._v(t._s(s.notifications.notify))]):t._e()]),e(\"span\",{staticClass:\"mx-1 pl-1\"}),e(\"i\",{staticClass:\"fa fa-comments\",class:s.notifications.activities>0?\"msg_shake\":\"\",staticStyle:{\"font-size\":\"18px\",color:\"#434e75\"},on:{click:function(e){return t.getActivities(s)}}}),e(\"sup\",[s.notifications.activities>0?e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(s.notifications.activities))]):t._e()])]),e(\"div\",{staticClass:\"text-right\"},[e(\"small\",[t._v(t._s(t.timeAgo(s.created_on)))])])])]):t._e()})),\"completed_tasks\"!=t.current_task_category?e(\"form\",{staticClass:\"w-100\",attrs:{id:\"newSubForm\"+s.id},on:{submit:function(e){return e.preventDefault(),t.createFormdata(s)}}},[e(\"div\",{staticClass:\"task-card todo-collapse2 d-flex align-items-center px-4 py-2\",on:{click:function(s){t.current_task={},t.is_new_task=!0}}},[e(\"img\",{staticClass:\"mr-2\",attrs:{src:\"/img/plus.png\",width:\"17\"},on:{click:function(e){return t.focusInput(\"add_sub_task\"+s.id)}}}),e(\"h6\",{staticClass:\"font-weight-500 mb-0 w-100 pl-2\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.task,expression:\"new_sub_task.task\"}],staticClass:\"style-input text-12 bg-transparent w-100\",attrs:{name:\"task\",id:\"add_sub_task\"+s.id,placeholder:\"Add sub task\"},domProps:{value:t.new_sub_task.task},on:{input:function(s){s.target.composing||t.$set(t.new_sub_task,\"task\",s.target.value)}}})]),e(\"div\",{staticClass:\"todo-collapse-container bg-transparent p-1\",staticStyle:{\"justify-content\":\"flex-end\",gap:\"15px\"}},[e(\"div\",{staticClass:\"todo-collapse\"},[e(\"div\",{staticClass:\"todo-icons\"},[e(\"div\",[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"i\",{staticClass:\"fa fa-calendar-o\"}),t._v(\" \"),e(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(t.dateFormate(t.new_sub_task.due_date)))])]},proxy:!0}],null,!0)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",{on:{click:function(s){t.new_sub_task.due_date=t.getDateIs(\"Today\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.new_sub_task.due_date=t.getDateIs(\"Tomorrow\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.new_sub_task.due_date=t.getDateIs(\"Next Week\",\"click\")}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),e(\"b-dropdown-divider\"),e(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[e(\"h6\",[t._v(\"Pick a date\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.due_date,expression:\"new_sub_task.due_date\"}],attrs:{type:\"date\",name:t.new_sub_task.due_date?\"due_date\":\"\"},domProps:{value:t.new_sub_task.due_date},on:{input:function(s){s.target.composing||t.$set(t.new_sub_task,\"due_date\",s.target.value)}}})]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.new_sub_task.due_date=\"\"}}},[t._v(\"Remove Due date\")])])],1)],1)]),e(\"div\",{staticClass:\"todo-icons\"},[e(\"div\",[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"i\",{staticClass:\"fa fa-level-up\"}),t._v(\" \"),e(\"span\",{staticClass:\"task-blue\"},[t._v(t._s(\"Normal\"!=t.new_sub_task.priority?t.new_sub_task.priority:\"\"))])]},proxy:!0}],null,!0)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),e(\"b-dropdown-divider\"),t._l(t.priorities,(function(s){return e(\"b-dropdown-item\",{attrs:{active:t.new_sub_task.priority==s},on:{click:function(e){t.new_sub_task.priority=s}}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(s))])])})),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.new_sub_task.priority=\"Normal\"}}},[t._v(\" Remove Priority \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_sub_task.priority,expression:\"new_sub_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.new_sub_task.priority},on:{input:function(s){s.target.composing||t.$set(t.new_sub_task,\"priority\",s.target.value)}}})])])],2)],1)])]),e(\"div\",{staticClass:\"todo-add\"},[e(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])]):t._e()],2)])],1)])])})),t.tasks.length<=0&&t.is_start?e(\"div\",{staticClass:\"text-center \"},[e(\"p\",{staticClass:\"py-5\"},[t._v(\"No tasks found!\")])]):t._e(),t.tasks.length<=0&&!t.is_start?e(\"div\",{staticClass:\"text-center \"},[e(\"p\",{staticClass:\"p-3\"}),e(\"div\",{staticClass:\"table_loading\"}),e(\"p\")]):t._e()],2)]),e(\"div\",{staticClass:\"todo-sidebar p-1\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[e(\"b-card\",{attrs:{\"body-class\":\"preview-card p-0\"}},[t.current_task.id?e(\"form\",{ref:\"dataForm\",on:{submit:function(s){return s.preventDefault(),t.updateFormdata()}}},[e(\"div\",{staticClass:\"d-flex justify-content-between align-items-center px-3 pt-3 pb-1\",staticStyle:{gap:\"10px\"}},[e(\"b\",{staticClass:\"d-flex align-items-center cursor-pointer w-100\"},[e(\"div\",{staticClass:\"w-100\"},[e(\"h6\",{staticClass:\"text-14 font-weight-600 mb-0\",class:\"Completed\"==t.current_task.status&&t.current_task.is_completed?\"finish-task\":\"\"},[t._v(t._s(t.current_task.task))]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.task,expression:\"current_task.task\"}],attrs:{type:\"hidden\",name:\"task\"},domProps:{value:t.current_task.task},on:{input:function(s){s.target.composing||t.$set(t.current_task,\"task\",s.target.value)}}})]),t.current_task.user==t.userId&&t.current_task.assign_task.includes(t.userId)?e(\"div\",{staticClass:\" text-right\"},[\"Completed\"==t.current_task.status&&t.current_task.is_completed?e(\"button\",{staticClass:\"btn btn-info\",staticStyle:{\"background-color\":\"darkblue!important\",color:\"white\",padding:\"3px 8px!important\"},attrs:{type:\"button\"}},[t._v(t._s(t.current_task.status))]):\"Completed\"!=t.current_task.status||t.current_task.is_completed?e(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(s){return t.completeTask(t.current_task)}}},[e(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Complete Task\")]):e(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(s){return t.finishTask()}}},[e(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Mark as Complete\")])]):t.current_task.user==t.userId?e(\"div\",{staticClass:\" text-right\"},[\"Completed\"!=t.current_task.status||t.current_task.is_completed?e(\"button\",{staticClass:\"btn btn-info\",staticStyle:{color:\"white\",padding:\"3px 8px!important\"},style:t.current_task.is_completed?\"background-color:green!important\":\"background-color:orange!important\",attrs:{type:\"button\"}},[t._v(t._s(t.current_task.status))]):e(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(s){return t.finishTask()}}},[e(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Mark as Complete\")])]):e(\"div\",{staticClass:\" text-right\"},[\"Completed\"==t.current_task.status||t.current_task.is_completed?e(\"button\",{staticClass:\"btn btn-info\",staticStyle:{\"background-color\":\"darkblue!important\",color:\"white\",padding:\"3px 8px!important\"},attrs:{type:\"button\"}},[t._v(t._s(t.current_task.status))]):e(\"button\",{staticClass:\"btn btn-success\",staticStyle:{\"background-color\":\"#4caf50 !important\",padding:\"3px 8px!important\"},attrs:{type:\"button\"},on:{click:function(s){return t.completeTask(t.current_task)}}},[e(\"i\",{staticClass:\"fa fa-check-circle\"}),t._v(\" Complete Task\")])])]),e(\"div\",{staticClass:\"cursor-pointer\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.not_deleted,expression:\"current_task.not_deleted\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"not_deleted\"},domProps:{checked:Array.isArray(t.current_task.not_deleted)?t._i(t.current_task.not_deleted,null)>-1:t.current_task.not_deleted},on:{change:function(s){var e=t.current_task.not_deleted,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=null,n=t._i(e,r);a.checked?n<0&&t.$set(t.current_task,\"not_deleted\",e.concat([r])):n>-1&&t.$set(t.current_task,\"not_deleted\",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.current_task,\"not_deleted\",i)}}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.is_completed,expression:\"current_task.is_completed\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"is_completed\"},domProps:{checked:Array.isArray(t.current_task.is_completed)?t._i(t.current_task.is_completed,null)>-1:t.current_task.is_completed},on:{change:function(s){var e=t.current_task.is_completed,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=null,n=t._i(e,r);a.checked?n<0&&t.$set(t.current_task,\"is_completed\",e.concat([r])):n>-1&&t.$set(t.current_task,\"is_completed\",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.current_task,\"is_completed\",i)}}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.status,expression:\"current_task.status\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"hidden\",name:\"status\"},domProps:{value:t.current_task.status},on:{input:function(s){s.target.composing||t.$set(t.current_task,\"status\",s.target.value)}}}),t.current_task.user==t.userId&&\"Completed\"!=t.current_task.status?e(\"i\",{staticClass:\"fa fa-trash-o\",staticStyle:{\"font-size\":\"16px\"},on:{click:function(s){return t.deleteTask()}}}):t._e()])]),e(\"hr\",{staticClass:\"m-2\"}),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"Completed\"==t.current_task.status,expression:\"current_task.status=='Completed'\"}]}),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.current_task.user==t.userId,expression:\"current_task.user==userId\"}]},[e(\"div\",{staticClass:\"sidebar-tab\"},[e(\"div\",{attrs:{id:\"app4\"}},[e(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-tasks\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Assign to task\")]),e(\"div\",{staticClass:\"text-left\"},t._l(t.current_task.assign_users,(function(s,a){return t.current_task.user==t.userId?e(\"span\",{staticClass:\"badge badge-light text-10\",staticStyle:{\"margin-left\":\"1px\"}},[t._v(\"@\"+t._s(s.username))]):t._e()})),0)])])]},proxy:!0}],null,!1,96373124)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Assign to task\")]),e(\"b-dropdown-divider\"),t._l(t.users,(function(s,a){return s.employee?e(\"b-dropdown-item\",{attrs:{active:t.current_task.assign_task.includes(s.id)},on:{click:function(e){return t.selectUser(s,a)}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[e(\"i\",{staticClass:\"fa fa-user\"}),t._v(\" \"+t._s(s.first_name))]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"@\"+t._s(s.username))])])]):t._e()}))],2)],1)]),e(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[e(\"div\",{attrs:{id:\"app5\"}},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-calendar-o\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Add Due Date\")]),e(\"div\",{staticClass:\"text-left\"},[e(\"span\",{staticClass:\"badge badge-outline-info\"},[t._v(t._s(t.dateFormate(t.current_task.due_date)))])])])])]},proxy:!0}],null,!1,3786088950)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Due Date\")]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",{on:{click:function(s){t.current_task.due_date=t.getDateIs(\"Today\",\"click\"),t.updateFormdata2()}}},[e(\"div\",{staticClass:\"flex-align cursor-pointer\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Today\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Today\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.current_task.due_date=t.getDateIs(\"Tomorrow\",\"click\"),t.updateFormdata2()}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Tomorrow\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Tomorrow\")))])])]),e(\"b-dropdown-item\",{on:{click:function(s){t.current_task.due_date=t.getDateIs(\"Next Week\",\"click\"),t.updateFormdata2()}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Next Week\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(t._s(t.getDateIs(\"Next Week\")))])])]),e(\"b-dropdown-divider\"),e(\"h6\",{staticClass:\"mb-0 py-2 px-3\"},[e(\"h6\",[t._v(\"Pick a date\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.due_date,expression:\"current_task.due_date\"}],attrs:{type:\"date\",name:\"due_date\"},domProps:{value:t.current_task.due_date},on:{change:function(s){return t.updateFormdata2()},input:function(s){s.target.composing||t.$set(t.current_task,\"due_date\",s.target.value)}}})]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.current_task.due_date=\"\",t.updateFormdata2()}}},[t._v(\"Remove Due date\")])])],1)],1),e(\"div\",{attrs:{id:\"app7\"}},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-level-up\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Priority\")]),e(\"div\",{staticClass:\"text-right\"},[\"Normal\"!=t.current_task.priority?e(\"span\",{staticClass:\"badge\",class:\"Urgent\"==t.current_task.priority?\"badge-danger\":\"Medium\"==t.current_task.priority?\"badge-success\":\"Normal\"==t.current_task.priority?\"badge-primary\":\"badge-light\"},[t._v(\" \"+t._s(\"Normal\"!=t.current_task.priority?t.current_task.priority:\"\"))]):t._e()])])])]},proxy:!0}],null,!1,399936629)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Priority\")]),e(\"b-dropdown-divider\"),t._l(t.priorities,(function(s){return e(\"b-dropdown-item\",{attrs:{active:t.current_task.priority==s},on:{click:function(e){t.current_task.priority=s,t.updateFormdata2()}}},[e(\"h6\",{staticClass:\"mb-0\"},[t._v(t._s(s))])])})),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",[e(\"h6\",{staticClass:\"text-danger mb-0 cursor-pointer\",on:{click:function(s){t.current_task.priority=\"Normal\",t.updateFormdata2()}}},[t._v(\" Remove Priority \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.priority,expression:\"current_task.priority\"}],attrs:{type:\"hidden\",name:\"priority\"},domProps:{value:t.current_task.priority},on:{input:function(s){s.target.composing||t.$set(t.current_task,\"priority\",s.target.value)}}})])])],2)],1)]),e(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[t.current_task.main_task||!t.current_task.main_task&&t.current_task.sub_tasks_count<=0?e(\"div\",{attrs:{id:\"app8\"}},[t.current_task.is_completed?t._e():e(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-tags\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Status\")]),e(\"div\",{staticClass:\"text-left\"},[e(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+t.current_task.tag.color+\"!important;color:\"+t.bgToTextColor(t.current_task.tag.color)},[t._v(t._s(t.current_task.tag.name))])])])])]},proxy:!0}],null,!1,2983543202)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Update Status\")]),e(\"b-dropdown-divider\"),t._l(t.tags,(function(s,a){return t.current_task.main_tag&&t.current_task.main_tag==s.main_tag||!t.current_task.main_tag&&!s.main_tag?e(\"b-dropdown-item\",{attrs:{active:t.current_task.tag.id==s.id},on:{click:function(e){return t.selectTag(s)}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[e(\"i\",{staticClass:\"fa fa-tag\"}),t._v(\" \"+t._s(s.name))]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"tag\")])])]):t._e()}))],2),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.main_tag,expression:\"current_task.main_tag\"}],attrs:{type:\"hidden\",name:\"main_tag\"},domProps:{value:t.current_task.main_tag},on:{input:function(s){s.target.composing||t.$set(t.current_task,\"main_tag\",s.target.value)}}})],1):t._e(),e(\"div\",{attrs:{id:\"app9\"}},[e(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-image\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Image Compulsory\")]),e(\"div\",{staticClass:\"text-right\"},[t.current_task.image_compulsory?e(\"span\",{staticClass:\"badge badge-success\"},[e(\"i\",{staticClass:\"fa fa-check\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}}),t._v(\"Yes\")]):e(\"span\",{staticClass:\"badge badge-danger\"},[e(\"i\",{staticClass:\"fa fa-times\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}}),t._v(\"No\")])])])])]},proxy:!0}],null,!1,2439802604)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Select an option\")]),e(\"b-dropdown-divider\"),e(\"b-dropdown-item\",{attrs:{active:t.current_task.image_compulsory},on:{click:function(s){t.current_task.image_compulsory=1,t.updateFormdata2()}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[e(\"i\",{staticClass:\"fa fa-check\"}),t._v(\" Yes\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"compulsory\")])])]),e(\"b-dropdown-item\",{attrs:{active:!t.current_task.image_compulsory},on:{click:function(s){t.current_task.image_compulsory=0,t.updateFormdata2()}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[e(\"i\",{staticClass:\"fa fa-times\"}),t._v(\" No\")]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"not compulsory\")])])])],1),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.image_compulsory,expression:\"current_task.image_compulsory\"}],attrs:{type:\"hidden\",name:\"image_compulsory\"},domProps:{value:t.current_task.image_compulsory},on:{input:function(s){s.target.composing||t.$set(t.current_task,\"image_compulsory\",s.target.value)}}})])],1)])]),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"Completed\"!=t.current_task.status&&t.current_task.user!=t.userId,expression:\"current_task.status!='Completed' && current_task.user!=userId\"}]},[t.current_task.image_compulsory?e(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[e(\"div\",{attrs:{id:\"app85\"}},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"},on:{click:function(s){return t.getActivities(t.current_task)}}},[e(\"i\",{staticClass:\"fa fa-image\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Image Compulsory \"),e(\"span\",{staticClass:\"badge badge-success\"},[e(\"i\",{staticClass:\"fa fa-check\",staticStyle:{color:\"#fff\",\"font-size\":\"10px\"}})])])])])]},proxy:!0}],null,!1,2505991520)})],1)]):t._e(),t.current_task.main_task||!t.current_task.main_task&&t.current_task.sub_tasks_count<=0?e(\"div\",{staticClass:\"sidebar-tab flex-align2\"},[t.current_task.main_tag?e(\"div\",{attrs:{id:\"app8\"}},[t.current_task.is_completed?t._e():e(\"b-dropdown\",{ref:\"assign_task_drpdwn\",attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"div\",{staticClass:\"d-flex\",staticStyle:{gap:\"10px\"}},[e(\"i\",{staticClass:\"fa fa-tags\"}),e(\"div\",[e(\"h5\",{staticClass:\"mb-0 font-weight-600\"},[t._v(\"Status\")]),e(\"div\",{staticClass:\"text-left\"},[e(\"span\",{staticClass:\"badge badge-light text-10\",style:\"background-color:\"+t.current_task.tag.color+\"!important;color:\"+t.bgToTextColor(t.current_task.tag.color)},[t._v(t._s(t.current_task.tag.name))])])])])]},proxy:!0}],null,!1,2983543202)},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Update Status\")]),e(\"b-dropdown-divider\"),t._l(t.tags,(function(s,a){return t.current_task.main_tag==s.main_tag?e(\"b-dropdown-item\",{attrs:{active:t.current_task.tag.id==s.id},on:{click:function(e){return t.selectTag(s)}}},[e(\"div\",{staticClass:\"flex-align\",staticStyle:{gap:\"25px\"}},[e(\"h6\",{staticClass:\"mb-0\"},[e(\"i\",{staticClass:\"fa fa-tag\"}),t._v(\" \"+t._s(s.name))]),e(\"h6\",{staticClass:\"mb-0 text-darklight text-10\"},[t._v(\"tag\")])])]):t._e()}))],2)],1):t._e()]):t._e(),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_task.assign_task,expression:\"current_task.assign_task\"}],attrs:{name:\"assign_task\",multiple:\"\"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s=\"_value\"in t?t._value:t.value;return s}));t.$set(t.current_task,\"assign_task\",s.target.multiple?e:e[0])}}},t._l(t.users,(function(s){return e(\"option\",{domProps:{value:s.id}},[t._v(t._s(s.username))])})),0)])]),t.current_task.main_task?t._e():e(\"div\",{staticClass:\"px-2\"},[e(\"div\",{staticClass:\"bg-light p-0\",staticStyle:{position:\"relative\",width:\"100%\",\"border-radius\":\"5px\",\"box-shadow\":\"rgb(0 0 0 / 14%) -1px 7px 9px -5px\"}},[e(\"div\",{staticClass:\"badge-success p-0\",staticStyle:{\"border-radius\":\"5px 3px 3px 5px\"},style:\"width:\"+t.current_task.task_completion+\"%\"},[e(\"small\",{staticClass:\"px-1\",staticStyle:{\"white-space\":\"nowrap\"}},[t._v(\"Completed \"+t._s(parseInt(t.current_task.task_completion))+\"%\")])])])]),e(\"div\",{staticClass:\"px-2 py-2\"},[e(\"b\",{staticClass:\"text-primary cursor-pointer\",on:{click:function(s){return t.tagStatus(t.current_task)}}},[t._v(\"View More\")]),e(\"b\",{staticClass:\"text-12 float-right\"},[e(\"small\",[t._v(\"created on\")]),t._v(\" \"+t._s(t.dateFormate(t.current_task.created_on,!0)))])])]):t.is_new_task?e(\"div\",{staticClass:\"empty-task p-3\"},[e(\"img\",{attrs:{src:\"/img/add-img.webp\"}}),e(\"div\",{staticClass:\"text-center\"},[e(\"h5\",[t._v(\"Add a task\")]),e(\"p\",[t._v(\"Add task from your website left tab\")])])]):t._e()])],1)]),e(\"b-modal\",{attrs:{id:\"activity\",title:\"Messages\"}},[e(\"div\",{staticClass:\"activity-container\",staticStyle:{height:\"68vh\",\"overflow-y\":\"auto\"}},[e(\"div\",{staticClass:\"activity-header mb-2\"},[e(\"div\",{staticClass:\"profile-dp\"},[t._v(\" \"+t._s(t.slugToWord(t.$root.userInfo.username.length>0?t.$root.userInfo.username[0]:\"X\"))+\" \")]),e(\"div\",{staticClass:\"activity-collapse\"},[e(\"form\",{ref:\"messageForm\",on:{submit:function(s){return s.preventDefault(),t.messageForm()}}},[t.new_activity.preview_image?e(\"div\",{staticClass:\"px-5 py-2\"},[e(\"img\",{staticClass:\"w-100\",attrs:{src:t.new_activity.preview_image}})]):t._e(),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_activity.note,expression:\"new_activity.note\"},{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-action\",modifiers:{\"collapse-action\":!0}}],attrs:{placeholder:\"Write a Comment\",name:\"note\"},domProps:{value:t.new_activity.note},on:{input:function(s){s.target.composing||t.$set(t.new_activity,\"note\",s.target.value)}}}),e(\"b-collapse\",{staticClass:\"activity-body\",attrs:{id:\"collapse-action\"}},[e(\"button\",{staticClass:\"btn btn-info\",attrs:{type:\"submit\"}},[t._v(\"Save\")]),e(\"div\",{staticClass:\"activity-body-right\"},[e(\"b-dropdown\",{attrs:{\"no-caret\":\"\"},scopedSlots:t._u([{key:\"button-content\",fn:function(){return[e(\"button\",{staticClass:\"btn-icons\"},[e(\"i\",{staticClass:\"fa fa-paperclip\"})])]},proxy:!0}])},[e(\"h6\",{staticClass:\"text-center text-dark mb-0 p-3 pb-0\"},[t._v(\"Attatch\")]),e(\"b-dropdown-divider\"),e(\"b-dropdown-text\",[e(\"label\",[e(\"h6\",{staticClass:\"mb-0\"},[t._v(\"Image\")]),e(\"input\",{staticStyle:{opacity:\"0\",\"z-index\":\"99\",position:\"absolute\",top:\"0\",left:\"0\",width:\"100%\",height:\"100%\",cursor:\"pointer\"},attrs:{type:\"file\",name:t.new_activity.preview_image?\"image\":\"no_img\"},on:{change:t.selectFile}})])])],1)],1)])],1)])]),e(\"hr\",{staticClass:\"my-2\"}),e(\"div\",t._l(t.task_activities,(function(s){return e(\"div\",{staticClass:\"activity-header mb-1\"},[e(\"div\",{staticClass:\"profile-dp\",style:s.user==t.userId?\"\":\"background-color:#666fb3\"},[t._v(\" \"+t._s(t.slugToWord(s.username.length>0?s.username[0]:\"X\"))+\" \")]),e(\"div\",{staticClass:\"mx-1 w-100\"},[e(\"b\",[t._v(\"@\"+t._s(s.username))]),s.image?e(\"div\",{staticClass:\"px-2 cursor-pointer\"},[e(\"img\",{staticStyle:{\"max-height\":\"100px\",\"max-width\":\"100%\"},attrs:{src:s.image}})]):t._e(),e(\"p\",{staticClass:\"w-100\"},[t._v(t._s(s.note)+\" \"),e(\"small\",{staticClass:\"text-info pt-1\",staticStyle:{float:\"right\"}},[t._v(t._s(t.timeAgo(s.created_on)))])])])])})),0)])]),e(\"b-modal\",{attrs:{id:\"task-tags\",title:\"Activities\"}},[e(\"div\",{staticClass:\"activity-container p-2\",staticStyle:{height:\"68vh\",\"overflow-y\":\"auto\"}},[e(\"div\",{staticClass:\"row mx-0\"},[e(\"div\",{staticClass:\"col-md-3\"},[e(\"div\",{staticClass:\"card p-2\"},[e(\"span\",{staticClass:\"text-left\"},[e(\"button\",{staticClass:\"btn btn-success p-1\"},[e(\"i\",{staticClass:\"fa fa-tasks\"}),t._v(\" Task Created \")]),e(\"span\",{staticClass:\"text-12 d-block mt-1\"},[t._v(\"created by @\"+t._s(t.current_task.username))])]),e(\"span\",{staticStyle:{float:\"right\"}},[e(\"small\",[t._v(t._s(t.timeAgo(t.current_task.created_on)))])])])]),t._l(t.tag_status,(function(s){return e(\"div\",{staticClass:\"col-md-3\"},[e(\"div\",{staticClass:\"card p-2\"},[e(\"span\",{staticClass:\"text-left\"},[e(\"button\",{staticClass:\"btn btn-light p-1\",style:\"background-color:\"+s.color+\"!important;color:\"+t.bgToTextColor(s.color)},[e(\"i\",{staticClass:\"fa fa-tags\"}),t._v(t._s(s.name)+\" \")]),e(\"span\",{staticClass:\"text-12 d-block mt-1\"},[t._v(\"updated by @\"+t._s(s.username))])]),e(\"span\",{staticStyle:{float:\"right\"}},[e(\"small\",[t._v(t._s(t.timeAgo(s.created_on)))])])])])})),t.current_task.is_completed?e(\"div\",{staticClass:\"col-md-3\"},[e(\"div\",{staticClass:\"card p-2\"},[e(\"span\",{staticClass:\"text-left\"},[e(\"button\",{staticClass:\"btn btn-danger p-1\"},[e(\"i\",{staticClass:\"fa fa-tasks\"}),t._v(\" Task Completed \")]),e(\"span\",{staticClass:\"text-12 d-block mt-1\"},[t._v(t._s(t.dateFormate(t.current_task.updated_on)))])]),e(\"span\",{staticStyle:{float:\"right\"}},[e(\"small\",[t._v(t._s(t.timeAgo(t.current_task.updated_on)))])])])]):t._e()],2)])])],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticStyle:{width:\"50px\"}},[e(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Tasks\")])])}],r=(e(\"caad\"),e(\"c975\"),e(\"a434\"),e(\"d3b7\"),e(\"2532\"),e(\"3ca3\"),e(\"38cf\"),e(\"ddb0\"),e(\"2b3d\"),{metaInfo:{},data:function(){return{tasks:[],users:[],new_task:{is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\",priority:\"Normal\"},new_sub_task:{is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\",priority:\"Normal\"},current_task:{is_completed:!1,not_deleted:1,sub_tasks_count:0},current_main_task:{is_completed:!1,not_deleted:1},repeats:[\"None\",\"Dialy\",\"Weekly\",\"Monthly\",\"Yearly\"],task_categories:[\"my_tasks\",\"assigned_tasks_to_me\",\"completed_tasks\"],priorities:[\"Urgent\",\"Medium\",\"Normal\"],tags:[],new_activity:{note:\"\",preview_image:\"\"},task_activities:[],tag_status:[],current_task_category:\"my_tasks\",is_new_task:!0,toggle:!1,is_start:!1}},mounted:function(){this.$root.current_section=\"task\",this.getTasks(),this.getUsers(),this.getTags()},methods:{reloadTasks:function(){this.tasks=[],this.getTasks()},selectTaskCat:function(t){this.is_new_task=!0,this.current_task_category=t,this.tasks=[],this.current_task={},this.getTasks()},getDateIs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"Today\",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",e=new Date,a=\"\";return\"Today\"==t&&(a=e.setDate(e.getDate())),\"Tomorrow\"==t&&(a=e.setDate(e.getDate()+1)),\"Next Week\"==t&&(a=e.setDate(e.getDate()+7)),\"click\"==s?this.currentDate(a):this.dateFormate(a)},getTasks:function(){var t=this;this.is_start=!1;var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/?task_type=\"+this.current_task_category,{method:\"get\",headers:s}).then((function(t){return t.json()})).then((function(s){t.is_start=!0,t.tasks=s}))},selectTask:function(t){var s=this;if(this.is_new_task=!1,t.main_task&&t.user!=this.userId&&!t.assign_task.includes(this.userId))return this.showAlert(\"The task is not yours\",\"red\"),!1;this.current_task={},t.main_task?setTimeout((function(){s.current_task=t}),0):this.getSubTasks(t)},getSubTasks:function(t){var s=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/?task_type=\"+this.current_task_category+\"&sub_task=\"+t.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){s.current_task.id||(s.current_task=t),t.sub_tasks=e}))},createFormdata:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null};if(this.lock_btn)return!1;this.lock_btn=!0;var e=new FormData(this.$refs[\"newForm\"]);s.id&&(e=new FormData(document.getElementById(\"newSubForm\"+s.id)),e.append(\"main_task\",s.id)),e.append(\"user\",this.userId),e.append(\"not_deleted\",1);var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(s){t.lock_btn=!1,s.id>0?(t.new_task={is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\"},t.new_sub_task={is_completed:!1,due_date:\"\",remider_date:\"\",repeat:\"None\"},t.current_task=s,t.updateSubTask()):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this;if(this.current_task.user!=this.userId&&this.current_task.image_compulsory&&!this.current_task.preview_image&&!this.current_task.image)return this.showAlert(\"Please attach an image\",\"red\"),!1;var s=new FormData(this.$refs[\"dataForm\"]);s.append(\"user\",this.current_task.user);var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tasks/\"+this.current_task.id+\"/\",{method:\"PUT\",body:s,headers:e}).then((function(t){return t.json()})).then((function(s){s.id>0?(t.current_task=s,t.current_task.not_deleted?t.updateSubTask():(t.showAlert(\"Task Deleted!\",\"red\"),t.getTasks())):t.showAlert(\"Something Wrong!\")}))},updateSubTask:function(){var t=this;if(\"completed_tasks\"==this.current_task_category)return this.showAlert(\"The task was completed!\",\"red\"),!1;var s=new FormData;s.append(\"task\",this.current_task.id);var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/update_sub_tasks/\",{method:\"POST\",body:s,headers:e}).then((function(t){return t.json()})).then((function(s){s.id>0&&(t.current_task=s,s.main_task?t.getSubTasks(t.current_main_task):t.getTasks(),t.showAlert(\"Saved!\"))}))},selectFile:function(t){var s=t.target.files[0];if(s){this.new_activity.preview_image=\"\";var e=this;setTimeout((function(){e.new_activity.preview_image=URL.createObjectURL(s)}),10)}},deleteTask:function(){var t=this,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(s)return this.$swal({title:\"Delete Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(s){s.value&&t.deleteTask(!1)})),!1;this.current_task.user==this.userId&&(this.current_task.not_deleted=0),this.updateFormdata2()},completeTask:function(t){var s=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.assign_task.includes(this.userId)?e?(this.$swal({title:\"Completed Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(e){e.value&&s.completeTask(t,!1)})),!1):(t.status=\"Completed\",this.current_task=t,void this.updateFormdata2()):(this.showAlert(\"Status is \"+t.status,\"yellow\"),!1)},finishTask:function(){var t=this,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.current_task.user==this.userId&&(s?(this.$swal({title:\"Finish Task\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(s){s.value&&t.finishTask(!1)})),!1):(this.current_task.is_completed=1,void this.updateFormdata2()))},getUsers:function(){var t=this,s=new Headers;s.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/users/users/\",{method:\"get\",headers:s}).then((function(t){return t.json()})).then((function(s){t.users=s}))},selectUser:function(t,s){if(this.current_task.assign_task.includes(t.id)){var e=this.current_task.assign_task.indexOf(t.id);this.current_task.assign_task.splice(e,1),this.current_task.assign_users.splice(e,1)}else this.current_task.assign_task.push(t.id),this.current_task.assign_users.push({id:t.id,username:t.username});this.updateFormdata2()},getTags:function(){var t=this,s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\",{method:\"get\",headers:s}).then((function(t){return t.json()})).then((function(s){t.tags=s}))},getActivities:function(t){var s=this;this.current_task=t,this.task_activities=[],this.$bvModal.show(\"activity\");var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_activities/?task=\"+this.current_task.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){s.task_activities=e,s.removeNotifications(t,\"new_messages\")}))},removeNotifications:function(t,s){var e=this;this.current_task=t;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/update_sub_tasks/?task=\"+this.current_task.id+\"&noti_type=\"+s,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(t){t.success&&e.getTasks()}))},tagStatus:function(t){var s=this;this.current_task=t,this.tag_status=[],this.$bvModal.show(\"task-tags\");var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tag_status/?task=\"+this.current_task.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(t){s.tag_status=t}))},selectTag:function(t){var s=this;if(this.lock_btn)return!1;this.current_task.tag=t;var e=new FormData;e.append(\"task\",this.current_task.id),e.append(\"tag\",t.id),e.append(\"user\",this.userId),this.lock_btn=!0;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/tag_status/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){s.lock_btn=!1,e.id>0&&(t.main_tag?(s.getTasks(),s.showAlert(\"Tag Updated!\")):(s.current_task.main_tag=t.id,s.updateFormdata2()))}))},messageForm:function(t){var s=this;if(this.lock_btn)return!1;var e=new FormData(this.$refs[\"messageForm\"]);e.append(\"task\",this.current_task.id),e.append(\"user\",this.userId),this.lock_btn=!0;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_activities/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(t){s.lock_btn=!1,t.id>0&&(s.new_activity={note:\"\",preview_image:\"\"},s.getActivities(s.current_task),s.showAlert(\"Message saved!\"))}))},addSubTask:function(t){this.new_sub_task={is_completed:!1,due_date:t.due_date,remider_date:t.remider_date,repeat:t.repeat,priority:t.priority},this.focusInput(\"add_sub_task\"+t.id)},updateFormdata2:function(){var t=this;setTimeout((function(){t.updateFormdata()}),50)},focusInput:function(t){setTimeout((function(){document.getElementById(t).focus()}),50)}}}),n=r,o=(e(\"66c3\"),e(\"2877\")),c=Object(o[\"a\"])(n,a,i,!1,null,null,null);s[\"default\"]=c.exports},\"66c3\":function(t,s,e){\"use strict\";var a=e(\"19ad\"),i=e.n(a);i.a}}]);","extractedComments":[]}