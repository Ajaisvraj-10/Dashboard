{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7d9fca1d\"],{\"25f0\":function(e,t,n){\"use strict\";var o=n(\"6eeb\"),i=n(\"825a\"),r=n(\"d039\"),a=n(\"ad6d\"),s=\"toString\",c=RegExp.prototype,l=c[s],d=r((function(){return\"/a/b\"!=l.call({source:\"a\",flags:\"b\"})})),u=l.name!=s;(d||u)&&o(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,o=String(void 0===n&&e instanceof RegExp&&!(\"flags\"in c)?a.call(e):n);return\"/\"+t+\"/\"+o}),{unsafe:!0})},\"28e22\":function(e,t,n){\"use strict\";var o=n(\"53dc\"),i=n.n(o);i.a},\"52d6\":function(e,t,n){},\"53dc\":function(e,t,n){},\"80ad\":function(e,t,n){\"use strict\";var o=n(\"52d6\"),i=n.n(o);i.a},b3df:function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"main-content capcee-login\"},[e.start?n(\"div\",{staticClass:\"site-wrapper\"},[n(\"div\",{staticClass:\"flex-align w-100 p-3 \"},[n(\"img\",{staticStyle:{\"max-width\":\"120px\",\"max-height\":\"60px\"},attrs:{src:\"/all-images/logo.png\"}}),n(\"router-link\",{attrs:{to:e.edit?\"\":{name:\"home\"}}},[n(\"img\",{staticStyle:{width:\"20px\",opacity:\".5\"},attrs:{src:\"/all-images/close.png\"}})])],1),\"login\"==e.crnt_tab?n(\"div\",{staticClass:\"login-am\"},[n(\"div\",{staticClass:\"signin-2\",attrs:{id:\"signInBorder\"}},[e._m(0),n(\"div\",{staticClass:\"or-border\"},[e._v(\"--\")]),e._m(1),n(\"form\",{ref:\"loginUser\",on:{submit:function(t){return t.preventDefault(),e.loginUser()}}},[n(\"div\",{staticClass:\"text-center border-light p-3\"},[n(\"qr-code\",{attrs:{text:e.base_url+\"/sign-in?theme=m1&device_token=\"+e.device_token+\"&login=\"+e.login_code,size:\"400\",color:\"#1c1c1c\",\"bg-color\":\"#f7f9fa\",\"error-level\":\"L\"}}),n(\"p\",[e._v(\"Scan qr code and your account\")])],1),n(\"div\",[n(\"button\",{attrs:{type:\"button\",id:\"capcee\"}},[e._v(e._s(e.login_code))])])])])]):e._e()]):n(\"div\",{staticClass:\"site-wrapper\"},[e._m(2)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"text-left mb-4\"},[n(\"h5\",{staticClass:\" login-head\"},[e._v(\" Login Account \")]),n(\"p\",[e._v(\"Welcome back. Good to see you again!\")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"google-login\"},[n(\"div\",{staticClass:\"google-login-child\"},[e._v(\" Scan QR Code \")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"flex-align w-100 p-3 \"},[n(\"div\",{staticClass:\"animated-background height4\",staticStyle:{width:\"120px\"}}),n(\"div\",{staticClass:\"animated-background height3 width3\"})])}],r=(n(\"4160\"),n(\"fb6a\"),n(\"d3b7\"),n(\"25f0\"),n(\"159b\"),{props:[\"edit\",\"blocks\",\"current_block\"],components:{},data:function(){return{start:!1,current_page:{},menu_click:!1,crnt_tab:\"login\",device_token:\"\",login_code:\"\",error_count:0}},mounted:function(){this.edit?this.start=!0:(this.edit=!1,this.blocks=[{},{},{}],this.getPage()),localStorage.getItem(\"device_token\")&&localStorage.getItem(\"device_token\").length>0&&(this.device_token=localStorage.getItem(\"device_token\")),\"\"==this.device_token&&(this.device_token=this.generateToken(),localStorage.setItem(\"device_token\",this.device_token)),this.setLoginCode()},methods:{generateToken:function(){var e=Math.random().toString(36).slice(2);return e},setLoginCode:function(){var e=this,t=new FormData;t.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"post\",headers:n,body:t}).then((function(e){return e.json()})).then((function(t){t.success?(e.login_code=t.code,e.checkLogin2()):e.showAlert(\"Something Wrong!\",\"red\")}))},checkLogin2:function(){var e=this,t=new FormData;t.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"put\",headers:n,body:t}).then((function(t){if(!(200!=t.status&&e.error_count<5))return t.json();var n=e;setTimeout((function(){n.error_count++,n.checkLogin2()}),2e3)})).then((function(t){if(t.success)if(e.error_count=0,t.is_logged){var n=t.user;n.access?(localStorage.setItem(\"userInfo\",JSON.stringify(n)),e.$root.token=n.access,\"\"==e.$root.token?localStorage.removeItem(\"userInfo\"):window.location.href=\"/\"):(e.showAlert(\"Something Wrong!\",\"red\"),localStorage.removeItem(\"userInfo\"))}else{var o=e;setTimeout((function(){o.checkLogin2()}),5e3)}else e.showAlert(\"Something Wrong!\",\"red\")})).catch((function(t){alert(t);var n=e;setTimeout((function(){n.checkLogin2()}),2e3)}))},getPage:function(){var e=this,t=new Headers;t.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/content/pages_contents/?theme=\"+theme_name+\"&page=/sign-in\",{method:\"get\",headers:t}).then((function(e){return e.json()})).then((function(t){e.current_page=t,e.blocks=t.blocks,e.start=!0}))},selectContent:function(e){this.edit&&(this.blocks.forEach((function(e){e.is_edit=!1})),e.is_edit=!0,this.$emit(\"selectedContent\",e))}}}),a=r,s=(n(\"28e22\"),n(\"80ad\"),n(\"2877\")),c=Object(s[\"a\"])(a,o,i,!1,null,\"08aefb5e\",null);t[\"default\"]=c.exports},fb6a:function(e,t,n){\"use strict\";var o=n(\"23e7\"),i=n(\"861d\"),r=n(\"e8b5\"),a=n(\"23cb\"),s=n(\"50c4\"),c=n(\"fc6a\"),l=n(\"8418\"),d=n(\"b622\"),u=n(\"1dde\"),g=n(\"ae40\"),h=u(\"slice\"),f=g(\"slice\",{ACCESSORS:!0,0:0,1:2}),v=d(\"species\"),_=[].slice,p=Math.max;o({target:\"Array\",proto:!0,forced:!h||!f},{slice:function(e,t){var n,o,d,u=c(this),g=s(u.length),h=a(e,g),f=a(void 0===t?g:t,g);if(r(u)&&(n=u.constructor,\"function\"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return _.call(u,h,f);for(o=new(void 0===n?Array:n)(p(f-h,0)),d=0;h<f;h++,d++)h in u&&l(o,d,u[h]);return o.length=d,o}})}}]);","extractedComments":[]}