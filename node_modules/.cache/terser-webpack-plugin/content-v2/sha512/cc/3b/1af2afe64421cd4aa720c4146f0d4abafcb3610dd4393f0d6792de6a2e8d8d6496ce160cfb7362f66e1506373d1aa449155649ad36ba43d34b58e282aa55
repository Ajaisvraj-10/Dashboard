{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1de1a5ed\"],{\"04de\":function(t,a,e){\"use strict\";var i=e(\"831d\"),s=e.n(i);s.a},\"5b0e\":function(t,a,e){\"use strict\";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[e(\"form\",{ref:\"updateMaterial\",on:{submit:function(a){return a.preventDefault(),t.updateMaterial()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Packing Material Specifications\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\"px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(a){return t.selectMaterial()}}},[t._v(\" Create new Material \")]),e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(a){return t.selectSpecification()}}},[t._v(\" Add Specification \")])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"table\",{staticClass:\"table\"},[e(\"thead\",[e(\"tr\",[e(\"th\",{staticClass:\"border-right\"},[t._v(\"Specification\")]),e(\"th\",[t._v(\"Type\")]),t._l(t.materials,(function(a){return e(\"th\",[e(\"button\",{staticClass:\"btn btn-primary btn-sm py-1 px-2\",attrs:{type:\"button\"},on:{click:function(e){return t.selectMaterial(a.id)}}},[t._v(t._s(a.name)+\" \")])])}))],2)]),e(\"tbody\",t._l(t.specifications,(function(a){return e(\"tr\",[e(\"th\",{staticClass:\"border-right\"},[t._v(t._s(a.name)+\" \"),e(\"span\",{staticClass:\"badge badge-primary\",staticStyle:{cursor:\"pointer\"},on:{click:function(e){return t.selectSpecification(a.id)}}},[t._v(\"Edit\")])]),e(\"td\",[t._v(t._s(a.specification_for))]),t._l(t.materials,(function(i){return e(\"td\",[i.specifications.includes(a.id)?e(\"span\",{staticClass:\"badge badge-success\"},[t._v(\"Yes\")]):e(\"span\",{staticClass:\"badge badge-danger\"},[t._v(\"No\")])])}))],2)})),0)])])],1)],1)],1),e(\"div\",[e(\"b-modal\",{attrs:{id:\"create-material\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"form\",{ref:\"dataMaterial\",on:{submit:function(a){return a.preventDefault(),t.dataMaterial()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[t.form_data.id?e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Update Material\")])]):e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Material\")])])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(a){return t.$bvModal.hide(\"create-material\")}}},[t._v(\" Discard \")])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",[e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{},[e(\"div\",{staticClass:\"user-info pt-2\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\"Name: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.name,expression:\"form_data.name\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"},domProps:{value:t.form_data.name},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"name\",a.target.value)}}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\"Unit : \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unit,expression:\"form_data.unit\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"unit\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"unit\",a.target.multiple?e:e[0])}}},t._l(t.units,(function(a){return e(\"option\",{domProps:{value:a}},[t._v(t._s(a))])})),0)]),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"div\",{staticStyle:{width:\"125px\"}},[t._v(\" Is there Printing? : \")]),e(\"b-form-checkbox\",{attrs:{name:\"is_printing\",value:\"1\"},model:{value:t.form_data.is_printing,callback:function(a){t.$set(t.form_data,\"is_printing\",a)},expression:\"form_data.is_printing\"}},[e(\"b\",[t._v(t._s(t.form_data.is_printing?\"Yes\":\"No\"))])])],1),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\" Specifications: \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.specifications,expression:\"form_data.specifications\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",staticStyle:{height:\"250px\"},attrs:{name:\"specifications\",multiple:\"\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"specifications\",a.target.multiple?e:e[0])}}},t._l(t.specifications,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(\" \"+t._s(a.name))])})),0)])])])])])])],1)],1)],1)]),e(\"b-modal\",{attrs:{id:\"add-specification\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[t.specification_form.id?e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Update Specification\")])]):e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Specification\")])])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(a){return t.$bvModal.hide(\"add-specification\")}}},[t._v(\" Discard \")])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",[e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{},[e(\"div\",{staticClass:\"user-info pt-2 pb-5\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"div\",{staticStyle:{width:\"120px\"}},[t._v(\"Name: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.specification_form.name,expression:\"specification_form.name\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"},domProps:{value:t.specification_form.name},on:{input:function(a){a.target.composing||t.$set(t.specification_form,\"name\",a.target.value)}}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"102px\"}},[t._v(\" Type: \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.specification_form.specification_for,expression:\"specification_form.specification_for\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{name:\"specification_for\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.specification_form,\"specification_for\",a.target.multiple?e:e[0])}}},t._l(t.specification_types,(function(a){return e(\"option\",{domProps:{value:a}},[t._v(\" \"+t._s(a))])})),0)]),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"div\",{staticStyle:{width:\"110px\"}},[t._v(\" Have Values? : \")]),e(\"b-form-checkbox\",{attrs:{name:\"is_values\",value:\"1\",switch:\"\"},model:{value:t.specification_form.is_values,callback:function(a){t.$set(t.specification_form,\"is_values\",a)},expression:\"specification_form.is_values\"}},[e(\"b\",[t._v(t._s(t.specification_form.is_values?\"Yes\":\"No\"))])])],1),t.specification_form.is_values?e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Values: \")]),t.specification_form.values.length<=0?e(\"small\",{staticClass:\"text-danger\"},[t._v(\"No values!\")]):t._e(),e(\"ol\",{staticStyle:{\"padding-left\":\"5px\",\"margin-bottom\":\"0\"}},t._l(t.specification_form.values,(function(a,i){return e(\"li\",{staticClass:\"mt-1\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.value,expression:\"value.value\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"text\",name:\"value\"+i,required:\"\"},domProps:{value:a.value},on:{input:function(e){e.target.composing||t.$set(a,\"value\",e.target.value)}}}),e(\"button\",{staticClass:\"btn btn-danger btn-sm p-1\",on:{click:function(a){return t.specification_form.values.splice(i,1)}}},[t._v(\"Remove\")])])})),0)]):t._e(),t.specification_form.is_values?e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}}),e(\"button\",{staticClass:\"btn btn-primary btn-sm p-1\",attrs:{type:\"button\"},on:{click:function(a){return t.specification_form.values.push(\"\")}}},[t._v(\"Add Value\")]),e(\"input\",{attrs:{type:\"hidden\",name:\"keys\"},domProps:{value:t.specification_form.values.length}})]):t._e()])])])])])],1)],1)],1)])],1)])},s=[],n=(e(\"4160\"),e(\"d3b7\"),e(\"159b\"),e(\"ddb0\"),e(\"4dbf\")),o={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:n[\"a\"]},data:function(){return{form_data:{name:\"\",specifications:[]},action:\"Manage\",id:null,materials:[],specifications:[],specification_types:[\"Packing Material\",\"Certificate\"],specification_form:{name:\"\",is_values:!1,specification_type:\"Packing Material\",values:[{value:\"\"}]}}},mounted:function(){this.$root.current_section=\"production\",this.getMaterials(),this.getSpecifications()},methods:{getMaterials:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.materials=a}))},getSpecifications:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.specifications=a}))},selectMaterial:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this;this.form_data={name:\"\",specifications:[],is_printing:!0},t&&this.materials.forEach((function(e,i){e.id==t&&(a.form_data=e)})),this.$bvModal.show(\"create-material\")},dataMaterial:function(){this.form_data.id?this.updateMaterial():this.createMaterial()},createMaterial:function(){var t=this,a=new FormData(this.$refs[\"dataMaterial\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.$bvModal.hide(\"create-material\"),t.getMaterials(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateMaterial:function(){var t=this,a=new FormData(this.$refs[\"dataMaterial\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\"+this.form_data.id+\"/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.form_data=a,t.getMaterials(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))},selectSpecification:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this;this.specification_form={name:\"\",is_values:!1,specification_for:\"Packing Material\",values:[{value:\"\"}]},t&&this.specifications.forEach((function(e,i){e.id==t&&(e.values||(e.values=[]),a.specification_form=e)})),this.$bvModal.show(\"add-specification\")},dataForm:function(){this.specification_form.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.$bvModal.hide(\"add-specification\"),t.getSpecifications(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\"+this.specification_form.id+\"/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?(t.specification_form=a,t.getSpecifications(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))}}},r=o,c=(e(\"04de\"),e(\"c845\"),e(\"2877\")),l=Object(c[\"a\"])(r,i,s,!1,null,null,null);a[\"default\"]=l.exports},\"831d\":function(t,a,e){},\"9a00\":function(t,a,e){},c845:function(t,a,e){\"use strict\";var i=e(\"9a00\"),s=e.n(i);s.a}}]);","extractedComments":[]}