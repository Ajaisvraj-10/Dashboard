{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-75fdaa7c\"],{\"2b58\":function(t,a,e){},\"5b66\":function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Sample Materials Test\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),e(\"div\",{staticClass:\"d-flex\"},[\"view\"!=t.action?e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]):t._e(),\"Waiting\"==t.form_data.status?e(\"div\",[\"view\"==t.action?e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(a){t.action=\"edit\"}}},[t._v(\"Edit \")]):\"edit\"==t.action?e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(a){t.action=\"view\"}}},[t._v(\"View \")]):t._e()],1):t._e(),e(\"router-link\",{attrs:{to:\"/app/qc/sample-materials-test\"}},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1)],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"}),e(\"fieldset\",{attrs:{disabled:\"view\"==t.action}},[e(\"b-row\",{staticClass:\"main-scroll pt-2\"},[e(\"b-col\",{attrs:{lg:\"5\",xl:\"5\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",[e(\"h5\",[t._v(\"Sample Details\")]),e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\" col-md-12\"},[e(\"div\",{staticClass:\"user-info pt-2\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Date: \")]),e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.dateFormate(t.form_data.created_on,!0)}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Farmer name: \")]),e(\"input\",{attrs:{type:\"text\",placeholder:\"Farmer name\",autocomplete:\"off\",readonly:\"\",required:\"\"},domProps:{value:t.form_data.sample_procurement_detail.farmer_detail.name}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Farmer code: \")]),e(\"input\",{attrs:{type:\"text\",placeholder:\"Farmer code\",autocomplete:\"off\",readonly:\"\",required:\"\"},domProps:{value:t.form_data.sample_procurement_detail.farmer_detail.farmer_code}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Sample Id: \")]),e(\"input\",{attrs:{type:\"text\",placeholder:\"Sample Id\",autocomplete:\"off\",readonly:\"\",required:\"\"},domProps:{value:\"#\"+t.sample_id+\"/Sample\"}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sample_id,expression:\"sample_id\"}],attrs:{type:\"hidden\",name:\"sample_procurement\"},domProps:{value:t.sample_id},on:{input:function(a){a.target.composing||(t.sample_id=a.target.value)}}})]),t.load_products?e(\"ProductFields\",{attrs:{product_id:t.product_id,readonly:!0}}):t._e(),e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Farmer Status: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.sample_procurement_detail.farmer_status,expression:\"form_data.sample_procurement_detail.farmer_status\"}],attrs:{type:\"text\",name:\"farmer_status\",readonly:\"\"},domProps:{value:t.form_data.sample_procurement_detail.farmer_status},on:{input:function(a){a.target.composing||t.$set(t.form_data.sample_procurement_detail,\"farmer_status\",a.target.value)}}})])],1)])]),e(\"hr\")])])])],1),e(\"b-col\",{attrs:{lg:\"7\",xl:\"7\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",[e(\"h5\",[t._v(\"Physical Parameters\")]),e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\" col-md-12\"},[e(\"div\",{staticClass:\"user-info\"},[null!=t.form_data.sample_procurement_detail.id?e(\"div\",{staticClass:\"row\"},t._l(t.form_data.physical_parameter.datas,(function(a){return e(\"div\",{staticClass:\"col-md-4\"},t._l(a,(function(a){return e(\"div\",{staticClass:\"user-info pt-2\"},[e(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[e(\"span\",{staticStyle:{width:\"80px\"},attrs:{for:a.name}},[t._v(\" \"+t._s(a.name)+\" : \")]),e(\"span\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.checked,expression:\"param.checked\"}],staticClass:\"ui-autocomplete-input mx-2\",attrs:{type:\"checkbox\",autocomplete:\"off\",value:\"1\",name:a.name,id:a.name},domProps:{checked:Array.isArray(a.checked)?t._i(a.checked,\"1\")>-1:a.checked},on:{change:function(e){var s=a.checked,r=e.target,o=!!r.checked;if(Array.isArray(s)){var i=\"1\",n=t._i(s,i);r.checked?n<0&&t.$set(a,\"checked\",s.concat([i])):n>-1&&t.$set(a,\"checked\",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,\"checked\",o)}}}),a.checked?e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.limit,expression:\"param.limit\"}],staticClass:\"ui-autocomplete-input w-50\",attrs:{placeholder:a.limit_type,type:\"number\",step:\"0.1\",autocomplete:\"off\",name:a.name+\"limit\",required:\"\"},domProps:{value:a.limit},on:{input:[function(e){e.target.composing||t.$set(a,\"limit\",e.target.value)},function(e){return t.checkParam(a)}]}}):t._e()])])])})),0)})),0):t._e(),e(\"hr\"),null!=t.form_data.sample_procurement_detail.id?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input mt-4\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Qc Status: \")]),e(\"div\",[e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{type:\"hidden\",autocomplete:\"off\",name:\"status\",readonly:\"\"},domProps:{value:t.form_data.status}}),e(\"button\",{staticClass:\"btn ml-2\",class:\"Approved\"==t.form_data.status?\"btn-success\":\"btn-outline-success\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.status=\"Approved\"}}},[t._v(\"Approved\")]),e(\"button\",{staticClass:\"btn ml-2\",class:\"Rejected\"==t.form_data.status?\"btn-danger\":\"btn-outline-danger\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.status=\"Rejected\"}}},[t._v(\"Rejected\")])])]),e(\"div\",{staticClass:\"o_thread_search_input mt-4\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Send to Lab: \")]),e(\"div\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.send_to_lab,expression:\"form_data.send_to_lab\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{type:\"checkbox\",name:\"send_to_lab\",value:\"1\"},domProps:{checked:Array.isArray(t.form_data.send_to_lab)?t._i(t.form_data.send_to_lab,\"1\")>-1:t.form_data.send_to_lab},on:{change:function(a){var e=t.form_data.send_to_lab,s=a.target,r=!!s.checked;if(Array.isArray(e)){var o=\"1\",i=t._i(e,o);s.checked?i<0&&t.$set(t.form_data,\"send_to_lab\",e.concat([o])):i>-1&&t.$set(t.form_data,\"send_to_lab\",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.form_data,\"send_to_lab\",r)}}}),e(\"button\",{staticClass:\"btn ml-2\",class:t.form_data.send_to_lab?\"btn-success\":\"btn-outline-success\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.send_to_lab=!0}}},[t._v(\"YES\")]),e(\"button\",{staticClass:\"btn ml-2\",class:t.form_data.send_to_lab?\"btn-outline-danger\":\"btn-danger\",attrs:{type:\"button\"},on:{click:function(a){t.form_data.send_to_lab=!1}}},[t._v(\"NO\")])])])]):t._e()])])]),e(\"hr\")])])])],1)],1)],1)])])},r=[],o=(e(\"d3b7\"),e(\"4dbf\")),i={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:o[\"a\"]},data:function(){return{form_data:{created_on:\"\",sample_procurement_detail:{id:null,farmer_detail:{name:\"\",farmer_code:\"\"},farmer:null,purchase_type:1,farmer_status:\"\",product:null},physical_parameter:{datas:[]},status:\"Waiting\",send_to_lab:!1},id:null,sample_id:null,product_id:null,load_products:!1,action:\"create\",lock_btn:!1}},mounted:function(){this.$root.current_section=\"qc\",this.action=this.$route.params.action,this.form_data.created_on=this.currentDate(),this.sample_id=this.$route.params.id,this.getPurchaseTypes(),this.checkSampleTest()},methods:{checkSampleTest:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/check_sample_test/\"+this.sample_id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){a.success?(t.id=a.id,t.getForm()):t.selectSample()}))},getForm:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/sample_materials_test/\"+this.id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){if(t.form_data=a,t.product_id=a.sample_procurement_detail.product,t.load_products=!0,a.physical_parameter){var e=JSON.parse(a.physical_parameter),s=e.length/3;t.form_data.physical_parameter=t.pagination(e,Math.round(s))}else t.form_data.physical_parameter={datas:[]}}))},selectSample:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/sample_procurement/\"+this.sample_id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data.sample_procurement=a.id,t.form_data.sample_procurement_detail=a,t.product_id=a.product,t.load_products=!0,t.getPhysicalParameters()}))},getPhysicalParameters:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/physical_parameters/?parameter_for=qc&product=\"+this.product_id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){var e=a.length/3;t.form_data.physical_parameter=t.pagination(a,Math.round(e))}))},dataForm:function(){this.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this;if(this.lock_btn)return!1;this.lock_btn=!0;var a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/sample_materials_test/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){t.lock_btn=!1,a.id>0?(t.id=a.id,t.form_data=a,t.updateStatus()):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/sample_materials_test/\"+this.id+\"/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?t.updateStatus():t.showAlert(\"Something Wrong!\")}))},updateStatus:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]);a.append(\"id\",this.form_data.id);var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/sample_materials_test_results/\",{method:\"post\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.success&&t.showAlert(\"Saved Successfully!\")}))}}},n=i,c=(e(\"bf5d\"),e(\"2877\")),d=Object(c[\"a\"])(n,s,r,!1,null,null,null);a[\"default\"]=d.exports},bf5d:function(t,a,e){\"use strict\";var s=e(\"2b58\"),r=e.n(s);r.a}}]);","extractedComments":[]}