{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-362f3522\"],{\"04de\":function(t,e,a){\"use strict\";var i=a(\"831d\"),s=a.n(i);s.a},\"4dbf\":function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},s=[],n=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:\"\",product_type_id:\"\"}},mounted:function(){this.product_id?this.getProduct():(this.product_id=\"\",this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=\"\"}}}),o=n,r=a(\"2877\"),c=Object(r[\"a\"])(o,i,s,!1,null,null,null);e[\"a\"]=c.exports},\"5b0e\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"updateMaterial\",on:{submit:function(e){return e.preventDefault(),t.updateMaterial()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Packing Material Specifications\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\"px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){return t.selectMaterial()}}},[t._v(\" Create new Material \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.selectSpecification()}}},[t._v(\" Add Specification \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"table\",{staticClass:\"table\"},[a(\"thead\",[a(\"tr\",[a(\"th\",{staticClass:\"border-right\"},[t._v(\"Specification\")]),a(\"th\",[t._v(\"Type\")]),t._l(t.materials,(function(e){return a(\"th\",[a(\"button\",{staticClass:\"btn btn-primary btn-sm py-1 px-2\",attrs:{type:\"button\"},on:{click:function(a){return t.selectMaterial(e.id)}}},[t._v(t._s(e.name)+\" \")])])}))],2)]),a(\"tbody\",t._l(t.specifications,(function(e){return a(\"tr\",[a(\"th\",{staticClass:\"border-right\"},[t._v(t._s(e.name)+\" \"),a(\"span\",{staticClass:\"badge badge-primary\",staticStyle:{cursor:\"pointer\"},on:{click:function(a){return t.selectSpecification(e.id)}}},[t._v(\"Edit\")])]),a(\"td\",[t._v(t._s(e.specification_for))]),t._l(t.materials,(function(i){return a(\"td\",[i.specifications.includes(e.id)?a(\"span\",{staticClass:\"badge badge-success\"},[t._v(\"Yes\")]):a(\"span\",{staticClass:\"badge badge-danger\"},[t._v(\"No\")])])}))],2)})),0)])])],1)],1)],1),a(\"div\",[a(\"b-modal\",{attrs:{id:\"create-material\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"form\",{ref:\"dataMaterial\",on:{submit:function(e){return e.preventDefault(),t.dataMaterial()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[t.form_data.id?a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Update Material\")])]):a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Material\")])])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"create-material\")}}},[t._v(\" Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\"Name: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.name,expression:\"form_data.name\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"},domProps:{value:t.form_data.name},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"name\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\"Unit : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unit,expression:\"form_data.unit\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"unit\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"unit\",e.target.multiple?a:a[0])}}},t._l(t.units,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\" Specifications: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.specifications,expression:\"form_data.specifications\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",staticStyle:{height:\"250px\"},attrs:{name:\"specifications\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"specifications\",e.target.multiple?a:a[0])}}},t._l(t.specifications,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)])])])])])])],1)],1)],1)]),a(\"b-modal\",{attrs:{id:\"add-specification\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[t.specification_form.id?a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Update Specification\")])]):a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Specification\")])])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"add-specification\")}}},[t._v(\" Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{},[a(\"div\",{staticClass:\"user-info pt-2 pb-5\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"div\",{staticStyle:{width:\"70px\"}},[t._v(\"Name: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.specification_form.name,expression:\"specification_form.name\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"},domProps:{value:t.specification_form.name},on:{input:function(e){e.target.composing||t.$set(t.specification_form,\"name\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"56px\"}},[t._v(\" Type: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.specification_form.specification_for,expression:\"specification_form.specification_for\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{name:\"specification_for\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.specification_form,\"specification_for\",e.target.multiple?a:a[0])}}},t._l(t.specification_types,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\"Have Values?: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.specification_form.is_values,expression:\"specification_form.is_values\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"checkbox\",autocomplete:\"off\",name:\"is_values\",value:\"1\"},domProps:{checked:Array.isArray(t.specification_form.is_values)?t._i(t.specification_form.is_values,\"1\")>-1:t.specification_form.is_values},on:{change:function(e){var a=t.specification_form.is_values,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=\"1\",o=t._i(a,n);i.checked?o<0&&t.$set(t.specification_form,\"is_values\",a.concat([n])):o>-1&&t.$set(t.specification_form,\"is_values\",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.specification_form,\"is_values\",s)}}})]),t.specification_form.is_values?a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"70px\"}},[t._v(\"Values: \")]),a(\"ul\",{staticStyle:{\"padding-left\":\"5px\"}},[t._l(t.specification_form.values,(function(e,i){return a(\"li\",{staticClass:\"mt-1\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.value,expression:\"value.value\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"text\",name:\"value\"+i,required:\"\"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,\"value\",a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-danger btn-sm p-1\",on:{click:function(e){return t.specification_form.values.splice(i,1)}}},[t._v(\"Remove\")])])})),a(\"li\",{staticClass:\"mt-1\"},[a(\"button\",{staticClass:\"btn btn-primary btn-sm p-1\",attrs:{type:\"button\"},on:{click:function(e){return t.specification_form.values.push(\"\")}}},[t._v(\"Add Value\")]),a(\"input\",{attrs:{type:\"hidden\",name:\"keys\"},domProps:{value:t.specification_form.values.length}})])],2)]):t._e()])])])])])],1)],1)],1)])],1)])},s=[],n=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),a(\"ddb0\"),a(\"4dbf\")),o={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:n[\"a\"]},data:function(){return{form_data:{name:\"\",specifications:[]},action:\"Manage\",id:null,materials:[],specifications:[],specification_types:[\"Packing Material\",\"Certificate\"],specification_form:{name:\"\",is_values:!1,specification_type:\"Packing Material\",values:[{value:\"\"}]}}},mounted:function(){this.$root.current_section=\"production\",this.getMaterials(),this.getSpecifications()},methods:{getMaterials:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.materials=e}))},getSpecifications:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.specifications=e}))},selectMaterial:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this;this.form_data={name:\"\",specifications:[]},t&&this.materials.forEach((function(a,i){a.id==t&&(e.form_data=a)})),this.$bvModal.show(\"create-material\")},dataMaterial:function(){this.form_data.id?this.updateMaterial():this.createMaterial()},createMaterial:function(){var t=this,e=new FormData(this.$refs[\"dataMaterial\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.$bvModal.hide(\"create-material\"),t.getMaterials(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateMaterial:function(){var t=this,e=new FormData(this.$refs[\"dataMaterial\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\"+this.form_data.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.form_data=e,t.getMaterials(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))},selectSpecification:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this;this.specification_form={name:\"\",is_values:!1,specification_for:\"Packing Material\",values:[{value:\"\"}]},t&&this.specifications.forEach((function(a,i){a.id==t&&(a.values||(a.values=[]),e.specification_form=a)})),this.$bvModal.show(\"add-specification\")},dataForm:function(){this.specification_form.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.$bvModal.hide(\"add-specification\"),t.getSpecifications(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\"+this.specification_form.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.specification_form=e,t.getSpecifications(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))}}},r=o,c=(a(\"04de\"),a(\"c845\"),a(\"2877\")),u=Object(c[\"a\"])(r,i,s,!1,null,null,null);e[\"default\"]=u.exports},\"831d\":function(t,e,a){},\"9a00\":function(t,e,a){},c845:function(t,e,a){\"use strict\";var i=a(\"9a00\"),s=a.n(i);s.a},ddb0:function(t,e,a){var i=a(\"da84\"),s=a(\"fdbc\"),n=a(\"e260\"),o=a(\"9112\"),r=a(\"b622\"),c=r(\"iterator\"),u=r(\"toStringTag\"),l=n.values;for(var d in s){var p=i[d],f=p&&p.prototype;if(f){if(f[c]!==l)try{o(f,c,l)}catch(_){f[c]=l}if(f[u]||o(f,u,d),s[d])for(var m in n)if(f[m]!==n[m])try{o(f,m,n[m])}catch(_){f[m]=n[m]}}}}}]);","extractedComments":[]}