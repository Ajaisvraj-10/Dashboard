{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-63d61dda\"],{1148:function(t,e,a){\"use strict\";var s=a(\"a691\"),r=a(\"1d80\");t.exports=\"\".repeat||function(t){var e=String(r(this)),a=\"\",o=s(t);if(o<0||o==1/0)throw RangeError(\"Wrong number of repetitions\");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},\"408a\":function(t,e,a){var s=a(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=s(t))throw TypeError(\"Incorrect invocation\");return+t}},\"476e\":function(t,e,a){},\"4dbf\":function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},r=[],o=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:\"\",product_type_id:\"\"}},mounted:function(){this.product_id?this.getProduct():(this.product_id=\"\",this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=\"\"}}}),i=o,n=a(\"2877\"),c=Object(n[\"a\"])(i,s,r,!1,null,null,null);e[\"a\"]=c.exports},\"55ef\":function(t,e,a){\"use strict\";var s=a(\"476e\"),r=a.n(s);r.a},\"6a91\":function(t,e,a){\"use strict\";var s=a(\"7d66\"),r=a.n(s);r.a},\"7d66\":function(t,e,a){},a0fa:function(t,e,a){},b680:function(t,e,a){\"use strict\";var s=a(\"23e7\"),r=a(\"a691\"),o=a(\"408a\"),i=a(\"1148\"),n=a(\"d039\"),c=1..toFixed,d=Math.floor,l=function(t,e,a){return 0===e?a:e%2===1?l(t,e-1,a*t):l(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},_=c&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){c.call({})}));s({target:\"Number\",proto:!0,forced:_},{toFixed:function(t){var e,a,s,n,c=o(this),_=r(t),p=[0,0,0,0,0,0],m=\"\",h=\"0\",v=function(t,e){var a=-1,s=e;while(++a<6)s+=t*p[a],p[a]=s%1e7,s=d(s/1e7)},f=function(t){var e=6,a=0;while(--e>=0)a+=p[e],p[e]=d(a/t),a=a%t*1e7},g=function(){var t=6,e=\"\";while(--t>=0)if(\"\"!==e||0===t||0!==p[t]){var a=String(p[t]);e=\"\"===e?a:e+i.call(\"0\",7-a.length)+a}return e};if(_<0||_>20)throw RangeError(\"Incorrect fraction digits\");if(c!=c)return\"NaN\";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m=\"-\",c=-c),c>1e-21)if(e=u(c*l(2,69,1))-69,a=e<0?c*l(2,-e,1):c/l(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),s=_;while(s>=7)v(1e7,0),s-=7;v(l(10,s,1),0),s=e-1;while(s>=23)f(1<<23),s-=23;f(1<<s),v(1,1),f(2),h=g()}else v(0,a),v(1<<-e,0),h=g()+i.call(\"0\",_);return _>0?(n=h.length,h=m+(n<=_?\"0.\"+i.call(\"0\",_-n)+h:h.slice(0,n-_)+\".\"+h.slice(n-_))):h=m+h,h}})},cee7:function(t,e,a){\"use strict\";var s=a(\"a0fa\"),r=a.n(s);r.a},f6fd:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.production_process.main_process_name))]),t._v(\" / \"+t._s(t.production_process.name))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){return t.newProcess()}}},[t._v(\"New Process \")]),a(\"router-link\",{attrs:{to:\"/app/production/process/processing\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1)],1)],2),a(\"div\",{staticClass:\"my-2 border-top\"})]),a(\"div\",{staticClass:\"d-flex main-scroll\",staticStyle:{\"overflow-y\":\"hidden\",\"min-width\":\"101%\"}},[t._l(t.process_details,(function(e){return e.id!=t.default_packing_id?a(\"div\",{staticClass:\" p-1\",style:\"max-width:\"+t.max_width+\";flex: 0 0 \"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[a(\"div\",{staticClass:\"card p-2 m-0 flex-row border\"},[t._m(0,!0),a(\"div\",{staticClass:\" col-md-9 align-self-center\"},[a(\"b\",[t._v(t._s(e.name)+\" \")]),a(\"div\",[a(\"b-button\",{staticClass:\" px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"button\",variant:\"primary\"},on:{click:function(a){return t.newProcess(e)}}},[t._v(\"New\")]),a(\"b-button\",{staticClass:\"ml-1 px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"button\",variant:\"danger\"},on:{click:function(a){return t.breakDown(e)}}},[t._v(\"Break\")])],1)])]),a(\"div\",{staticClass:\"process_kanban\"},[t._l(e.start_processes,(function(s,r){return s.main_process_detail.current_process_detail==s.process_detail?a(\"div\",{staticClass:\"m-1\"},[a(\"div\",{staticClass:\"px-2 card py-2\"},[a(\"div\",{staticClass:\"mx-1 mb-2\"},[a(\"table\",{staticClass:\"w-100\"},[a(\"tr\",{},[a(\"th\",{staticClass:\"text-primary\"},[t._v(\"#\"+t._s(s.main_process)+\"/PROCESS\")]),a(\"th\",{staticClass:\"text-right\"},[t._v(\" LOT \"),t._l(s.process_products,(function(e,s){return a(\"span\",[t._v(\" \"+t._s(0==s?\"\":\", \")+t._s(e.lot)+\" \")])}))],2)]),t._l(s.process_products,(function(e,r){return a(\"tr\",[a(\"th\",[t._v(t._s(0==r?\"INPUT\"+t.slugToWord(t.checkMult(s.process_products.length)):\"\"))]),a(\"th\",{staticClass:\"text-right\"},[t._v(\" \"+t._s(0==r?\"\":\", \")+t._s(e.parameter_detail.name)+\"(\"+t._s(e.quantity)+\"KG) \")])])}))],2),a(\"table\",{staticClass:\"w-100\"},[a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\"STATUS\")]),a(\"th\",[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(s.status))])]),a(\"th\",{staticClass:\"text-right\"},[s.processes.length>0?a(\"span\",{staticClass:\"badge badge-danger p-1 cursor-pointer\",on:{click:function(a){return t.startProcess(\"stop\",e,s)}}},[t._v(\"Stop Process\")]):a(\"span\",{staticClass:\"badge badge-success p-1 cursor-pointer\",on:{click:function(a){return t.startProcess(\"input\",e,s)}}},[t._v(\"Start Process\")])])]),e.is_dryer&&s.processes.length>0?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" \"+t._s(s.dryer_details.dryer_end_time?\"Dryer running time\":s.dryer_details.dryer_start_time?\"Dryer starting time\":\"Dryer\")+\" \")]),a(\"th\",{attrs:{colspan:s.dryer_details.dryer_end_time?\"2\":\"\"}},[t._v(\" \"+t._s(s.dryer_details.dryer_end_time?t.timeFormate(s.dryer_details.dryer_start_time)+\" to \"+t.timeFormate(s.dryer_details.dryer_end_time):s.dryer_details.dryer_start_time?t.timeFormate(s.dryer_details.dryer_start_time):\"Not start\")+\" \")]),s.dryer_details.dryer_end_time?t._e():a(\"th\",{staticClass:\"text-right\"},[s.dryer_details.dryer_start_time?a(\"span\",{staticClass:\"badge badge-danger cursor-pointer\",on:{click:function(a){return t.startProcess(\"dryer\",e,s)}}},[t._v(\"End\")]):a(\"span\",{staticClass:\"badge badge-success cursor-pointer\",on:{click:function(a){return t.startProcess(\"dryer\",e,s)}}},[t._v(\"Start\")])])]):t._e(),e.is_dryer&&s.processes.length>0&&e.consumable_items.length>0?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" \"+t._s((s.firewood_details.firewood_end_time||s.firewood_details.firewood_start_time,\"Furnace recommendation\"))+\" \")]),a(\"th\",{attrs:{colspan:s.firewood_details.firewood_end_time?\"2\":\"\"}},[t._v(\" \"+t._s(s.firewood_details.firewood_end_time?t.timeFormate(s.firewood_details.firewood_start_time)+\" to \"+t.timeFormate(s.firewood_details.firewood_end_time):s.firewood_details.firewood_start_time?t.timeFormate(s.firewood_details.firewood_start_time):\"Not start\")+\" \")]),s.firewood_details.firewood_end_time?t._e():a(\"th\",{staticClass:\"text-right\"},[s.firewood_details.firewood_start_time?a(\"span\",{staticClass:\"badge badge-danger cursor-pointer\",on:{click:function(a){return t.startProcess(\"firewood\",e,s)}}},[t._v(\"End\")]):a(\"span\",{staticClass:\"badge badge-success cursor-pointer\",on:{click:function(a){return t.startProcess(\"firewood\",e,s)}}},[t._v(\"Start\")])])]):t._e()])]),s.processes.length>0?a(\"div\",{staticClass:\"row\"},[t._m(1,!0),a(\"div\",{staticClass:\"col-md-6 text-right\"},[a(\"span\",{staticClass:\"badge badge-primary mx-1 p-1 cursor-pointer\",on:{click:function(a){return t.startProcess(\"shift\",e,s)}}},[t._v(\"Add New Shift\")])])]):t._e(),t._l(s.processes,(function(r){return a(\"div\",{staticClass:\"card px-2 py-2 mt-1 \"},[a(\"table\",{},[a(\"tr\",{staticClass:\"border border-rounded cursor-pointer\",on:{click:function(a){return t.startProcess(\"shift\",e,s,r.id,!0)}}},[a(\"th\",{staticClass:\"text-info\"},[t._v(\" #\"+t._s(r.supervisor_detail.name)+\" \")]),a(\"th\",[t._v(\" \"+t._s(r.shift)+\" \")]),a(\"th\",[t._v(t._s(t.dateFormate(r.created_on)))]),a(\"th\",{staticClass:\"text-right\"},[a(\"span\",{staticClass:\"badge\",class:\"Completed\"==r.status?\"badge-success\":\"Draft\"==r.status?\"badge-secondary\":\"Starting\"==r.status?\"badge-success\":\"Stop\"==r.status?\"badge-danger\":\"badge-warning\"},[t._v(t._s(r.status))])])]),e.is_machine?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" Machine Time \")]),a(\"th\",{attrs:{colspan:r.end_time?\"2\":\"\"}},[t._v(\" \"+t._s(r.end_time?t.timeFormate(r.start_time)+\" to \"+t.timeFormate(r.end_time):r.start_time?t.timeFormate(r.start_time):\"Not start\")+\" \")]),r.end_time?t._e():a(\"th\",{staticClass:\"text-right\"},[r.start_time?a(\"span\",{staticClass:\"badge badge-danger cursor-pointer\",on:{click:function(a){return t.startProcess(\"machine\",e,s,r.id)}}},[t._v(\"End\")]):a(\"span\",{staticClass:\"badge badge-success cursor-pointer\",on:{click:function(a){return t.startProcess(\"machine\",e,s,r.id)}}},[t._v(\"Start\")])])]):t._e(),e.have_workers?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" Workers \")]),a(\"th\",[t._v(\" \"+t._s(r.workers.length>0?r.workers.length+\" worker\"+t.checkMult(r.workers.length):\"No workers\")+\" \")]),a(\"th\",{staticClass:\"text-right\"},[r.workers.length?a(\"span\",{staticClass:\"badge badge-warning cursor-pointer\",on:{click:function(a){return t.startProcess(\"workers\",e,s,r.id,!0)}}},[t._v(\"View\")]):a(\"span\",{staticClass:\"badge badge-primary cursor-pointer\",on:{click:function(a){return t.startProcess(\"workers\",e,s,r.id)}}},[t._v(\"Add\")])])]):t._e(),e.consumable_items.length>0?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" Consumable \")]),a(\"th\",[t._v(\" \"+t._s(r.consumables_count>0?r.consumables_count+\" consumable\"+t.checkMult(r.consumables_count):\"No consumables\")+\" \")]),a(\"th\",{staticClass:\"text-right\"},[r.consumables_count?a(\"span\",{staticClass:\"badge badge-warning cursor-pointer\",on:{click:function(a){return t.startProcess(\"consumables\",e,s,r.id,!0)}}},[t._v(\"View\")]):a(\"span\",{staticClass:\"badge badge-primary cursor-pointer\",on:{click:function(a){return t.startProcess(\"consumables\",e,s,r.id)}}},[t._v(\"Add\")])])]):t._e(),e.outputs.length>0?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" Outputs \")]),a(\"th\",[t._v(\" \"+t._s(r.process_outputs_count>0?r.process_outputs_count+\" output\"+t.checkMult(r.process_outputs_count):\"No outputs\")+\" \")]),a(\"th\",{staticClass:\"text-right\"},[r.process_outputs_count?a(\"span\",{staticClass:\"badge badge-warning cursor-pointer\",on:{click:function(a){return t.startProcess(\"output\",e,s,r.id,!0)}}},[t._v(\"View\")]):a(\"span\",{staticClass:\"badge badge-primary cursor-pointer\",on:{click:function(a){return t.startProcess(\"output\",e,s,r.id)}}},[t._v(\"Add\")])])]):t._e(),e.is_unloading?a(\"tr\",[a(\"th\",{attrs:{colspan:\"2\"}},[t._v(\" Unloading \")]),a(\"th\",[t._v(\" \"+t._s(r.unloading_workers>0?r.unloading_workers+\" worker\"+t.checkMult(r.unloading_workers):\"No workers\")+\" \")]),a(\"th\",{staticClass:\"text-right\"},[r.unloading_workers>0?a(\"span\",{staticClass:\"badge badge-warning cursor-pointer\",on:{click:function(a){return t.startProcess(\"unloading\",e,s,r.id,!0)}}},[t._v(\"View\")]):a(\"span\",{staticClass:\"badge badge-primary cursor-pointer\",on:{click:function(a){return t.startProcess(\"unloading\",e,s,r.id)}}},[t._v(\"Add\")])])]):t._e()])])}))],2),a(\"hr\",{staticClass:\"my-2\"})]):t._e()})),a(\"div\",{staticClass:\"text-center\"})],2)])]):t._e()})),t.production_process.is_packing?a(\"div\",{staticClass:\"p-1\",style:\"max-width:\"+t.max_width+\";flex: 0 0 \"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[t._m(2),a(\"div\",{staticClass:\"process_kanban\"},[t._l(t.packing.start_processes,(function(e,s){return e.main_process_detail.production_process==t.production_process.id?a(\"div\",{staticClass:\"m-1\"},[a(\"div\",{staticClass:\"card px-3 py-2 cursor-pointer\",class:s%2==0?\"bg-lightgreen\":\"bg-lightred\"},[a(\"table\",[a(\"tr\",[a(\"th\",{staticClass:\"text-primary\"},[t._v(\"#\"+t._s(e.main_process)+\"/PROCESS\")]),a(\"th\",[t._v(\" LOT \"),t._l(e.process_products,(function(e){return a(\"span\",[t._v(\" \"+t._s(e.lot)+\", \")])}))],2)]),a(\"tr\",[a(\"th\",[t._v(\"PRODUCT\")]),t._l(e.process_products,(function(e){return a(\"th\",[t._v(\" \"+t._s(e.parameter_detail.name)+\", \")])}))],2),a(\"tr\",[a(\"th\",[t._v(\"DATE\")]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))])]),a(\"tr\",[a(\"th\",[t._v(\"STATUS\")]),a(\"th\",[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(e.status))])])]),a(\"tr\",[a(\"th\",{staticClass:\"text-center\",attrs:{colspan:\"2\"}},[a(\"router-link\",{attrs:{to:\"/app/production/process/processing/view/\"+t.packing.id+\"/packing/\"+e.main_process}},[a(\"button\",{staticClass:\"btn btn-warning px-2 py-1 btn-sm mt-2 w-100\"},[t._v(\"Pack Now\")])])],1)])])]),a(\"hr\",{staticClass:\"my-2\"})]):t._e()})),a(\"div\",{staticClass:\"text-center\"})],2)])]):t._e()],2),a(\"div\",[a(\"div\",{staticStyle:{position:\"fixed\",top:\"45%\",right:\"1px\",cursor:\"pointer\"},on:{click:function(e){return t.scrollRight()}}},[a(\"img\",{staticStyle:{width:\"15px\"},attrs:{src:\"/img/arrow-right.png\"}})]),a(\"div\",{staticStyle:{position:\"fixed\",top:\"45%\",left:\"105px\",cursor:\"pointer\"},on:{click:function(e){return t.scrollLeft()}}},[a(\"img\",{staticStyle:{width:\"15px\"},attrs:{src:\"/img/arrow-left.png\"}})])]),a(\"div\",[a(\"b-modal\",{attrs:{id:\"list-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.production_process.name))]),t._v(\" /\"+t._s(t.current_process_detail.name))])]),t.list_process?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"list-process\")}}},[t._v(\"Close\")])],1):a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"success\"},on:{click:function(e){return t.createProcess()}}},[t._v(\"Start Process\")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){t.list_process=!0}}},[t._v(\"Back\")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[t.list_process?a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"mt-2\"},t._l(t.process_details,(function(e){return a(\"div\",{staticClass:\"card px-2 py-1 mx-0 mt-2\"},[a(\"table\",{},[a(\"tr\",[a(\"th\",[t._v(t._s(e.name))]),a(\"td\",{staticClass:\"text-right pr-2\"},[a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm  my-2 \",attrs:{type:\"button\"},on:{click:function(a){return t.selectProcessDetail(e)}}},[t._v(\"Start\")])])])])])})),0)],1):a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"b-card\",{staticClass:\"mt-2 pt-0\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",[t._v(\"WareHouse : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.warehouse_id,expression:\"warehouse_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"warehouse\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.warehouse_id=e.target.multiple?a:a[0]},function(e){return t.stockParameter()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select WareHouse\")]),t._l(t.warehouses,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"input\",{attrs:{type:\"hidden\",name:\"process_detail\"},domProps:{value:t.current_process_detail.id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"production_process\"},domProps:{value:t.production_process.id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"status\",value:\"Starting\"}}),a(\"table\",{staticClass:\"table mt-2 w-100\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Input\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Indent\")]),a(\"th\",[t._v(\"Available Qty(KG)\")]),a(\"th\",[t._v(\"Quantity(KG)\")]),a(\"th\",[t._v(\"Action\")])])]),a(\"tbody\",t._l(t.stock_parameters,(function(e,s){return a(\"tr\",[a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(e.lot)+\"/Lot \"),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"+e.id},domProps:{value:e.lot}})]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.indent,expression:\"stock_parameter.indent\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"indent\"+e.id,disabled:!e.is_added},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(e,\"indent\",a.target.multiple?s:s[0])}}},t._l(t.indents,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.indent_number))])})),0)]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.stock_quantity)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"stock_parameter.quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:e.stock_quantity,name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeProduct(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addProduct(e)}}},[t._v(\"Add\")])])])})),0)])])])],1)])],1)],1),a(\"b-modal\",{attrs:{id:\"start-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[t.load_processing_form?a(\"ProcessingForm\",{attrs:{action:t.action,process_detail_id:t.current_process_detail.id,start_process_id:t.start_process_id,processing_id:t.processing_id,is_view:t.is_view},on:{closePopup:t.closePopup}}):t._e()],1)]),a(\"b-modal\",{attrs:{id:\"break-down\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[t.load_break_form?a(\"BreakDownForm\",{attrs:{process_detail_id:t.current_process_detail.id,processing_id:t.processing_id},on:{closeBreakPopup:t.closeBreakPopup}}):t._e()],1)])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"card col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"col-md-6\"},[a(\"b\",{staticClass:\"mx-1\"},[t._v(\"Shifts\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"card p-2 m-0 flex-row border\"},[a(\"div\",{staticClass:\"card col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})]),a(\"div\",{staticClass:\"col-md-9 align-self-center\"},[a(\"b\",[t._v(\"Packing \")]),a(\"div\")])])}],o=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),a(\"4dbf\")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[t.is_start?a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.process_detail.name))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[\"input\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Start Process \")])],1):a(\"div\",{staticClass:\"d-flex\"},[t.is_view?t._e():a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Save \")])],1),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.closePopup()}}},[t._v(\"Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"}),a(\"fieldset\",{attrs:{disabled:t.is_view}},[a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"input\"==t.action,expression:\"action=='input'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{},[a(\"input\",{attrs:{type:\"hidden\",name:\"status\",value:\"Starting\"}}),a(\"table\",{staticClass:\"table mt-2 w-100\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Input\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Available Qty(KG)\")]),a(\"th\",[t._v(\"Quantity(KG)\")]),a(\"th\",[t._v(\"Action\")])])]),a(\"tbody\",t._l(t.stock_parameters,(function(e,s){return a(\"tr\",[a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(e.lot)+\"/Lot \"),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"+e.id},domProps:{value:e.lot}})]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.stock_quantity)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"stock_parameter.quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:e.stock_quantity,name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\",min:\"0\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeProduct(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addProduct(e)}}},[t._v(\"Add\")])])])})),0)])])])],1)]),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"shift\"==t.action,expression:\"action=='shift'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t._l(t.form_data.start_process_detail.process_products,(function(e,s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" \"+t._s(0==s?\"Input :\":\"\")+\" \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"Product\",type:\"text\",readonly:\"\"},domProps:{value:e.parameter_detail.name}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.lot,expression:\"process_product.lot\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"Lot\",type:\"number\",autocomplete:\"off\",name:\"lot\",min:\"0\",readonly:\"\"},domProps:{value:e.lot},on:{input:function(a){a.target.composing||t.$set(e,\"lot\",a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Qty(KG)\")]),a(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",max:e.quantity,name:\"quantity\",readonly:\"\"},domProps:{value:e.quantity}})])})),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Shift: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.shift,expression:\"form_data.shift\"}],staticClass:\"ui-autocomplete-input w-100 ml-1\",attrs:{name:\"shift\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"shift\",e.target.multiple?a:a[0])}}},t._l(t.shifts,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.date,expression:\"form_data.date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"date\",required:\"\"},domProps:{value:t.form_data.date},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"date\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"},domProps:{value:t.form_data.lot}}),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.other_lots,expression:\"form_data.other_lots\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{name:\"other_lots\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"other_lots\",e.target.multiple?a:a[0])}}},t._l(t.form_data.other_lots,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e))])})),0)])],2)])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"machine\"==t.action,expression:\"action=='machine'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t.process_detail.is_machine?a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Machine Details \")])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Run Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machines: \")]),a(\"div\",{staticClass:\"ui-autocomplete-input w-100 ml-1\"},t._l(t.form_data.machines,(function(e){return a(\"span\",[a(\"span\",{staticClass:\"badge badge-success p-1 mr-1\"},[t._v(\" \"+t._s(e.name))])])})),0),a(\"select\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{name:\"machines\",multiple:\"\"}},t._l(t.form_data.machines,(function(e){return a(\"option\",{attrs:{selected:\"\"},domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)])]):t._e()])])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"dryer\"==t.action,expression:\"action=='dryer'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t.process_detail.is_dryer?a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Dryer Details \")])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date: \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.dateFormate(t.form_data.start_process_detail.dryer_details.dryer_start_date)}}),a(\"input\",{staticClass:\"ui-autocomplete-input\",staticStyle:{\"margin-left\":\"14px\"},attrs:{placeholder:\"\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.dateFormate(t.form_data.start_process_detail.dryer_details.dryer_end_date)}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Run Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_process_detail.dryer_details.dryer_start_time,expression:\"form_data.start_process_detail.dryer_details.dryer_start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"dryer_start_time\"},domProps:{value:t.form_data.start_process_detail.dryer_details.dryer_start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data.start_process_detail.dryer_details,\"dryer_start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_process_detail.dryer_details.dryer_end_time,expression:\"form_data.start_process_detail.dryer_details.dryer_end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"dryer_end_time\"},domProps:{value:t.form_data.start_process_detail.dryer_details.dryer_end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data.start_process_detail.dryer_details,\"dryer_end_time\",e.target.value)}}})]),a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input w-50 mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Dryer stock : \")]),a(\"b\",{staticClass:\"mx-2\"},[t._v(t._s(t.form_data.start_process_detail.dryer_details.total_quantity)+\"KG\")])])]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Dryer: \")]),a(\"div\",{staticClass:\"ui-autocomplete-input w-100 ml-1\"},t._l(t.form_data.machines,(function(e){return e.note_stock?a(\"span\",[a(\"span\",{staticClass:\"badge badge-success p-1 mr-1\"},[t._v(\" \"+t._s(e.name))])]):t._e()})),0)])]):t._e()])])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"firewood\"==t.action,expression:\"action=='firewood'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t.process_detail.is_dryer?a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Firewood Details \")])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date: \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.dateFormate(t.form_data.start_process_detail.firewood_details.firewood_start_date)}}),a(\"input\",{staticClass:\"ui-autocomplete-input\",staticStyle:{\"margin-left\":\"14px\"},attrs:{placeholder:\"\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.dateFormate(t.form_data.start_process_detail.firewood_details.firewood_end_date)}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\" Run Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_process_detail.firewood_details.firewood_start_time,expression:\"form_data.start_process_detail.firewood_details.firewood_start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"firewood_start_time\"},domProps:{value:t.form_data.start_process_detail.firewood_details.firewood_start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data.start_process_detail.firewood_details,\"firewood_start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_process_detail.firewood_details.firewood_end_time,expression:\"form_data.start_process_detail.firewood_details.firewood_end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"firewood_end_time\"},domProps:{value:t.form_data.start_process_detail.firewood_details.firewood_end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data.start_process_detail.firewood_details,\"firewood_end_time\",e.target.value)}}})]),a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input w-50 mt-3\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\" Total firewood : \")]),a(\"b\",{staticClass:\"mx-2\"},[t._v(t._s(t.form_data.start_process_detail.firewood_details.total_quantity)+\"KG\")])])]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"span\",{staticStyle:{width:\"100px\"}},[t._v(\" Dryer: \")]),a(\"div\",{staticClass:\"ui-autocomplete-input w-100 ml-1\"},t._l(t.form_data.machines,(function(e){return e.note_stock?a(\"span\",[a(\"span\",{staticClass:\"badge badge-success p-1 mr-1\"},[t._v(\" \"+t._s(e.name))])]):t._e()})),0)])]):t._e()])])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"consumables\"==t.action,expression:\"action=='consumables'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Consumable Details \")])]),t._l(t.form_data.consumable_items_list,(function(e){return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(e.name)+\" (\"+t._s(e.unit)+\") : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"consumable_item.quantity\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+e.id,max:e.available_quantity},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(e.unit))])])])}))],2)])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"workers\"==t.action,expression:\"action=='workers'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",[a(\"b-form-group\",{staticClass:\"work_type_option\"},[a(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"wages\",\"contract\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},model:{value:t.form_data.work_type,callback:function(e){t.$set(t.form_data,\"work_type\",e)},expression:\"form_data.work_type\"}})],1),a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input my-0 py-0\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Workers : \")])]),a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Workers: \")]),a(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(e){return\"wages\"==t.form_data.work_type&&e.is_wage||\"contract\"==t.form_data.work_type&&e.is_contract?a(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+e.id}},[a(\"b-form-checkbox\",{attrs:{name:\"workers\",id:\"worker\"+e.id,value:e.id},on:{input:function(e){t.form_data.total_workers=t.form_data.workers.length}},model:{value:t.form_data.workers,callback:function(e){t.$set(t.form_data,\"workers\",e)},expression:\"form_data.workers\"}},[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/\"+t._s(e.name))])])],1):t._e()})),0)]),\"wages\"==t.form_data.work_type?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.working_hourse,expression:\"form_data.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\",min:\"0\"},domProps:{value:t.form_data.working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.working_hourse>0&&t.form_data.total_workers?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (\"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.form_data.working_hourse)+\"Hr x Rs440)/8 = \"),a(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.form_data.working_hourse*440/8)+\"/-\")])]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time : \")])]),a(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[a(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Stage 1\")])]),a(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st1,expression:\"form_data.overtime_labours_st1\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st1},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_labours_st1\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st1,expression:\"form_data.overtime_hourse_st1\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st1\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st1},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_hourse_st1\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st1>0&&t.form_data.overtime_hourse_st1?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x 2 x \"+t._s(t.form_data.overtime_labours_st1)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st1)+\"Hr = \"),a(\"b\",[t._v(\"Rs\"+t._s(110*t.form_data.overtime_labours_st1*t.form_data.overtime_hourse_st1)+\"/-\")])]):t._e(),a(\"div\",{staticClass:\"mx-2 px-1 mt-2\"},[a(\"small\",{staticStyle:{\"font-weight\":\"700\"}},[t._v(\"Stage 2\")])]),a(\"div\",{staticClass:\"o_thread_search_input pt-0\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_labours_st2,expression:\"form_data.overtime_labours_st2\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"overtime_labours_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_labours_st2},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_labours_st2\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_hourse_st2,expression:\"form_data.overtime_hourse_st2\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_hourse_st2\",min:\"0\"},domProps:{value:t.form_data.overtime_hourse_st2},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_hourse_st2\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hours\")])]),t.form_data.overtime_labours_st2>0&&t.form_data.overtime_hourse_st2?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : (Rs440/8Hr) x \"+t._s(t.form_data.overtime_labours_st2)+\"Labours x \"+t._s(t.form_data.overtime_hourse_st2)+\"Hr = \"),a(\"b\",[t._v(\"Rs\"+t._s(55*t.form_data.overtime_labours_st2*t.form_data.overtime_hourse_st2)+\"/-\")])]):t._e()]):a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Total Workers: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labours\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.total_workers},on:{input:[function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)},function(e){t.form_data.labour_charge=400*t.form_data.total_workers/8}]}})]),\"contract\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Labour Charge : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.contract_labour_charge,expression:\"form_data.contract_labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"contract_labour_charge\",min:\"0\"},domProps:{value:t.form_data.contract_labour_charge},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"contract_labour_charge\",e.target.value)}}})]):t._e(),t.form_data.total_workers>0&&t.form_data.contract_labour_charge?a(\"div\",{staticClass:\"mx-2 px-1 text-right text-danger\",staticStyle:{\"font-size\":\"12px\"}},[t._v(\" Salary : \"+t._s(t.form_data.total_workers)+\"Labours x \"+t._s(t.form_data.contract_labour_charge)+\"Rs = \"),a(\"b\",[t._v(\"Rs\"+t._s(t.form_data.total_workers*t.form_data.contract_labour_charge)+\"/-\")])]):t._e()]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"})])])])],1)]),\"barrel\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row mt-2\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info mb-5\"},[t.process_detail.have_barrel?a(\"div\",[a(\"div\",{staticClass:\"row pb-2\"},[t._l(t.barrels,(function(e){return e.available_quantity!=e.max_quantity?a(\"div\",{staticClass:\"col-md-3\",on:{click:function(a){t.barrel_id=e.id}}},[a(\"div\",{staticClass:\"barrel_out\"},[a(\"div\",{staticClass:\"barrel_in\",style:\"height:\"+(100-100/e.max_quantity*e.quantity-100/e.max_quantity*e.available_quantity)+\"%\"},[a(\"div\",{staticClass:\"details text-center\"},[a(\"div\",[t._v(t._s(e.code))]),a(\"span\",[t._v(t._s(e.available_quantity)+\"/\"+t._s(e.max_quantity))]),a(\"div\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"600\"}},[t._v(t._s(e.quantity))])])]),a(\"div\",{staticClass:\"barrel_pepper\",style:\"height:\"+100/e.max_quantity*e.quantity+\"%\"})])]):t._e()})),t._l(t.barrels,(function(e){return a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.barrel_id==e.id,expression:\"barrel_id==barrel.id\"}],staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Barrel : \")]),a(\"select\",{staticClass:\"ui-autocomplete-input\",attrs:{name:\"barrel\"+e.id}},[a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.code)+\"/\"+t._s(e.name))])])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Quantity: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"barrel.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\"+e.id,min:\"0\",required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(e){return t.calculateQty()}]}}),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity (%)\",type:\"text\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,readonly:\"\"},domProps:{value:(100/e.max_quantity*e.quantity).toFixed(2)+\"%\"}})]),t._l(t.process_detail.consumable_items_list,(function(s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(s.name)+\" (\"+t._s(s.unit)+\") : \")]),a(\"input\",{attrs:{type:\"hidden\",name:\"consumable\"+e.id+\"item_id\"+s.id}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e[\"other\"+s.id],expression:\"barrel['other'+consumable_item.id]\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"'consumable'+barrel.id+'quantity'+consumable_item.id\",required:\"\"},domProps:{value:e[\"other\"+s.id]},on:{input:function(a){a.target.composing||t.$set(e,\"other\"+s.id,a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"%\")])])}))],2)}))],2)]):t._e()])])])])],1):t._e(),\"output\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row mt-2\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info mb-5\"},[a(\"table\",{staticClass:\"table\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Output\")]),a(\"th\",[t._v(\"Quantity(KG)\")]),a(\"th\",[t._v(\"Persentage(%)\")]),t.process_detail.direct_packing?a(\"th\",[t._v(\"Packing\")]):a(\"th\")])]),a(\"tbody\",[t._l(t.form_data.process_outputs,(function(e){return t.process_detail.outputs.includes(e.parameter)?a(\"tr\",[a(\"td\",[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:e.name,type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+e.id,min:\"0\",required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(a){return t.calculation(e)}]}})]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity_persentage,expression:\"parameter.quantity_persentage\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:e.name,type:\"text\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,min:\"0\",readonly:\"\"},domProps:{value:e.quantity_persentage},on:{input:function(a){a.target.composing||t.$set(e,\"quantity_persentage\",a.target.value)}}})]),t.process_detail.direct_packing?a(\"td\",[e.packing_materials_count>0?a(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-warning\",attrs:{type:\"button\"},on:{click:function(a){return t.$bvModal.show(\"packing-form\"+e.id)}}},[t._v(\" Packed (\"+t._s(e.packing_materials_count)+\") \")]):a(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-primary\",attrs:{type:\"button\"},on:{click:function(a){return t.$bvModal.show(\"packing-form\"+e.id)}}},[t._v(\" Packing \")]),t._l(e.packing_materials,(function(s){return s.quantity_obtained>0?a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.packing_quantity,expression:\"packing_material.packing_quantity\"}],attrs:{type:\"hidden\",name:\"packing_quantity\"+s.id+\"parameter\"+e.id},domProps:{value:s.packing_quantity},on:{input:function(e){e.target.composing||t.$set(s,\"packing_quantity\",e.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+s.id+\"parameter\"+e.id},domProps:{value:s.is_added?\"yes\":\"no\"}}),a(\"input\",{attrs:{type:\"hidden\",name:\"number_of_bags\"+s.id+\"parameter\"+e.id},domProps:{value:s.number_of_bags}})]):t._e()})),a(\"b-modal\",{staticClass:\"packing-form\",attrs:{id:\"packing-form\"+e.id,\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Packing/\"),a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(e.parameter_detail.name))])])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"success\"},on:{click:function(a){return t.$bvModal.hide(\"packing-form\"+e.id)}}},[t._v(\"Save\")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"table\",{staticClass:\"table\"},[a(\"tr\",[a(\"th\",[t._v(\"Material\")]),a(\"th\",[t._v(\"Specs\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Action\")])]),t._l(e.packing_materials,(function(s){return s.quantity_obtained>0?a(\"tr\",{attrs:{for:\"packing_material\"+s.id}},[a(\"td\",{style:s.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(t._s(s.material_detail.name))]),a(\"td\",{style:s.is_added?\"opacity:1\":\"opacity:0.5\"},t._l(s.specifications,(function(e){return e.material_ids.includes(s.material)?a(\"small\",[a(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(e.name))]),t._v(\":\"+t._s(e.value)+\", \")]):t._e()})),0),a(\"td\",{style:s.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\"#Lot\"+t._s(s.packing_material_purchase))]),a(\"td\",{style:s.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.packing_quantity,expression:\"packing_material.packing_quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:s.quantity_obtained,disabled:!s.is_added},domProps:{value:s.packing_quantity},on:{change:function(e){return t.changePackingMaterial(s)},input:function(e){e.target.composing||t.$set(s,\"packing_quantity\",e.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\"},domProps:{value:s.is_added?\"yes\":\"no\"}}),s.packing_quantity>0?a(\"small\",[t._v(\"Number of bags: \"),a(\"b\",[t._v(t._s(s.number_of_bags))])]):t._e(),a(\"input\",{attrs:{type:\"hidden\"},domProps:{value:s.number_of_bags}})]),a(\"td\",[s.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeMaterial(e,s)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addMaterial(e,s)}}},[t._v(\"Add\")])])]):t._e()}))],2)])])])],1)],1)],1)],2):a(\"td\")]):t._e()})),a(\"tr\",[a(\"th\",{staticClass:\"text-right\"},[t._v(\"Total Output : \")]),a(\"td\",[t._v(t._s(t.total_output)+\"Kg/ \"+t._s(t.total_weight)+\"Kg\")]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_output)))]),a(\"td\")]),a(\"tr\",[a(\"th\",{staticClass:\"text-right\"},[t._v(t._s(t.process_detail.have_husk?\"Husk\":\"Loss\")+\" : \")]),a(\"td\",[t._v(t._s(t.total_weight-t.total_output)+\"Kg\")]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_weight-t.total_output)))]),a(\"td\")])],2)])])])])])],1):t._e(),\"unloading\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",[a(\"b-form-group\",{staticClass:\"work_type_option\"},[a(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"wages\",\"contract\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},model:{value:t.form_data.unloading.work_type,callback:function(e){t.$set(t.form_data.unloading,\"work_type\",e)},expression:\"form_data.unloading.work_type\"}})],1),a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input my-0 py-0\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Workers : \")])]),a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Select Workers: \")]),a(\"div\",{staticClass:\"mx-2 workers_box\"},t._l(t.workers,(function(e){return 5==e.job_position?a(\"label\",{staticClass:\"workers_label\",attrs:{for:\"worker\"+e.id}},[a(\"b-form-checkbox\",{attrs:{name:\"workers\",id:\"worker\"+e.id,value:e.id},on:{input:function(e){t.form_data.unloading.total_workers=t.form_data.unloading.workers.length}},model:{value:t.form_data.unloading.workers,callback:function(e){t.$set(t.form_data.unloading,\"workers\",e)},expression:\"form_data.unloading.workers\"}},[a(\"b\",[t._v(\"#\"+t._s(e.id)+\"/\"+t._s(e.name))])])],1):t._e()})),0)]),\"wages\"==t.form_data.unloading.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.total_workers,expression:\"form_data.unloading.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.unloading.total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.working_hourse,expression:\"form_data.unloading.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\",min:\"0\"},domProps:{value:t.form_data.unloading.working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hourse\")])]):a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Total Workers: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.total_workers,expression:\"form_data.unloading.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\",min:\"0\"},domProps:{value:t.form_data.unloading.total_workers},on:{input:[function(e){e.target.composing||t.$set(t.form_data.unloading,\"total_workers\",e.target.value)},function(e){t.form_data.unloading.labour_charge=400*t.form_data.unloading.total_workers/8}]}})]),\"contract\"==t.form_data.unloading.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Labour Charge : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.labour_charge,expression:\"form_data.unloading.labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"labour_charge\",min:\"0\"},domProps:{value:t.form_data.unloading.labour_charge},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"labour_charge\",e.target.value)}}})]):t._e(),\"wages\"==t.form_data.unloading.work_type?a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time : \")])]):t._e(),\"wages\"==t.form_data.unloading.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.overtime_total_workers,expression:\"form_data.unloading.overtime_total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_total_workers\",min:\"0\"},domProps:{value:t.form_data.unloading.overtime_total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"overtime_total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.overtime_working_hourse,expression:\"form_data.unloading.overtime_working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_working_hourse\",min:\"0\"},domProps:{value:t.form_data.unloading.overtime_working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"overtime_working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hourse\")])]):t._e(),\"wages\"==t.form_data.unloading.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"130px\"}},[t._v(\" Number of Labours : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.overtime_total_workers,expression:\"form_data.unloading.overtime_total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_total_workers\",min:\"0\"},domProps:{value:t.form_data.unloading.overtime_total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"overtime_total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.unloading.overtime_working_hourse,expression:\"form_data.unloading.overtime_working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_working_hourse\",min:\"0\"},domProps:{value:t.form_data.unloading.overtime_working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data.unloading,\"overtime_working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hourse\")])]):t._e()])])])],1)]):t._e(),\"stop\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"div\",{staticStyle:{width:\"35%\"}},[t._v(\" Complete process? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"complete_process\",switch:\"\"},model:{value:t.form_data.complete_process,callback:function(e){t.$set(t.form_data,\"complete_process\",e)},expression:\"form_data.complete_process\"}},[a(\"b\",[t._v(t._s(t.form_data.complete_process?\"Yes\":\"No\"))])])],1),t.form_data.complete_process&&t.process_detail.next_process_details.length>0?a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"div\",{staticStyle:{width:\"52%\"}},[t._v(\" Next Process: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.next_process,expression:\"form_data.next_process\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"next_process\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"next_process\",e.target.multiple?a:a[0])}}},t._l(t.next_processes,(function(e){return t.process_detail.next_process_details.includes(e.id)?a(\"option\",{domProps:{value:e.id}},[t._v(\" #\"+t._s(e.sort_order)+\"/\"+t._s(e.name))]):t._e()})),0)]):t._e()])])])],1):t._e()],1)],1)]):a(\"div\",{staticStyle:{height:\"84vh\"}},[t._m(0)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"loader_logo\"},[a(\"img\",{attrs:{src:\"/img/logo.png\",alt:\"logo\"}})]),a(\"div\",{staticClass:\"loading\"})])}],c=(a(\"b680\"),{props:[\"process_detail_id\",\"start_process_id\",\"processing_id\",\"action\",\"is_view\"],components:{ProductFields:o[\"a\"]},data:function(){return{form_data:{id:null,date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],work_type:\"wages\",overtime_hourse_st1:2,machines:[],start_process_detail:{process_products_list:[],main_process_detail:{},firewood_details:{},dryer_details:{}},other_lots:[],lot:null,process_outputs:[],barrel_detail:{},next_process:null,consumable_items_list:[],unloading:{workers:[],work_type:\"wages\",is_over_time:!1}},process_detail:{outputs:[],consumable_items_list:[],inputs:[]},packing_materials:[],barrel_id:null,id:null,product_name:\"\",user_id:6,total_weight:0,total_output:0,workers:[],barrels:[],next_processes:[],stock_parameters:[],is_start:!1}},mounted:function(){this.form_data.date=this.currentDate(),this.processing_id?this.getProcess():this.getProcessDetails(),this.getWorkers(),this.getPackingMaterials()},methods:{getProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+this.processing_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e,t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_detail_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_detail=e,t.form_data.machines=e.machines,t.form_data.contract_labour_charge||(t.form_data.contract_labour_charge=e.production_process_detail.labour_charge),\"stop\"==t.action&&t.nextProcesses(),t.form_data.process_outputs.length<=0&&t.getParameters(),t.form_data.consumable_items_list.length<=0&&(t.form_data.consumable_items_list=e.consumable_items_list),e.have_barrel&&t.getBarrels(),t.getStartProcess()}))},getStartProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/start_process/\"+this.start_process_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.start_process_detail=e;e.processes.forEach((function(t,e){t.id})),e.process_products.length<=0?t.stockParameter():\"input\"==t.action&&(t.action=\"shift\");var a=[],s=null;e.process_products.forEach((function(t,e){0==e&&(s=t.lot),a.push(t.lot)})),t.total_weight=e.total_weight,t.form_data.lot=s,t.form_data.other_lots=a,t.form_data.process_outputs.length>0&&t.calculateQty(),t.is_start=!0}))},getBarrels:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/barrel/?product=\"+this.form_data.product,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,s){e[s][\"quantity\"]=0,e[s][\"quantity_persentage\"]=0,a.process_detail.consumable_items_list.forEach((function(t,a){e[s][\"other\"+t.id]=0}))})),t.barrels=e}))},getParameters:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?outputs=\"+this.process_detail.outputs+\"&start_process=\"+this.start_process_id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,s){e[s].parameter=t.id,e[s].parameter_detail=t,e[s].quantity=0,e[s].quantity_persentage=\"0%\",e[s].quantity_persentage=\"0%\",e[s].packing_materials_count=0,e[s].packing_materials=a.packing_materials})),t.form_data.process_outputs=e,t.calculateQty()}))},calculateQty:function(){var t=0;this.barrels.forEach((function(e,a){t+=parseFloat(e.quantity)})),this.form_data.process_outputs.forEach((function(e,a){\"product\"!=e.parameter_type&&\"main_product\"!=e.parameter_type||(t+=parseFloat(e.quantity))})),this.total_weight=t+this.total_weight,this.total_output=t},calculation:function(t){var e=this,a=0,s=this.form_data.process_outputs;this.form_data.process_outputs=[],s.forEach((function(t,r){if(t.quantity){if(0!=e.total_weight){var o=t.quantity/e.total_weight*100;o=o.toFixed(2),s[r].quantity_persentage=o+\"%\"}\"product\"!=t.parameter_type&&\"main_product\"!=t.parameter_type||(a+=parseFloat(t.quantity))}else s[r].quantity_persentage=\"0%\"})),this.form_data.process_outputs=s,this.total_output=a},CalculatePersentage:function(t){if(t&&0!=this.total_weight){var e=t/this.total_weight*100;return e=e.toFixed(2),e+\"%\"}return\"0%\"},getWorkers:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/workers/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.workers=e}))},dataForm:function(){\"input\"==this.action&&this.createNextProcess(),\"shift\"==this.action?this.processForm():\"machine\"==this.action||\"workers\"==this.action?(this.form_data.status=\"Starting\",\"workers\"==this.action&&this.process_detail.is_restacking&&(this.form_data.status=\"Completed\"),this.processForm()):\"firewood\"==this.action||\"dryer\"==this.action?(this.form_data.status=\"Starting\",this.processForm()):\"consumables\"==this.action?this.consumableStockCreate():\"output\"==this.action?this.createOutput():\"unloading\"==this.action?this.processUnloadingForm():\"stop\"==this.action&&this.completeProcess()},processForm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",a=\"\";this.form_data.id&&(e=\"PUT\",a=this.form_data.id+\"/\");var s=new FormData(this.$refs[\"dataForm\"]);s.append(\"supervisor\",this.user_id),s.append(\"status\",this.form_data.status),s.append(\"start_process\",this.start_process_id);var r=new Headers;r.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+a,{method:e,body:s,headers:r}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.form_data.id=e.id,t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},processUnloadingForm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",a=\"\";this.form_data.unloading.id&&(e=\"PUT\",a=this.form_data.unloading.id+\"/\");var s=new FormData(this.$refs[\"dataForm\"]);s.append(\"process\",this.form_data.id),s.append(\"status\",\"Completed\");var r=new Headers;r.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_unloading/\"+a,{method:e,body:s,headers:r}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.form_data.unloading=e,t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},consumableStockCreate:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/consumable_stock_create/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},getPackingMaterials:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_purchase_materials/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){e.forEach((function(t,a){e[a].is_added=!1,e[a].packing_quantity=0,e[a].number_of_bags=0})),t.packing_materials=e}))},changePackingMaterial:function(t){t.number_of_bags=parseInt(t.packing_quantity/t.max_quantity),t.number_of_bags==t.packing_quantity/t.max_quantity?t.number_of_bags=t.number_of_bags:t.number_of_bags<t.packing_quantity/t.max_quantity&&(t.number_of_bags=t.number_of_bags+1)},createOutput:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_outputs/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},nextProcesses:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/?next_process_detail=\"+this.process_detail.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.next_processes=e,e.length<=0&&t.next_processes.push({id:t.default_packing_id,sort_order:\"\",name:\"Packing\"}),t.form_data.next_process=t.next_processes[0].id}))},completeProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.start_process_id),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/complete_process/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.showAlert(\"Saved Successfully!\"),t.closePopup()):t.showAlert(\"Something Wrong!\")}))},closePopup:function(){this.$emit(\"closePopup\",!0)},stockParameter:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameter_stock/?inputs=\"+this.process_detail.inputs+\"&warehouse=\"+this.form_data.start_process_detail.main_process_detail.warehouse,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.stock_parameters=e}))},addProduct:function(t){t.is_added=!0,t.quantity=t.stock_quantity},removeProduct:function(t){t.is_added=!1,t.quantity=\"\"},addMaterial:function(t,e){e.is_added=!0,t.packing_materials_count++},removeMaterial:function(t,e){e.is_added=!1,t.packing_materials_count--},createNextProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"inputs\",this.process_detail.inputs),e.append(\"start_process\",this.start_process_id),e.append(\"supervisor\",this.user_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_products/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getProcessDetails(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))}}}),d=c,l=(a(\"6a91\"),a(\"2877\")),u=Object(l[\"a\"])(d,i,n,!1,null,null,null),_=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Break\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\",type:\"button\"},on:{click:function(e){return t.closeBreakPopup()}}},[t._v(\"Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{staticClass:\"my-2\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Type: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.break_type,expression:\"form_data.break_type\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"break_type\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"break_type\",e.target.multiple?a:a[0])}}},t._l(t.break_types,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),\"Break Down\"==t.form_data.break_type?a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machine: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine,expression:\"form_data.machine\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"machine\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"machine\",e.target.multiple?a:a[0])}}},t._l(t.machines,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Motors: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine_mototrs,expression:\"form_data.machine_mototrs\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"machine_mototrs\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"machine_mototrs\",e.target.multiple?a:a[0])}}},t._l(t.machine_mototrs,(function(e){return e.machine==t.form_data.machine?a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))]):t._e()})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Date\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_date,expression:\"form_data.start_date\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"date\",autocomplete:\"off\",name:\"start_date\"},domProps:{value:t.form_data.start_date},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_date\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Time\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}})])]):a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.break_time,expression:\"form_data.break_time\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"break_time\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"break_time\",e.target.multiple?a:a[0])}}},t._l(t.break_times,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_date,expression:\"form_data.start_date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"start_date\",readonly:\"\"},domProps:{value:t.form_data.start_date},on:{input:[function(e){e.target.composing||t.$set(t.form_data,\"start_date\",e.target.value)},function(e){t.form_data.end_date=t.form_data.start_date}]}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_date,expression:\"form_data.end_date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"end_date\",readonly:\"\"},domProps:{value:t.form_data.end_date},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_date\",e.target.value)}}})])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})])]),a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Reason: \")]),a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.reason,expression:\"form_data.reason\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"reason\",placeholder:\"Write here\",rows:\"4\"},domProps:{value:t.form_data.reason},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"reason\",e.target.value)}}})])])])])],1)],1)],1)])},m=[],h={props:[\"process_detail_id\",\"processing_id\"],components:{},data:function(){return{form_data:{start_date:null,batch:null,process:null,break_type:\"Break Down\",machine_mototrs:[]},process:{id:null,date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],work_type:\"wages\",is_over_time:!1,machines:[],start_process_detail:{process_products_list:[],main_process_detail:{}},other_lots:[],lot:null,process_outputs:[],barrel_detail:{},next_process:null},process_detail:{outputs:[],consumable_items_list:[],inputs:[]},id:null,action:\"create\",user_id:6,machines:[],machine_mototrs:[],break_types:[\"Break Down\",\"Break Time\"],break_times:[\"Lunch Break\",\"Morning Break\",\"Tea Break\",\"Meeting\",\"Others\"]}},mounted:function(){this.form_data.start_date=this.currentDate(),this.form_data.end_date=this.currentDate(),this.getProcess(),this.getMotors()},methods:{getProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+this.processing_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process=e,t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_detail_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_detail=e,t.machines=e.machines}))},getMachines:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machines/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.machines=e}))},getMotors:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machine_mototrs/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.machine_mototrs=e}))},dataForm:function(){\"create\"==this.action?this.createFormdata():this.updateFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process\",this.processing_id),\"Break Down\"==this.form_data.break_type?e.append(\"status\",\"Maintenance\"):e.append(\"status\",\"Break\");var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.closeBreakPopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process\",this.processing_id),e.append(\"status\",this.form_data.status);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\"+this.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.closeBreakPopup(),t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))},closeBreakPopup:function(){this.$emit(\"closeBreakPopup\",!0)}}},v=h,f=(a(\"cee7\"),Object(l[\"a\"])(v,p,m,!1,null,null,null)),g=f.exports,b={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:o[\"a\"],ProcessingForm:_,BreakDownForm:g},data:function(){return{production_process:{id:null},process_details:[],current_process_detail:{id:null},list_process:!0,warehouse_id:\"\",stock_parameters:[],start_process_id:null,user_id:6,indents:[],packing:{},processing_id:null,load_processing_form:!1,load_break_form:!1,is_view:!1,max_width:\"350px\",action:\"shift\"}},mounted:function(){this.$root.current_section=\"production\",this.production_process.id=this.$route.params.process_id,this.getProductionProcess(),this.getIndents(),this.getWarehouses()},methods:{getProductionProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/production_process/\"+this.production_process.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.production_process=e,t.getProcessDetails()}))},getProcessDetails:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/?production_process=\"+this.production_process.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_details=e,t.setColSize(),t.getPacking()}))},getPacking:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.default_packing_id+\"/?is_packing=true&production_process=\"+this.production_process.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.packing=e}))},setColSize:function(){this.process_details.length;this.max_width=\"350px\"},newProcess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.id?this.selectProcessDetail(t):this.current_process_detail={},this.$bvModal.show(\"list-process\")},selectProcessDetail:function(t){this.current_process_detail=t,this.list_process=!1,this.warehouse_id=t.warehouse,this.stockParameter()},getIndents:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.indents=e}))},stockParameter:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameter_stock/?inputs=\"+this.current_process_detail.inputs+\"&warehouse=\"+this.warehouse_id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.stock_parameters=e}))},addProduct:function(t){t.is_added=!0,t.quantity=t.stock_quantity},removeProduct:function(t){t.is_added=!1,t.quantity=\"\"},createProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"inputs\",this.current_process_detail.inputs),e.append(\"supervisor\",this.user_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/main_process/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getProcessDetails(),t.list_process=!0,t.$bvModal.hide(\"list-process\"),t.startProcess(\"shift\",t.current_process_detail,e),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},startProcess:function(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.action=t,this.current_process_detail=e,this.start_process_id=a.id;var o=\"\";if(s||\"shift\"!=t&&\"dryer\"!=t&&\"firewood\"!=t&&\"unloading\"!=t&&\"stop\"!=t||a.processes.forEach((function(a){\"shift\"!=t||0!=a.process_outputs_count||r||e.is_restacking?s=a.id:o=\"Please complete this shift!\",\"stop\"!=t||0!=a.process_outputs_count||e.is_restacking||(o=\"Please complete this shift!\"),e.is_restacking&&a.workers.length<=0&&(o=\"Please complete this shift!\")})),\"shift\"==t&&a.total_weight<=0&&!r&&(o=\"The input product is over!\"),o)return this.showAlert(o),!1;\"shift\"!=t||r||(s=null),this.processing_id=s,this.is_view=r,this.load_processing_form=!0,this.$bvModal.show(\"start-process\")},closePopup:function(t){t&&(this.load_processing_form=!1,this.$bvModal.hide(\"start-process\"),this.getProcessDetails())},breakDown:function(t){this.current_process_detail=t;var e=null;t.start_processes.forEach((function(t){t.main_process_detail.current_process_detail==t.process_detail&&t.processes.forEach((function(t){e=t.id}))})),e?(this.processing_id=e,this.load_break_form=!0,this.$bvModal.show(\"break-down\")):this.showAlert(\"Please create a shift!\")},closeBreakPopup:function(t){t&&(this.load_break_form=!1,this.$bvModal.hide(\"break-down\"))},scrollLeft:function(){var t=document.querySelector(\".main-scroll\");t.scrollTo({left:t.scrollLeft-=160,behavior:\"smooth\"})},scrollRight:function(){var t=document.querySelector(\".main-scroll\");t.scrollTo({left:t.scrollLeft+=160,behavior:\"smooth\"})}}},y=b,w=(a(\"55ef\"),Object(l[\"a\"])(y,s,r,!1,null,null,null));e[\"default\"]=w.exports}}]);","extractedComments":[]}