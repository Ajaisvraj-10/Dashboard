{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0300bfd4\"],{\"3f70\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Packing Material Purchase\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.goBack()}}},[t._v(\"Discard \")]),a(\"b-dropdown\",{staticClass:\"action-button mx-1\",attrs:{id:\"dropdown-right\",right:\"\",text:\"Action\",variant:\"default\"}},[a(\"b-dropdown-header\",{attrs:{id:\"dropdown-header-label\"}},[a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Delete\")]),a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Duplicate\")])])],1)],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"4\",xl:\"4\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"o_thread_composer  \"},[a(\"div\",{staticClass:\"o_composer_container my-2 row mx-0\"},[a(\"div\",{staticClass:\" col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"WareHouse : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.warehouse,expression:\"form_data.warehouse\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"warehouse\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"warehouse\",e.target.multiple?a:a[0])}}},t._l(t.warehouses,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Vendor Name : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.vendor,expression:\"form_data.vendor\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"vendor\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"vendor\",e.target.multiple?a:a[0])},function(e){return t.createData(\"vendor\")}]}},[t._l(t.vendors,(function(e){return\"Packing Material\"==e.vendor_type?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()})),a(\"option\",{staticStyle:{color:\"green!important\"},attrs:{value:\"create\"}},[t._v(\"Create New Vendor\")])],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Buyer Name : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.buyer,expression:\"form_data.buyer\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"buyer\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"buyer\",e.target.multiple?a:a[0])},function(e){return t.createData(\"buyer\")}]}},[t._l(t.buyers,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),a(\"option\",{staticStyle:{color:\"green!important\"},attrs:{value:\"create\"}},[t._v(\"Create New Buyer\")])],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Department: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.department,expression:\"form_data.department\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"department\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"department\",e.target.multiple?a:a[0])}}},t._l(t.departments,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Tax (Rs): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.tax,expression:\"form_data.tax\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Tax\",type:\"number\",autocomplete:\"off\",name:\"tax\"},domProps:{value:t.form_data.tax},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"tax\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Conversion Charges (Rs): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.conversion_charges,expression:\"form_data.conversion_charges\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Conversion Charge\",type:\"number\",autocomplete:\"off\",name:\"conversion_charges\"},domProps:{value:t.form_data.conversion_charges},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"conversion_charges\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Total Pieces (numbers): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_quantity,expression:\"form_data.total_quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Pieces\",type:\"number\",autocomplete:\"off\",name:\"total_quantity\",readonly:\"\"},domProps:{value:t.form_data.total_quantity},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_quantity\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Total Material Price (Rs): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_price,expression:\"form_data.total_price\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Price\",type:\"number\",autocomplete:\"off\",name:\"total_price\",readonly:\"\"},domProps:{value:t.form_data.total_price},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_price\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Total Price: \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Price\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:parseFloat(t.form_data.total_price)+parseFloat(t.form_data.conversion_charges)+parseFloat(t.form_data.tax)+\"Rs\"}})]),a(\"div\",[a(\"input\",{attrs:{type:\"hidden\",name:\"status\"},domProps:{value:t.form_data.status}})])])])])])])]),a(\"hr\")])])])],1),a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"8\",xl:\"8\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"h5\",[t._v(\"Packing Materials\")]),a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.lineOperation(\"+\")}}},[t._v(\" Add a material \")]),a(\"input\",{attrs:{type:\"hidden\",name:\"keys\"},domProps:{value:t.form_data.values.length}})],1),a(\"div\",{staticClass:\"o_thread_composer  \"},[a(\"div\",{staticClass:\"o_composer_container my-2 row mx-0\",staticStyle:{\"overflow-x\":\"auto\"}},t._l(t.form_data.values,(function(e,r){return a(\"div\",{staticClass:\"col-md-6 px-2\"},[a(\"div\",{staticClass:\"card p-2 my-1\"},[a(\"div\",{staticClass:\"o_thread_search_input px-0\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.material_detail,expression:\"line.material_detail\"}],staticClass:\"ui-autocomplete-input w-100 ml-0\",on:{change:[function(a){var r=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(e,\"material_detail\",a.target.multiple?r:r[0])},function(t){e.material=e.material_detail.id}]}},t._l(t.materials,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e.name))])})),0),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.material,expression:\"line.material\"}],attrs:{type:\"hidden\",name:\"material\"+r},domProps:{value:e.material},on:{input:function(a){a.target.composing||t.$set(e,\"material\",a.target.value)}}}),a(\"div\",{staticClass:\"pb-3\"},[a(\"b-button\",{staticClass:\"ml-2 px-3 py-1 d-sm-block\",attrs:{variant:\"danger\",type:\"button\"},on:{click:function(e){return t.lineOperation(r)}}},[t._v(\" Remove \")])],1)]),a(\"table\",{staticClass:\"table material_table mb-0\"},[a(\"tbody\",[t._l(e.specifications,(function(i,o){return i.material_ids.includes(e.material)?a(\"tr\",[a(\"th\",[t._v(t._s(i.name))]),a(\"td\",[a(\"div\",[i.values?a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.value,expression:\"specification.value\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:i.id+\"value\"+r},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(i,\"value\",e.target.multiple?a:a[0])}}},t._l(i.values,(function(e){return a(\"option\",{domProps:{value:e.value}},[t._v(t._s(e.value))])})),0):a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.value,expression:\"specification.value\"}],attrs:{type:\"checkbox\",name:i.id+\"value\"+r,id:\"check\"+r},domProps:{checked:Array.isArray(i.value)?t._i(i.value,null)>-1:i.value},on:{change:function(e){var a=i.value,r=e.target,o=!!r.checked;if(Array.isArray(a)){var s=null,n=t._i(a,s);r.checked?n<0&&t.$set(i,\"value\",a.concat([s])):n>-1&&t.$set(i,\"value\",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(i,\"value\",o)}}}),t._v(\" \"),a(\"label\",{attrs:{for:\"check\"+r}},[t._v(\" YES\")])])])])]):t._e()})),a(\"tr\",[a(\"th\",[t._v(\"Price (1 piece) Rs.\")]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.price,expression:\"line.price\"}],attrs:{placeholder:\"Price\",type:\"text\",autocomplete:\"off\",name:\"price\"+r,required:\"\"},domProps:{value:e.price},on:{input:[function(a){a.target.composing||t.$set(e,\"price\",a.target.value)},function(e){return t.calcultion()}]}})])]),a(\"tr\",[a(\"th\",[t._v(\"Quantity (number)\")]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.requested_quantity,expression:\"line.requested_quantity\"}],attrs:{placeholder:\"QTY\",type:\"text\",autocomplete:\"off\",name:\"requested_quantity\"+r,required:\"\"},domProps:{value:e.requested_quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"requested_quantity\",a.target.value)},function(e){return t.calcultion()}]}})])])],2)])])])})),0)])]),a(\"hr\")])])])],1)],1)],1),a(\"div\",[a(\"b-modal\",{attrs:{id:\"create-vendor\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"form\",{ref:\"createVendor\",on:{submit:function(e){return e.preventDefault(),t.createVendor()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Vendor\")])])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"create-vendor\")}}},[t._v(\" Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{},[a(\"div\",{staticClass:\"user-info pt-2 pb-5\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"div\",{staticStyle:{width:\"50px\"}},[t._v(\"Name: \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"}})]),a(\"div\",[a(\"input\",{attrs:{type:\"hidden\",name:\"vendor_type\",value:\"Packing Material\"}})])])])])])])],1)],1)],1)]),a(\"b-modal\",{attrs:{id:\"create-buyer\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[a(\"form\",{ref:\"createBuyer\",on:{submit:function(e){return e.preventDefault(),t.createBuyer()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Create Buyer\")])])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"create-buyer\")}}},[t._v(\" Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{},[a(\"div\",{staticClass:\"user-info pt-2 pb-5\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"div\",{staticStyle:{width:\"50px\"}},[t._v(\"Name: \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"name\",required:\"\"}})])])])])])])],1)],1)],1)])],1)])},i=[],o=(a(\"4160\"),a(\"a434\"),a(\"b0c0\"),a(\"d3b7\"),a(\"159b\"),a(\"ddb0\"),a(\"4dbf\")),s={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:o[\"a\"]},data:function(){return{form_data:{warehouse:null,tax:0,conversion_charges:0,values:[],total_quantity:0,total_price:0,status:\"Ordered\"},id:null,action:\"create\",materials:[],specifications:[],departments:[],vendors:[],buyers:[],selected_materials:[]}},mounted:function(){this.$root.current_section=\"inventory\",this.action=this.$route.params.action,\"edit\"==this.action?(this.id=this.$route.params.id,this.getForm()):this.$route.query.selected_materials&&(this.selected_materials=this.$route.query.selected_materials,this.getPackingRequests()),this.getMaterials(),this.getSpecifications(),this.getDepartments(),this.getVendors(),this.getBuyers(),this.getWarehouses()},methods:{getForm:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_purchase/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e}))},getMaterials:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.materials=e}))},getPackingRequests:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent_packing_details/?ids=\"+this.selected_materials,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.values=e}))},getSpecifications:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.specifications=e}))},getDepartments:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.departments=e}))},getVendors:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/vendors/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.vendors=e}))},createVendor:function(){var t=this,e=new FormData(this.$refs[\"createVendor\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/vendors/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getVendors(),t.form_data.vendor=e.id,t.$bvModal.hide(\"create-vendor\"),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},getBuyers:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/buyers/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.buyers=e}))},createBuyer:function(){var t=this,e=new FormData(this.$refs[\"createBuyer\"]),a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/buyers/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getBuyers(),t.form_data.buyer=e.id,t.$bvModal.hide(\"create-buyer\"),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},createData:function(t){\"vendor\"==t?\"create\"==this.form_data.vendor&&(this.form_data.vendor=\"\",this.$bvModal.show(\"create-vendor\")):\"buyer\"==t&&\"create\"==this.form_data.buyer&&(this.form_data.buyer=\"\",this.$bvModal.show(\"create-buyer\"))},lineOperation:function(t){if(\"+\"==t){var e=[];this.specifications.forEach((function(t,a){\"Packing Material\"==t.specification_for&&e.push({id:t.id,name:t.name,value:\"\",is_values:t.is_values,values:t.values,material_ids:t.material_ids})})),this.form_data.values.push({material:this.materials[0].id,requested_quantity:0,price:0,max_quantity:0,specifications:e,material_detail:this.materials[0]}),this.total_keys++}else this.form_data.values.splice(t,1),this.total_keys--;this.calcultion()},calcultion:function(){var t=0,e=0;this.form_data.values.forEach((function(a,r){t+=parseFloat(a.requested_quantity),e+=parseFloat(a.price)*parseFloat(a.requested_quantity)})),this.form_data.total_quantity=t,this.form_data.total_price=e},createMaterialsFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"packing_material\",this.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_purchase_materials/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?t.showAlert(\"Saved Successfully!\"):t.showAlert(\"Something Wrong!\")}))},dataForm:function(){\"create\"==this.action?this.createFormdata():this.updateFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"warehouse\",this.form_data.warehouse);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_purchase/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.id=e.id,t.createMaterialsFormdata(),t.showAlert(\"Saved Successfully!\"),t.getBack()):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"warehouse\",this.form_data.warehouse);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_purchase/\"+this.id+\"/\",{method:\"PUT\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?t.createMaterialsFormdata():t.showAlert(\"Something Wrong!\")}))}}},n=s,c=(a(\"a6d7\"),a(\"bfb5\"),a(\"2877\")),u=Object(c[\"a\"])(n,r,i,!1,null,null,null);e[\"default\"]=u.exports},\"4dbf\":function(t,e,a){\"use strict\";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},i=[],o=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:\"\",product_type_id:\"\"}},mounted:function(){this.product_id?this.getProduct():(this.product_id=\"\",this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=\"\",this.selectProduct()}}}),s=o,n=a(\"2877\"),c=Object(n[\"a\"])(s,r,i,!1,null,null,null);e[\"a\"]=c.exports},a6d7:function(t,e,a){\"use strict\";var r=a(\"f976\"),i=a.n(r);i.a},b0c0:function(t,e,a){var r=a(\"83ab\"),i=a(\"9bf2\").f,o=Function.prototype,s=o.toString,n=/^\\s*function ([^ (]*)/,c=\"name\";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return s.call(this).match(n)[1]}catch(t){return\"\"}}})},bfb5:function(t,e,a){\"use strict\";var r=a(\"fc41\"),i=a.n(r);i.a},ddb0:function(t,e,a){var r=a(\"da84\"),i=a(\"fdbc\"),o=a(\"e260\"),s=a(\"9112\"),n=a(\"b622\"),c=n(\"iterator\"),u=n(\"toStringTag\"),d=o.values;for(var l in i){var p=r[l],m=p&&p.prototype;if(m){if(m[c]!==d)try{s(m,c,d)}catch(v){m[c]=d}if(m[u]||s(m,u,l),i[l])for(var h in o)if(m[h]!==o[h])try{s(m,h,o[h])}catch(v){m[h]=o[h]}}}},f976:function(t,e,a){},fc41:function(t,e,a){}}]);","extractedComments":[]}