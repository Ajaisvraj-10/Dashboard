{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6f4a670a\"],{\"2e4b\":function(t,e,a){},3928:function(t,e,a){\"use strict\";var i=a(\"2e4b\"),s=a.n(i);s.a},\"8c73\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Inspection\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[\"view\"!=t.action?a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Save \")]):t._e(),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.action=\"edit\"}}},[t._v(\"Edit \")]),a(\"router-link\",{attrs:{to:\"/app/fpo/farmers\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1),a(\"b-dropdown\",{staticClass:\"action-button mx-1\",attrs:{id:\"dropdown-right\",right:\"\",text:\"Action\",variant:\"default\"}},[a(\"b-dropdown-header\",{attrs:{id:\"dropdown-header-label\"}},[a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Delete\")]),a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Duplicate\")])])],1)],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[a(\"b-card\",{staticClass:\"card-scroll mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"mb-2\"},[t._v(\"Inspection:\")]),a(\"div\",{staticClass:\"card \"},[a(\"div\",{staticClass:\"p-4\"},[a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"FPO:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500\"},t._l(t.types,(function(e){return t.form_data.type==e.id?a(\"span\",{staticClass:\"badge badge-primary \"},[t._v(t._s(e.name))]):t._e()})),0)]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"ICS:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500\"},[a(\"span\",{staticClass:\"badge badge-primary \"},[t._v(t._s(t.form_data.farmer_detail.ics_name))])])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"VFC:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500\"},[a(\"span\",{staticClass:\"badge badge-primary\"},[t._v(t._s(t.form_data.farmer_detail.vfc_name))])])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Farmer Name:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500\"},[t._v(t._s(t.form_data.farmer_detail.name))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Farmer Code:\")]),a(\"h2\",{staticClass:\" badge badge-success  mx-3 \"},[t._v(t._s(t.form_data.farmer_detail.farmer_code))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Status:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.form_data.farmer_detail.status))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Date of previous inspection:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.dateFormate(t.form_data.date_of_previous_inspection)))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14 px-0  col-7 text-light\"},[t._v(\"Date of inspection:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.dateFormate(t.form_data.date_of_inspection)))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Inspector:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.form_data.inspector_detail.name))])]),a(\"div\",{staticClass:\"row mx-0 pb-3\"},[a(\"h2\",{staticClass:\"text-14  px-0 col-7 text-light\"},[t._v(\"Phone:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.form_data.inspector_detail.phone))])])])])])],1),a(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[a(\"b-card\",{staticClass:\"card-scroll mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"mb-2\"},[t._v(\"Land Details:\")]),a(\"div\",{staticClass:\"card \"},[a(\"div\",{staticClass:\"p-4\"},[a(\"div\",{staticClass:\" row mx-0  pb-2\"},[a(\"h2\",{staticClass:\"text-14  col-5 p-0 text-light\"},[t._v(\"Survey Number:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.survey_number))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14 col-5 p-0  text-light\"},[t._v(\"Year:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.year))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14 col-5 p-0  text-light\"},[t._v(\"Total Organic Area:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.organic_area))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14  col-5 p-0 text-light\"},[t._v(\"Conventional Land Area:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.conventional_land_area))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14   col-5 p-0 text-light\"},[t._v(\"Wet Land:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.wet_land))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14   col-5 p-0 text-light\"},[t._v(\"Other Land:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.other_land))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14   col-5 p-0 text-light\"},[t._v(\"Total Farming Area:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.lands.total_farming_area))])]),a(\"div\",{staticClass:\"row mx-0  pb-3 align-items-center\"},[a(\"h2\",{staticClass:\"text-14   col-5 p-0 text-light\"},[t._v(\"File:\")]),t.form_data.lands.file?a(\"div\",{staticClass:\"text-14 col-7 font-weight-500 \"},[a(\"img\",{staticClass:\"rounded\",staticStyle:{\"object-fit\":\"cover\"},attrs:{src:t.form_data.lands.file,width:\"150\",height:\"40\"}})]):t._e()])])])])],1),a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"mb-2\"},[t._v(\"Plant Details:\")]),t._l(t.categories,(function(e){return a(\"div\",{staticClass:\"row mx-0\"},t._l(e.plants,(function(e,i){return e.number?a(\"div\",{staticClass:\"card col-4\"},[a(\"div\",{staticClass:\"p-4\"},[a(\"div\",{staticClass:\" row mx-0  pb-2\"},[a(\"h2\",{staticClass:\"text-14  col-7 p-0 text-light\"},[t._v(t._s(e.name)+\" Number:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(e.number))])]),a(\"div\",{staticClass:\"row mx-0  pb-3\"},[a(\"h2\",{staticClass:\"text-14 col-7 p-0  text-light\"},[t._v(\"Year:\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(t.form_data.plants.year))])]),t._l(e.products,(function(i,s){return a(\"div\",{staticClass:\"row mx-0 pb-2\"},[a(\"h2\",{staticClass:\"text-14  col-7 p-0 text-light\"},[t._v(\"Estimate \"+t._s(i.product_type_detail.name)+\":\")]),a(\"h2\",{staticClass:\"text-14 col-5 font-weight-500 \"},[t._v(t._s(e[\"estimate\"+i.product_type+e.id]))])])}))],2)]):t._e()})),0)}))],2)],1),t._l(t.q_categories,(function(e,i){return a(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[a(\"b-card\",{staticClass:\"card-scroll mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"mb-2\"},[t._v(t._s(e.name)+\":\")]),a(\"div\",{staticClass:\"card \"},t._l(e.questions,(function(e){return a(\"div\",{staticClass:\"px-4 pb-1\"},[a(\"div\",{staticClass:\" mx-0  py-2 my-1 border-bottom\"},[a(\"h2\",{staticClass:\"text-14  pb-2 text-light\"},[a(\"b\",[t._v(\"Q)\")]),t._v(\" \"+t._s(e.name))]),a(\"h2\",{staticClass:\"text-14 font-weight-500 \"},[t._v(t._s(e.answers.answer))])]),e.remark?a(\"div\",{staticClass:\"mx-0  py-2 my-1 border-bottom\"},[a(\"h2\",{staticClass:\"text-14 pb-2  text-light\"},[t._v(t._s(e.remark))]),a(\"h2\",{staticClass:\"text-14 font-weight-500 \"},[t._v(t._s(e.answers.remark))])]):t._e(),\"File\"==e.field?a(\"div\",{staticClass:\"mx-0  py-2 my-1\"},[a(\"h2\",{staticClass:\"text-14   p-0 text-light\"},[t._v(\"Photo\")]),a(\"div\",{staticClass:\"text-14 font-weight-500 mt-3\"},[a(\"img\",{staticClass:\"rounded\",staticStyle:{\"object-fit\":\"cover\"},attrs:{src:e.answers.answer}})])]):t._e()])})),0)])],1)})),a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"mb-2\"},[t._v(\"Digital Sign:\")]),a(\"div\",{staticClass:\"card mb-5\"},[a(\"div\",{staticClass:\"p-4\"},[a(\"div\",{staticClass:\" row mx-0  pb-2\"},[a(\"h2\",{staticClass:\"text-14  col-5 p-0 text-light\"},[t._v(\"Name:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.verifyer_name))])]),\"Other\"==t.form_data.verifyer?a(\"div\",{staticClass:\" row mx-0  pb-2\"},[a(\"h2\",{staticClass:\"text-14  col-5 p-0 text-light\"},[t._v(\"Relationship:\")]),a(\"h2\",{staticClass:\"text-14 col-7 font-weight-500 \"},[t._v(t._s(t.form_data.relationship))])]):t._e(),a(\"div\",{staticClass:\"row mx-0  pb-3 align-items-center\"},[a(\"h2\",{staticClass:\"text-14   col-12 p-0 text-light\"},[t._v(\"Photo:\")]),t.form_data.photo?a(\"div\",{staticClass:\"text-14 col-12 font-weight-500 mt-4 text-center\"},[a(\"img\",{staticClass:\"rounded\",staticStyle:{\"object-fit\":\"cover\"},attrs:{src:t.form_data.photo,width:\"150\",height:\"auto\"}})]):t._e()])])])])],1)],2)],1)])},s=[],n=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),a(\"ef87\")),o={metaInfo:{title:\"FPO - ICS\"},components:{LocationFields:n[\"a\"]},data:function(){return{form_data:{year:2022,type:null,ics:null,vfc:null,farmer:null,farmer_detail:{lands:{created_on:null}},internal_inspector:null,inspector_detail:{phone:\"\"},date_of_inspection:\"\",lands:[]},types:[],icss:[],vfcs:[],farmers:[],inspectors:[],categories:[],q_categories:[],id:this.$route.params.id,action:\"view\",not_start:!0}},mounted:function(){this.$root.current_section=\"fpo\",this.action=this.$route.params.action,this.getTypes(),\"edit\"!=this.action&&\"view\"!=this.action||(this.id=this.$route.params.id,this.getInspection())},methods:{getTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/get_farmer_by_vfc/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){if(t.types=e,t.not_start=!1,t.id){var a=t;setTimeout((function(){a.change_select(\"type\"),a.change_select(\"ics\"),a.change_select(\"vfc\"),a.change_select(\"farmer\"),a.change_select(\"inspector\")}),500)}}))},getFarmer:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/farmers/\"+this.form_data.farmer+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.farmer_detail=e,t.form_data.type=e.fpo,t.form_data.ics=e.ics,t.form_data.vfc=e.vfc;var a=t;setTimeout((function(){a.change_select(\"type\"),a.change_select(\"ics\"),a.change_select(\"vfc\"),a.change_select(\"farmer\")}),500)}))},getInspection:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/inspection/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e,t.getPlants(),t.getQuestions()}))},getPlants:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/plant_categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,i){t.plants.forEach((function(t,s){e[i].plants[s][\"number\"]=\"\",t.products.forEach((function(n,o){e[i].plants[s][\"estimate\"+n.product_type+t.id]=\"\",a.setEstimate(t,n)}))}))})),t.categories=e}))},setEstimate:function(t,e){if(this.form_data.plants.id){var a=this.form_data.plants.plants;a.forEach((function(a){e.id==a.product&&(t[\"number\"]=a.number,t[\"estimate\"+e.product_type+t.id]=a.estimate)}))}},getQuestions:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/add_answers/?inspection=\"+this.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){e.forEach((function(t,a){t.questions.forEach((function(t,i){t.answers||(e[a].questions[i][\"answers\"][\"answer\"]=\"\",e[a].questions[i][\"answers\"][\"remark\"]=\"\")}))})),t.q_categories=e}))},change_select:function(t){var e=\"\",a=this;\"type\"==t?(e=this.form_data.type,this.types.forEach((function(t){t.id==e&&(a.icss=t.ics)}))):\"ics\"==t?(e=this.form_data.ics,this.icss.forEach((function(t){t.id==e&&(a.vfcs=t.vfc)}))):\"vfc\"==t?e=this.form_data.vfc:\"inspector\"==t&&(e=this.form_data.internal_inspector,this.inspectors.forEach((function(t){t.id==e&&(a.form_data.inspector_detail=t)})))}}},l=o,r=(a(\"3928\"),a(\"2877\")),c=Object(r[\"a\"])(l,i,s,!1,null,null,null);e[\"default\"]=c.exports},ef87:function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[t.location_limit>1?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Country: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.country_id,expression:\"country_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"country\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.country_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(1)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a country\")]),t._l(t.countries,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]):t._e(),t.location_limit>2?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" State: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.state_id,expression:\"state_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"state\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.state_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(2)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a state\")]),t._l(t.states,(function(e){return e.country==t.country_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>3?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" District: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.district_id,expression:\"district_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"district\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.district_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(3)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a district\")]),t._l(t.districts,(function(e){return e.state==t.state_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>4?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Panchayath: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.panchayath_id,expression:\"panchayath_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"panchayath\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.panchayath_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(4)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a panchayath\")]),t._l(t.panchayaths,(function(e){return e.district==t.district_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>5?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Revenue Village: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.revenue_village_id,expression:\"revenue_village_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"revenue_village\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.revenue_village_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(5)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a revenue village\")]),t._l(t.revenue_villages,(function(e){return e.panchayath==t.panchayath_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>6?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Local Village: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.local_village_id,expression:\"local_village_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"local_village\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.local_village_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(6)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a local village\")]),t._l(t.local_villages,(function(e){return e.revenue_village==t.revenue_village_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>7?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Post Office: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.post_office_id,expression:\"post_office_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"post_office\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.post_office_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(7)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a post office\")]),t._l(t.post_offices,(function(e){return e.local_village==t.local_village_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e()])},s=[],n=(a(\"d3b7\"),{props:[\"id\",\"location_limit\",\"readonly\"],data:function(){return{countries:[],states:[],districts:[],panchayaths:[],revenue_villages:[],local_villages:[],post_offices:[],country_id:null,state_id:null,district_id:null,panchayath_id:null,revenue_village_id:null,local_village_id:null,post_office_id:null,loc_type:\"\"}},mounted:function(){1==this.location_limit?this.loc_type=\"countries\":2==this.location_limit?this.loc_type=\"state\":3==this.location_limit?this.loc_type=\"district\":4==this.location_limit?this.loc_type=\"panchayath\":5==this.location_limit?this.loc_type=\"revenue_village\":6==this.location_limit?this.loc_type=\"local_village\":this.location_limit>=7&&(this.loc_type=\"post_office\"),this.id?this.getLocation():(this.getCountries(),this.getStates(),this.getDistricts(),this.getPanchayaths(),this.getRevenueVillages(),this.getLocalVillage(),this.getPostOffices())},methods:{getLocation:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/\"+this.loc_type+\"/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=e;t.location_limit>=7&&(t.post_office_id=a.id,a=a.local_village_detail),t.location_limit>=6&&(t.local_village_id=a.id,a=a.revenue_village_detail),t.location_limit>=5&&(t.revenue_village_id=a.id,a=a.panchayath_detail),t.location_limit>=4&&(t.panchayath_id=a.id,a=a.district_detail),t.location_limit>=3&&(t.district_id=a.id,a=a.state_detail),t.location_limit>=2&&(t.state_id=a.id,a=a.country_detail),t.location_limit>=1&&(t.country_id=a.id),t.getCountries(),t.getStates(),t.getDistricts(),t.getPanchayaths(),t.getRevenueVillages(),t.getLocalVillage(),t.getPostOffices()}))},getCountries:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/countries/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.countries=e}))},getStates:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/state/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.states=e}))},getDistricts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/district/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.districts=e}))},getPanchayaths:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/panchayath/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.panchayaths=e}))},getRevenueVillages:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/revenue_village/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.revenue_villages=e}))},getLocalVillage:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/local_village/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.local_villages=e}))},getPostOffices:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/post_office/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.post_offices=e}))},restLocation:function(t){t<7&&(this.post_office_id=null),t<6&&(this.local_village_id=null),t<5&&(this.$emit(\"panchayathId\",this.panchayath_id),this.revenue_village_id=null),t<4&&(this.panchayath_id=null),t<3&&(this.district_id=null),t<2&&(this.state_id=null),t<1&&(this.country_id=null)}}}),o=n,l=a(\"2877\"),r=Object(l[\"a\"])(o,i,s,!1,null,null,null);e[\"a\"]=r.exports}}]);","extractedComments":[]}