{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-df86bd88\"],{\"2e4b\":function(t,e,a){},3928:function(t,e,a){\"use strict\";var i=a(\"2e4b\"),n=a.n(i);n.a},\"8c73\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(\"Inspection\")]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[\"view\"!=t.action?a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(t._s(4==t.tab_key?\"Save & Finish\":\"Save & Next\")+\" \")]):t._e(),\"view\"==t.action?a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.action=\"edit\"}}},[t._v(\"Edit \")]):a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.action=\"view\"}}},[t._v(\"View \")]),a(\"router-link\",{attrs:{to:\"/app/fpo/inspections\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1)],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-tabs\",{attrs:{card:\"\"},model:{value:t.tab_key,callback:function(e){t.tab_key=e},expression:\"tab_key\"}},[a(\"b-tab\",{attrs:{title:\"Inspection\",active:0==t.tab_key}},[a(\"b-row\",{staticClass:\"inspection-scroll pt-1\"},[a(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"o_thread_composer  \"},[a(\"div\",{staticClass:\"o_composer_container my-2 row mx-0\"},[a(\"div\",{staticClass:\" col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" AEO: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.aeo,expression:\"form_data.aeo\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"aeo\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"aeo\",e.target.multiple?a:a[0])},function(e){t.form_data.type=1,t.change_select(\"type\")}]}},t._l(t.aeos,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" FPO: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.type,expression:\"form_data.type\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"type\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"type\",e.target.multiple?a:a[0])},function(e){return t.change_select(\"type\")}]}},t._l(t.types,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" ICS: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.ics,expression:\"form_data.ics\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"ics\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"ics\",e.target.multiple?a:a[0])},function(e){return t.change_select(\"ics\")}]}},t._l(t.icss,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" VFC: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.vfc,expression:\"form_data.vfc\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"vfc\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"vfc\",e.target.multiple?a:a[0])},function(e){return t.change_select(\"vfc\")}]}},t._l(t.vfcs,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Inspector: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.internal_inspector,expression:\"form_data.internal_inspector\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"internal_inspector\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"internal_inspector\",e.target.multiple?a:a[0])},function(e){return t.change_select(\"inspector\")}]}},t._l(t.inspectors,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Inspector Phone: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.inspector_detail.phone,expression:\"form_data.inspector_detail.phone\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Phone\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.form_data.inspector_detail.phone},on:{input:function(e){e.target.composing||t.$set(t.form_data.inspector_detail,\"phone\",e.target.value)}}})])])])])])]),a(\"hr\")])],1),a(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"o_thread_composer  \"},[a(\"div\",{staticClass:\"o_composer_container my-2 row mx-0\"},[a(\"div\",{staticClass:\" col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Farmer: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.farmer,expression:\"form_data.farmer\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"farmer\",disabled:\"view\"==t.action},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"farmer\",e.target.multiple?a:a[0])},function(e){return t.change_select(\"farmer\")}]}},t._l(t.farmers,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Farmer Code: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.farmer_detail.farmer_code,expression:\"form_data.farmer_detail.farmer_code\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Farmer Code\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.form_data.farmer_detail.farmer_code},on:{input:function(e){e.target.composing||t.$set(t.form_data.farmer_detail,\"farmer_code\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Status: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.farmer_detail.status,expression:\"form_data.farmer_detail.status\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Status\",type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.form_data.farmer_detail.status},on:{input:function(e){e.target.composing||t.$set(t.form_data.farmer_detail,\"status\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Year: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.year,expression:\"form_data.year\"}],staticClass:\"ui-autocomplete-input\",attrs:{type:\"text\",name:\"year\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.form_data.year},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"year\",e.target.value)}}})]),t.form_data.date_of_previous_inspection?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Date of Previous Inspection: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.date_of_previous_inspection,expression:\"form_data.date_of_previous_inspection\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Phone\",type:\"text\",autocomplete:\"off\",name:\"date_of_previous_inspection\",readonly:\"\"},domProps:{value:t.form_data.date_of_previous_inspection},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"date_of_previous_inspection\",e.target.value)}}})]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Date of Inspection: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.date_of_inspection,expression:\"form_data.date_of_inspection\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Phone\",type:\"text\",autocomplete:\"off\",name:\"date_of_inspection\",readonly:\"\"},domProps:{value:t.form_data.date_of_inspection},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"date_of_inspection\",e.target.value)}}})])])])])])]),a(\"hr\")])],1)],1)],1),a(\"b-tab\",{attrs:{title:\"Land Details\",disabled:!t.id}},[1==t.tab_key?a(\"b-row\",{staticClass:\"inspection-scroll pt-1\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-1 px-2\"}),a(\"div\",{staticClass:\" col-md-8\"},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Survey Number: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.survey_number,expression:\"form_data.lands.survey_number\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Survey Number\",type:\"text\",autocomplete:\"off\",name:\"survey_number\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.survey_number},on:{input:function(e){e.target.composing||t.$set(t.form_data.lands,\"survey_number\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Organic Area (ha): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.organic_area,expression:\"form_data.lands.organic_area\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Organic Area\",type:\"text\",autocomplete:\"off\",name:\"organic_area\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.organic_area},on:{input:[function(e){e.target.composing||t.$set(t.form_data.lands,\"organic_area\",e.target.value)},function(e){return t.totalLands()}]}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Conventional Land Area(ha): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.conventional_land_area,expression:\"form_data.lands.conventional_land_area\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Conventional Land Area\",type:\"text\",autocomplete:\"off\",name:\"conventional_land_area\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.conventional_land_area},on:{input:[function(e){e.target.composing||t.$set(t.form_data.lands,\"conventional_land_area\",e.target.value)},function(e){return t.totalLands()}]}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Wet Land(ha): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.wet_land,expression:\"form_data.lands.wet_land\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Wet Land\",type:\"text\",autocomplete:\"off\",name:\"wet_land\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.wet_land},on:{input:[function(e){e.target.composing||t.$set(t.form_data.lands,\"wet_land\",e.target.value)},function(e){return t.totalLands()}]}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Other Land(ha): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.other_land,expression:\"form_data.lands.other_land\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Other Land\",type:\"text\",autocomplete:\"off\",name:\"other_land\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.other_land},on:{input:[function(e){e.target.composing||t.$set(t.form_data.lands,\"other_land\",e.target.value)},function(e){return t.totalLands()}]}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Total Farming Area(ha): \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.lands.total_farming_area,expression:\"form_data.lands.total_farming_area\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Farming Area\",type:\"text\",autocomplete:\"off\",name:\"total_farming_area\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.lands.total_farming_area},on:{input:function(e){e.target.composing||t.$set(t.form_data.lands,\"total_farming_area\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"File: \")]),\"view\"==t.action?a(\"p\",[t.form_data.lands.file?a(\"a\",{attrs:{href:\"form_data.lands.file\"}},[t._v(\"View File\")]):a(\"span\",{staticClass:\"text-danger\"},[t._v(\"No file\")])]):a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{type:\"file\"}})])])])]),a(\"hr\")])])])],1)],1):t._e()],1),a(\"b-tab\",{attrs:{title:\"Plant&Crops Details\",disabled:!t.id}},[2==t.tab_key?a(\"b-row\",{staticClass:\"inspection-scroll pt-1\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-1 px-2\"}),a(\"div\",{staticClass:\" col-md-10\"},t._l(t.categories,(function(e){return a(\"div\",{staticClass:\"user-info pt-5\"},[e.plants.length>0?a(\"b\",{staticClass:\"text-bold\"},[t._v(t._s(e.name))]):t._e(),t._l(e.plants,(function(e,i){return e.number||\"view\"!=t.action?a(\"div\",{staticClass:\"row px-3\"},[a(\"div\",{staticClass:\"o_thread_search_input col-md-5\"},[\"Area\"==e.plant_unit?a(\"div\",{staticStyle:{width:\"150px\"}},[a(\"span\",[t._v(t._s(e.name)+\" \"+t._s(e.plant_unit)+\": \")]),a(\"div\",{staticClass:\"pl-0\",staticStyle:{zoom:\"0.7\"}},[a(\"b-form-group\",{staticClass:\"yes_or_no_btn\"},[a(\"b-form-radio-group\",{attrs:{options:[\"Hectare\",\"Acre\"],\"button-variant\":\"outline-secondary\",name:\"land_unit\"+e.id,buttons:\"\"},model:{value:e.land_unit,callback:function(a){t.$set(e,\"land_unit\",a)},expression:\"plant.land_unit\"}})],1)],1)]):a(\"div\",{staticStyle:{width:\"150px\"}},[a(\"span\",{staticStyle:{width:\"150px\"}},[t._v(t._s(e.name)+\" \"+t._s(e.plant_unit)+\": \")]),a(\"input\",{attrs:{type:\"hidden\",name:\"land_unit\"+e.id,value:\"Number\"}})]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.number,expression:\"plant.number\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:e.approximate?\"Approx: \"+e.approximate:\"Enter a number\",type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"number\"+e.id,readonly:\"view\"==t.action},domProps:{value:e.number},on:{input:[function(a){a.target.composing||t.$set(e,\"number\",a.target.value)},function(a){return t.calculateEstimation(e)}]}})]),t._l(e.products,(function(i,n){return a(\"div\",{staticClass:\"o_thread_search_input\",class:0==n?\"col-md-4\":\"col-md-3\"},[0==n?a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\"Estimate Qty: \")]):t._e(),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(t._s(i.product_type_detail.name))]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e[\"estimate\"+i.product_type+e.id],expression:\"plant['estimate'+product.product_type+plant.id]\"}],staticClass:\"ui-autocomplete-input append_btn_input_left append_btn_input_right\",attrs:{placeholder:e[\"approximate\"+i.product_type+e.id]?\"Approximate :\"+e[\"approximate\"+i.product_type+e.id]:\"\",type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"estimate\"+i.product_type+e.id,readonly:\"view\"==t.action,min:\"0\"},domProps:{value:e[\"estimate\"+i.product_type+e.id]},on:{keyup:function(a){return t.checkMax(e,i.product_type)},input:function(a){a.target.composing||t.$set(e,\"estimate\"+i.product_type+e.id,a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"KG\")])])}))],2):t._e()}))],2)})),0)]),a(\"hr\")])])])],1)],1):t._e()],1),a(\"b-tab\",{attrs:{title:\"Question/Answes\",disabled:!t.id}},[3==t.tab_key?a(\"b-row\",{staticClass:\"inspection-scroll pt-1\"},t._l(t.q_categories,(function(e,i){return i==t.current_key||\"view\"==t.action?a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\",id:\"questionAnswers\"+e.id}},[a(\"b-card\",{staticClass:\"card-scroll mb-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"h5\",{staticClass:\"text-center\"},[t._v(t._s(e.name))]),a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-1 px-2\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.id,expression:\"q_category.id\"}],attrs:{type:\"hidden\",id:\"q_cat_id\"+t.current_key},domProps:{value:e.id},on:{input:function(a){a.target.composing||t.$set(e,\"id\",a.target.value)}}})]),a(\"div\",{staticClass:\" col-md-10\"},t._l(e.questions,(function(i){return a(\"div\",{staticClass:\"my-3\"},[a(\"h5\",{staticClass:\" pt-2\"},[a(\"b\",[t._v(\"Q :\")]),t._v(\" \"+t._s(i.name))]),\"Boolean\"==i.field?a(\"div\",[\"view\"==t.action?a(\"button\",{staticClass:\"btn py-1\",class:\"YES\"==i.answers.answer?\"btn-success\":\"btn-danger\"},[t._v(t._s(i.answers.answer))]):a(\"b-form-group\",{staticClass:\"yes_or_no_btn\"},[a(\"b-form-radio-group\",{attrs:{options:[\"YES\",\"NO\"],\"button-variant\":\"outline-success\",name:\"answer\"+i.id,buttons:\"\"},model:{value:i.answers.answer,callback:function(e){t.$set(i.answers,\"answer\",e)},expression:\"question.answers.answer\"}})],1),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.answers.answer,expression:\"question.answers.answer\"}],class:\"check_field_\"+e.id,attrs:{type:\"hidden\",required:\"\"},domProps:{value:i.answers.answer},on:{input:function(e){e.target.composing||t.$set(i.answers,\"answer\",e.target.value)}}})],1):\"Textarea\"==i.field?a(\"div\",[a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.answers.answer,expression:\"question.answers.answer\"}],staticClass:\"form-control2 form-control\",attrs:{placeholder:\"Answer\",name:\"answer\"+i.id,readonly:\"view\"==t.action},domProps:{value:i.answers.answer},on:{input:function(e){e.target.composing||t.$set(i.answers,\"answer\",e.target.value)}}})]):\"File\"==i.field?a(\"div\",[a(\"div\",{staticClass:\"prepend-1\"},[a(\"b-input-group\",{scopedSlots:t._u([{key:\"append\",fn:function(){return[t._v(\" Browse \")]},proxy:!0}],null,!0)},[a(\"input\",{staticClass:\"form-control\",attrs:{type:\"file\",name:\"answer\"+i.id,disabled:\"view\"==t.action}})])],1)]):t._e(),i.remark?a(\"div\",[a(\"h5\",{staticClass:\"py-2\"},[t._v(t._s(i.remark))]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.answers.remark,expression:\"question.answers.remark\"}],staticClass:\"ui-autocomplete-input w-50 px-2\",staticStyle:{height:\"40px\"},attrs:{type:\"text\",autocomplete:\"off\",placeholder:\"Remark\",name:\"remark\"+i.id,readonly:\"view\"==t.action},domProps:{value:i.answers.remark},on:{input:function(e){e.target.composing||t.$set(i.answers,\"remark\",e.target.value)}}})]):t._e()])})),0)])])])],1):t._e()})),1):t._e()],1),a(\"b-tab\",{attrs:{title:\"Digital Sign\",disabled:!t.id}},[4==t.tab_key?a(\"b-row\",{staticClass:\"inspection-scroll pt-1\"},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-1 px-2\"}),a(\"div\",{staticClass:\" col-md-10\"},[a(\"div\",{staticClass:\"my-3 \"},[a(\"div\",{staticClass:\"mb-4\"},[a(\"b-form-group\",{staticClass:\"yes_or_no_btn\"},[a(\"b-form-radio-group\",{attrs:{options:[\"Farmer\",\"Other\"],\"button-variant\":\"outline-info\",name:\"verifyer\",buttons:\"\"},model:{value:t.form_data.verifyer,callback:function(e){t.$set(t.form_data,\"verifyer\",e)},expression:\"form_data.verifyer\"}})],1)],1),\"Farmer\"==t.form_data.verifyer?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Farmer: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.farmer_detail.name,expression:\"form_data.farmer_detail.name\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"verifyer_name\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.farmer_detail.name},on:{input:function(e){e.target.composing||t.$set(t.form_data.farmer_detail,\"name\",e.target.value)}}})]):a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Name: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.verifyer_name,expression:\"form_data.verifyer_name\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Name\",type:\"text\",autocomplete:\"off\",name:\"verifyer_name\",required:\"\",readonly:\"view\"==t.action},domProps:{value:t.form_data.verifyer_name},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"verifyer_name\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Realtion: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.relationship,expression:\"form_data.relationship\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"relationship\",disabled:\"view\"==t.action},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"relationship\",e.target.multiple?a:a[0])}}},t._l([\"Wife\",\"Husband\",\"Son\",\"Daughter\",\"Parent\",\"Other Family Member\"],(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e))])})),0)])]),a(\"div\",{staticClass:\"o_thread_search_input mt-4\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Photo: \")]),t.form_data.photo?a(\"p\",[a(\"img\",{staticClass:\"rounded\",staticStyle:{\"object-fit\":\"cover\"},attrs:{src:t.form_data.photo,width:\"150\",height:\"auto\"}})]):t._e()]),\"view\"!=t.action?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}}),a(\"label\",{staticClass:\"w-100\"},[a(\"div\",{staticClass:\"prepend-1 camera-input\"},[a(\"b-input-group\",{staticStyle:{\"flex-direction\":\"column\"},scopedSlots:t._u([{key:\"append\",fn:function(){return[t._v(\" Upload Photo \")]},proxy:!0}],null,!1,3732393020)},[a(\"input\",{staticClass:\"form-control text-center w-100\",attrs:{type:\"file\",placeholder:\"Browse\",name:\"photo\",required:\"\"}})])],1)])]):t._e()])])])])])],1)],1):t._e()],1)],1)],1)])},n=[],o=(a(\"4160\"),a(\"b0c0\"),a(\"d3b7\"),a(\"159b\"),a(\"ef87\")),s={metaInfo:{title:\"FPO - ICS\"},components:{LocationFields:o[\"a\"]},data:function(){return{form_data:{id:null,year:this.this_year,type:null,ics:null,vfc:null,farmer:null,farmer_detail:{status:\"\",farmer_code:\"\",lands:{created_on:null}},internal_inspector:null,inspector_detail:{phone:\"\"},date_of_inspection:\"\",lands:{total_farming_area:0,year:this.this_year},plants:{year:this.this_year}},types:[],icss:[],vfcs:[],farmers:[],inspectors:[],categories:[],q_categories:[],current_key:0,current_photo:\"\",aeos:[],id:this.$route.params.id,action:\"view\",not_start:!0,tab_key:0,active_btn:!0}},mounted:function(){this.$root.current_section=\"fpo\",this.action=this.$route.params.action,this.form_data.date_of_inspection=this.currentDate(),this.getInspector(),this.getFamrerTypes(),this.getAeos(),this.id?this.getInspection():this.getPlants()},methods:{getAeos:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/aeo/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.aeos=e}))},getFamrerTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/get_farmer_by_vfc/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){if(t.types=e,t.not_start=!1,t.change_select(\"type\"),t.id){var a=t;setTimeout((function(){a.change_select(\"ics\"),a.change_select(\"vfc\"),a.change_select(\"farmer\"),a.change_select(\"inspector\")}),500)}}))},getFarmers:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/get_farmer_by_vfc/?vfc=\"+this.form_data.vfc,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.farmers=e,t.not_start=!1}))},getFarmer:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/farmers/\"+this.form_data.farmer+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){e.status||(e.status=\"NEW\"),t.form_data.farmer_detail=e,t.form_data.type=e.fpo,t.form_data.ics=e.ics,t.form_data.vfc=e.vfc;var a=t;setTimeout((function(){a.change_select(\"type\"),a.change_select(\"ics\"),a.change_select(\"vfc\"),a.change_select(\"farmer\")}),500)}))},getInspector:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/internal_inspector/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.inspectors=e}))},dataForm:function(){0==this.tab_key||4==this.tab_key?this.inspectionFormdata():1==this.tab_key?this.landFormdata():2==this.tab_key?this.plantFormdata():3==this.tab_key&&this.addAnswers()},inspectionFormdata:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\";if(!this.form_data.internal_inspector)return this.showAlert(\"Please select an inspector!\"),!1;var a=\"\";this.id&&(a=this.id+\"/\",e=\"PUT\"),this.not_start=!0;var i=new Headers;i.append(\"Authorization\",\"Token \"+this.$root.token);var n=new FormData(this.$refs[\"dataForm\"]);fetch(this.api_url+\"/fpo/inspection/\"+a,{method:e,headers:i,body:n}).then((function(t){return t.json()})).then((function(e){if(e.id>0){t.form_data=e,t.id=e.id;var a=t;t.getQuestions(),setTimeout((function(){a.tab_key++}),400),t.showAlert(\"Saved Successfully!\")}else t.showAlert(\"Something Wrong!\")}))},getInspection:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/inspection/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data=e,t.getPlants(),t.getQuestions()}))},totalLands:function(){var t=0;this.form_data.lands.organic_area&&(t+=parseFloat(this.form_data.lands.organic_area)),this.form_data.lands.conventional_land_area&&(t+=parseFloat(this.form_data.lands.conventional_land_area)),this.form_data.lands.wet_land&&(t+=parseFloat(this.form_data.lands.wet_land)),this.form_data.lands.other_land&&(t+=parseFloat(this.form_data.lands.other_land)),this.form_data.lands.total_farming_area=t},landFormdata:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",a=\"\";this.form_data.lands.id&&(e=\"PUT\",a=this.form_data.lands.id+\"/\");var i=new FormData(this.$refs[\"dataForm\"]);i.append(\"farmer\",this.form_data.farmer),i.append(\"inspection\",this.form_data.id);var n=new Headers;n.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/land_details/\"+a,{method:e,body:i,headers:n}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.tab_key++,t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},plantFormdata:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"POST\",a=\"\";this.form_data.plants.id&&(e=\"PUT\",a=this.form_data.plants.id+\"/\");var i=new FormData(this.$refs[\"dataForm\"]);i.append(\"farmer\",this.form_data.farmer),i.append(\"inspection\",this.form_data.id);var n=new Headers;n.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/plants/\"+a,{method:e,body:i,headers:n}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.tab_key++,t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},getPlants:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/plant_categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,i){t.plants.forEach((function(t,n){e[i].plants[n][\"number\"]=\"\",t.products.forEach((function(o,s){e[i].plants[n][\"estimate\"+o.product_type+t.id]=\"\",e[i].plants[n][\"land_unit\"]=\"Number\",\"Area\"==t.plant_unit&&(e[i].plants[n][\"land_unit\"]=\"Hectare\"),a.setEstimate(t,o)})),\"Robusta Plant\"==t.name&&\"\"==t.number&&(e[i].plants[n][\"approximate\"]=1125*a.form_data.lands.organic_area,a.calculateEstimation(t))}))})),t.categories=e}))},calculateEstimation:function(t){t.number>t.approximate&&t.approximate&&(t.number=\"\"),t.products.forEach((function(e,a){t[\"approximate\"+e.product_type+t.id]=t.number*e.constant})),this.checkMax(t)},checkMax:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=0,i=0,n=document.getElementById(\"check_field_plant\"+t.id);n&&(n.style.border=\"1px solid #eff0f6\"),t.products.forEach((function(e,o){\"Robusta Plant\"==t.name&&(1==e.product_type?i=t[\"estimate\"+e.product_type+t.id]:2==e.product_type&&(a=t[\"estimate\"+e.product_type+t.id])),t[\"estimate\"+e.product_type+t.id]>t[\"approximate\"+e.product_type+t.id]&&0!=t[\"approximate\"+e.product_type+t.id]&&(t[\"estimate\"+e.product_type+t.id]=\"\"),t.number||(t[\"estimate\"+e.product_type+t.id]=\"\",n&&\"\"==n.value&&(n.style.border=\"1px red solid\"))})),\"Robusta Plant\"==t.name&&e&&2==e&&(a?(i=2.8*a,\"\"!=t[\"estimate2\"+t.id]?t[\"estimate1\"+t.id]=this.decimalNumber(i):t[\"estimate1\"+t.id]=\"\"):t[\"estimate1\"+t.id]=\"\")},setEstimate:function(t,e){if(\"edit\"==this.action){var a=this.form_data.plants;a.forEach((function(a){e.id==a.product&&(t[\"number\"]=a.number,t[\"estimate\"+e.product_type+t.id]=a.estimate)}))}},getQuestions:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/add_answers/?inspection=\"+this.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){e.forEach((function(t,a){t.questions.forEach((function(t,i){t.answers||(e[a].questions[i][\"answers\"][\"answer\"]=\"\",e[a].questions[i][\"answers\"][\"remark\"]=\"\")}))})),t.q_categories=e}))},addAnswers:function(){for(var t=this,e=document.getElementById(\"q_cat_id\"+this.current_key).value,a=document.getElementsByClassName(\"check_field_\"+e),i=!1,n=0;n<a.length;n++)a[n].style.border=\"none\",\"\"==a[n].value&&(i=!0);if(i)return this.showAlert(\"Please select an option!\"),!1;var o=new Headers;o.append(\"Authorization\",\"Token \"+this.$root.token);var s=new FormData(this.$refs[\"dataForm\"]);s.append(\"inspection\",this.id),s.append(\"category\",e),this.active_btn=!1,fetch(this.api_url+\"/employee/add_answers/\",{method:\"post\",headers:o,body:s}).then((function(t){return t.json()})).then((function(e){t.current_key+1<t.categories.length?(t.current_key=t.current_key+1,t.active_btn=!0,t.showAlert(\"Saved Successfully!\")):(t.showAlert(\"Saved Successfully!\"),t.tab_key++)}))},change_select:function(t){var e=\"\",a=this.form_data,i=this;\"type\"==t?(e=a.type,this.types.forEach((function(t){t.id==e&&(i.icss=t.ics)}))):\"ics\"==t?(e=a.ics,this.icss.forEach((function(t){t.id==e&&(i.vfcs=t.vfc)}))):\"vfc\"==t?(e=a.vfc,this.getFarmers()):\"farmer\"==t?(e=a.farmer,this.farmers.forEach((function(t){t.id==e&&(a.farmer_detail=t)}))):\"inspector\"==t&&(e=a.internal_inspector,this.inspectors.forEach((function(t){t.id==e&&(a.inspector_detail=t)}))),this.form_data=a}}},r=s,l=(a(\"3928\"),a(\"2877\")),c=Object(l[\"a\"])(r,i,n,!1,null,null,null);e[\"default\"]=c.exports},b0c0:function(t,e,a){var i=a(\"83ab\"),n=a(\"9bf2\").f,o=Function.prototype,s=o.toString,r=/^\\s*function ([^ (]*)/,l=\"name\";i&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return\"\"}}})},ef87:function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[t.location_limit>1?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Country: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.country_id,expression:\"country_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"country\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.country_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(1)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a country\")]),t._l(t.countries,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]):t._e(),t.location_limit>2?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" State: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.state_id,expression:\"state_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"state\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.state_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(2)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a state\")]),t._l(t.states,(function(e){return e.country==t.country_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>3?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" District: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.district_id,expression:\"district_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"district\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.district_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(3)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a district\")]),t._l(t.districts,(function(e){return e.state==t.state_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>4?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Panchayath: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.panchayath_id,expression:\"panchayath_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"panchayath\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.panchayath_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(4)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a panchayath\")]),t._l(t.panchayaths,(function(e){return e.district==t.district_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>5?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Revenue Village: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.revenue_village_id,expression:\"revenue_village_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"revenue_village\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.revenue_village_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(5)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a revenue village\")]),t._l(t.revenue_villages,(function(e){return e.panchayath==t.panchayath_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>6?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Local Village: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.local_village_id,expression:\"local_village_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"local_village\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.local_village_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(6)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a local village\")]),t._l(t.local_villages,(function(e){return e.revenue_village==t.revenue_village_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e(),t.location_limit>7?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Post Office: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.post_office_id,expression:\"post_office_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"post_office\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.post_office_id=e.target.multiple?a:a[0]},function(e){return t.restLocation(7)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a post office\")]),t._l(t.post_offices,(function(e){return e.local_village==t.local_village_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]):t._e()])},n=[],o=(a(\"d3b7\"),{props:[\"id\",\"location_limit\",\"readonly\"],data:function(){return{countries:[],states:[],districts:[],panchayaths:[],revenue_villages:[],local_villages:[],post_offices:[],country_id:null,state_id:null,district_id:null,panchayath_id:null,revenue_village_id:null,local_village_id:null,post_office_id:null,loc_type:\"\"}},mounted:function(){1==this.location_limit?this.loc_type=\"countries\":2==this.location_limit?this.loc_type=\"state\":3==this.location_limit?this.loc_type=\"district\":4==this.location_limit?this.loc_type=\"panchayath\":5==this.location_limit?this.loc_type=\"revenue_village\":6==this.location_limit?this.loc_type=\"local_village\":this.location_limit>=7&&(this.loc_type=\"post_office\"),this.id?this.getLocation():(this.getCountries(),this.getStates(),this.getDistricts(),this.getPanchayaths(),this.getRevenueVillages(),this.getLocalVillage(),this.getPostOffices())},methods:{getLocation:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/\"+this.loc_type+\"/\"+this.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=e;t.location_limit>=7&&(t.post_office_id=a.id,a=a.local_village_detail),t.location_limit>=6&&(t.local_village_id=a.id,a=a.revenue_village_detail),t.location_limit>=5&&(t.revenue_village_id=a.id,a=a.panchayath_detail),t.location_limit>=4&&(t.panchayath_id=a.id,a=a.district_detail),t.location_limit>=3&&(t.district_id=a.id,a=a.state_detail),t.location_limit>=2&&(t.state_id=a.id,a=a.country_detail),t.location_limit>=1&&(t.country_id=a.id),t.getCountries(),t.getStates(),t.getDistricts(),t.getPanchayaths(),t.getRevenueVillages(),t.getLocalVillage(),t.getPostOffices()}))},getCountries:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/countries/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.countries=e}))},getStates:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/state/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.states=e}))},getDistricts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/district/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.districts=e}))},getPanchayaths:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/panchayath/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.panchayaths=e}))},getRevenueVillages:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/revenue_village/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.revenue_villages=e}))},getLocalVillage:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/local_village/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.local_villages=e}))},getPostOffices:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/fpo/post_office/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.post_offices=e}))},restLocation:function(t){t<7&&(this.post_office_id=null),t<6&&(this.local_village_id=null),t<5&&(this.$emit(\"panchayathId\",this.panchayath_id),this.revenue_village_id=null),t<4&&(this.panchayath_id=null),t<3&&(this.district_id=null),t<2&&(this.state_id=null),t<1&&(this.country_id=null)}}}),s=o,r=a(\"2877\"),l=Object(r[\"a\"])(s,i,n,!1,null,null,null);e[\"a\"]=l.exports}}]);","extractedComments":[]}