{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2739b22e\"],{\"019c\":function(t,e,a){\"use strict\";var n=a(\"0d6e\"),s=a.n(n);s.a},\"0d6e\":function(t,e,a){},\"684e\":function(t,e,a){\"use strict\";var n=a(\"c4c2\"),s=a.n(n);s.a},c4c2:function(t,e,a){},d18f:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content capcee-plan\",class:\"open2\"==t.$root.plan_open?\"open_plan\":\"\"},[a(\"div\",{staticClass:\"site-wrapper\"},[a(\"div\",{staticClass:\"plan-container\"},[a(\"i\",{staticClass:\"fa fa-close text-dark\",staticStyle:{position:\"absolute\",top:\"6%\",right:\"2%\",\"font-size\":\"20px\"},on:{click:function(e){t.$root.plan_open=\"close2\"}}}),\"plans\"==t.crnt_tab?a(\"div\",{staticClass:\"plan-sec p-4 \"},[a(\"h6\",{staticClass:\"text-dark text-18 font-weight-500 text-center mb-3 pb-3\"},[t._v(\"Choose your premium plan\")]),a(\"div\",{staticClass:\"plan-card row mx-0\"},[a(\"div\",{staticClass:\"col-md-12 plan-card-col\"},[a(\"h6\",{staticClass:\"text-20 font-weight-700 text-dark my-2 mb-4\"},[t._v(\"Watch Ad-free with \"+t._s(t.current_plan.name))]),t._m(0),t._m(1),a(\"div\",{staticClass:\"plan-items\"},[a(\"h6\",{staticClass:\"plans\"},[t._v(t._s(t.current_plan.device)+\" Device\")]),a(\"i\",{staticClass:\"fa fa-check\"})])]),a(\"div\",{staticClass:\"col-md-12 plan-card-col pt-3\",staticStyle:{display:\"flex\",width:\"100%\",gap:\"20px\",overflow:\"auto\"}},t._l(t.plans,(function(e){return a(\"div\",{staticClass:\"plans-card mb-3\",style:e.id==t.current_plan.id?\"background: #e7e7e7;border:2px solid #004d9a; border-radius:6px;\":\"background:  #e7e7e7;border-radius:6px;border:2px solid transparent;\",on:{click:function(a){t.current_plan=e}}},[a(\"div\",{staticClass:\"px-3 py-2 rounded2-top position-relative\"},[t._e(),a(\"div\",{staticClass:\"d-flex align-items-center justify-content-center mt-2 \"},[a(\"div\",[a(\"div\",{staticClass:\"text-dark  font-weight-600  text-14\"},[t._v(\" \"+t._s(e.duration)+\" \"+t._s(e.date_type)+\" plan \")])]),a(\"div\",{staticClass:\"d-flex\"},[e.id==t.current_plan.id?[t._m(2,!0)]:[a(\"i\",{staticClass:\"ml-2 bg-light flex-align2 rounded-circle text-dark\",staticStyle:{display:\"none\"},on:{click:function(a){t.current_plan=e}}})]],2)])]),a(\"div\",{staticClass:\"rounded2-bottom  p-2 pt-0 text-center text-dark text-14 font-weight-500\"},[a(\"div\",{staticClass:\"text-12\"},[t._v(\" \"+t._s(e.description)+\" \")]),a(\"div\",{staticClass:\"text-12 mt-2\"},[a(\"span\",{staticClass:\"text-dark text-20 font-weight-600 \"},[t._v(t._s(e.currency_symbol)+t._s(e.price))])])])])})),0),a(\"div\",{staticClass:\"purchase-button\"},[t.current_plan.id?a(\"button\",{staticClass:\"btn btn-primary w-100 rounded2 py-2\",on:{click:function(e){t.getPaymentMethods(),t.crnt_tab=\"payment_methods\"}}},[t._v(\"Continue with \"+t._s(t.current_plan.currency_symbol)+t._s(t.current_plan.price))]):t._e()])])]):t._e(),\"payment_methods\"==t.crnt_tab?a(\"div\",{staticClass:\"plan-sec2 p-4\"},[a(\"div\",{staticClass:\"plan-card2 row mx-0\"},[a(\"div\",{staticClass:\"col-md-12 plan-card-col\"},[a(\"h6\",{staticClass:\"text-20 font-weight-700 my-2 mb-4\"},[t._v(\"Select Payment Method\")]),t._l(t.payment_methods,(function(e){return a(\"button\",{staticClass:\"btn btn-primary rounded2 py-2 w-100 my-2\",on:{click:function(a){t.setRazorpay(e),t.crnt_tab=\"pay\"}}},[t._v(t._s(e.name))])})),a(\"h6\",{staticClass:\"text-center text-12 mt-2\",on:{click:function(e){t.crnt_tab=\"plans\"}}},[t._v(\"Change plan\")]),a(\"div\",{staticClass:\"or-sec\"},[t._v(\"Or\")]),t._m(3)],2)])]):t._e(),\"pay\"==t.crnt_tab?a(\"div\",{staticClass:\"plan-sec2 p-4\"},[a(\"div\",{staticClass:\"plan-card2 row mx-0\"},[a(\"div\",{staticClass:\"col-md-12 plan-card-col\"},[a(\"h6\",{staticClass:\"text-22 font-weight-600 my-2 mb-4\"},[t._v(t._s(t.current_method.name))]),a(\"div\",{staticClass:\"text-center\"},[a(\"img\",{staticStyle:{height:\"100px\"},attrs:{src:t.current_method.logo}})]),a(\"h3\",{staticClass:\"text-success text-center\"},[t._v(t._s(t.current_plan.currency_symbol)+t._s(t.current_plan.price))]),t.razorpay_options.key?a(\"button\",{staticClass:\"btn btn-primary rounded2 py-2 w-100 my-2\",on:{click:function(e){return t.purchasePlan()}}},[t._v(\"Pay Now\")]):t._e(),a(\"h6\",{staticClass:\"text-center text-12 mt-2\",on:{click:function(e){t.crnt_tab=\"payment_methods\"}}},[t._v(\"Change method\")])])])]):t._e()])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"plan-items\"},[a(\"h6\",{staticClass:\"plans\"},[t._v(\"2800+ Blockbuster Movies\")]),a(\"i\",{staticClass:\"fa fa-check\"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"plan-items\"},[a(\"h6\",{staticClass:\"plans\"},[t._v(\"150+ Web Series\")]),a(\"i\",{staticClass:\"fa fa-check\"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"choose-btn\"},[a(\"i\",{staticClass:\"fa fa-check  rounded-circle\"}),t._v(\" Choosed \")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"d-flex justify-content-center plans-social-icons my-3\",staticStyle:{gap:\"20px\"}},[a(\"img\",{staticStyle:{width:\"40px\"},attrs:{src:\"/vspn/images/apple.svg\"}}),a(\"img\",{staticStyle:{width:\"40px\"},attrs:{src:\"/vspn/images/google.svg\"}}),a(\"img\",{staticStyle:{width:\"40px\"},attrs:{src:\"/vspn/images/fb.svg\"}}),a(\"img\",{staticStyle:{width:\"40px\"},attrs:{src:\"/vspn/images/twitter.svg\"}})])}],i=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),{props:[\"edit\",\"blocks\",\"current_block\"],data:function(){return{start:!1,current_page:{},menu_click:!1,crnt_tab:\"plans\",plans:[],current_plan:{},payment_methods:[],current_method:{},razorpay_options:{key:\"\",amount:\"\",currency:\"\",name:\"Purchase Now\",order_id:\"\",callback_url:\"\"}}},mounted:function(){this.edit?this.start=!0:(this.edit=!1,this.blocks=[{},{},{}],this.getPage()),console.log(this.userId),this.getPlans()},methods:{getPlans:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/content/plans/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.plans=e,e.length>0&&(t.current_plan=e[0])}))},createPlan:function(){var t=this,e=new FormData;e.append(\"user\",this.userId),e.append(\"plan\",this.current_plan.id),e.append(\"price\",this.current_plan.price);var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/users/user_plans/\",{method:\"post\",headers:a,body:e}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.showAlert(\"Plan purchased successfully!\"),t.$router.push(\"/\")):t.showAlert(\"Something Wrong!\")}))},getPaymentMethods:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/content/payment_settings/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.payment_methods=e}))},setRazorpay:function(t){var e=this;this.$root.token||this.$router.push(\"/sign-in\"),this.current_method=t;var a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/payments/razorpay_payment/?data_type=plan&plan_id=\"+this.current_plan.id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(t){e.razorpay_options={key:t.razorpay_merchant_key,amount:t.razorpay_amount,currency:t.currency,name:\"Purchase Now\",order_id:t.razorpay_order_id,callback_url:e.api_url+t.callback_url}}))},purchasePlan:function(t){var e=new Razorpay(this.razorpay_options);e.open(),t.preventDefault()},getPage:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/content/pages_contents/?theme=\"+theme_name+\"&page=/plan\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.current_page=e,t.blocks=e.blocks,t.start=!0}))},selectContent:function(t){this.edit&&(this.blocks.forEach((function(t){t.is_edit=!1})),t.is_edit=!0,this.$emit(\"selectedContent\",t))}}}),r=i,c=(a(\"019c\"),a(\"684e\"),a(\"2877\")),o=Object(c[\"a\"])(r,n,s,!1,null,\"e7136a0c\",null);e[\"default\"]=o.exports}}]);","extractedComments":[]}