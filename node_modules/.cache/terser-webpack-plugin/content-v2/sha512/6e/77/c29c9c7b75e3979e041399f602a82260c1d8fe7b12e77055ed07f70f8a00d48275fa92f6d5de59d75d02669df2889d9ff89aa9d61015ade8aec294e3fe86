{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-30e5da38\"],{\"72d1\":function(t,a,e){},a3cb:function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.slugToWord(\"machine-issues\")))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Fixed \")]),e(\"router-link\",{attrs:{to:\"/app/maintenance/machine-issues/\"}},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\",type:\"button\"}},[t._v(\"Discard \")])],1)],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"5\",xl:\"5\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Break Type: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.break_type,expression:\"form_data.break_type\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"text\",autocomplete:\"off\",name:\"break_type\",readonly:\"\"},domProps:{value:t.form_data.break_type},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"break_type\",a.target.value)}}})]),\"Break Down\"==t.form_data.break_type?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machine: \")]),e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{type:\"text\",autocomplete:\"off\",readonly:\"\"},domProps:{value:t.form_data.machine_detail.name}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine,expression:\"form_data.machine\"}],attrs:{type:\"hidden\",name:\"machine\"},domProps:{value:t.form_data.machine},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"machine\",a.target.value)}}})]),\"Break Down\"==t.form_data.break_type?e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Motors: \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machine_mototrs,expression:\"form_data.machine_mototrs\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"machine_mototrs\",multiple:\"\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"machine_mototrs\",a.target.multiple?e:e[0])}}},t._l(t.machine_mototrs,(function(a){return t.form_data.machine_mototrs.includes(a.id)?e(\"option\",{domProps:{value:a.id}},[t._v(\" \"+t._s(a.name))]):t._e()})),0)]):t._e(),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Break Start Date: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_date,expression:\"form_data.start_date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"00:01\",type:\"date\",autocomplete:\"off\",name:\"start_date\",readonly:\"\"},domProps:{value:t.form_data.start_date},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"start_date\",a.target.value)}}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Break Start Time: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"start_time\",readonly:\"\"},domProps:{value:t.form_data.start_time},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"start_time\",a.target.value)}}})])]):t._e(),e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Reason: \")]),e(\"textarea\",{staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"reason\",placeholder:\"Write here\",rows:\"4\",readonly:\"\"}},[t._v(t._s(t.form_data.reason))])])])])])],1),e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"7\",xl:\"7\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Fixed Date: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_date,expression:\"form_data.end_date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"00:01\",type:\"date\",autocomplete:\"off\",name:\"end_date\",required:\"\"},domProps:{value:t.form_data.end_date},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"end_date\",a.target.value)}}})]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Fixed Time: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\",required:\"\"},domProps:{value:t.form_data.end_time},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"end_time\",a.target.value)}}})]),e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" What is the isssue?: \")]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.what_is_the_isssue,expression:\"form_data.what_is_the_isssue\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"what_is_the_isssue\",placeholder:\"Write here\",rows:\"5\"},domProps:{value:t.form_data.what_is_the_isssue},on:{input:function(a){a.target.composing||t.$set(t.form_data,\"what_is_the_isssue\",a.target.value)}}})])])])])],1)],1)],1)])},o=[],i=(e(\"d3b7\"),{components:{},data:function(){return{form_data:{start_date:null,batch:null,process:null,break_type:\"\",machine_mototrs:[]},id:null,action:\"create\",user_id:6,machines:[],machine_mototrs:[]}},mounted:function(){this.action=this.$route.params.action,\"edit\"==this.action&&(this.id=this.$route.params.id,this.getForm()),this.getMotors()},methods:{getForm:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\"+this.id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data=a,t.form_data.end_date||(t.form_data.end_date=t.currentDate())}))},getMotors:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machine_mototrs/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.machine_mototrs=a}))},dataForm:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]);a.append(\"supervisor\",this.form_data.supervisor),a.append(\"process\",this.form_data.process),a.append(\"status\",\"Fixed\");var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/break_down/\"+this.id+\"/\",{method:\"PUT\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.id>0?t.showAlert(\"Saved Successfully!\"):t.showAlert(\"Something Wrong!\")}))}}}),r=i,n=(e(\"ebf4\"),e(\"2877\")),d=Object(n[\"a\"])(r,s,o,!1,null,null,null);a[\"default\"]=d.exports},ebf4:function(t,a,e){\"use strict\";var s=e(\"72d1\"),o=e.n(s);o.a}}]);","extractedComments":[]}