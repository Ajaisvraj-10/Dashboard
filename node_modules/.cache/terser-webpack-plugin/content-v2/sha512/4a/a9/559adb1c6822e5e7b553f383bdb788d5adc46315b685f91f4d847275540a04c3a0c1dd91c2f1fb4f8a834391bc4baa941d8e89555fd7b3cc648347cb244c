{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-818813b2\"],{\"64e0\":function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content main-content2 task-sec task-tag\"},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[t._m(0)]),a(\"div\",{staticStyle:{\"margin-top\":\"-10px\"}},[a(\"b-card\",{attrs:{\"body-class\":\"p-0\"}},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",{staticClass:\"d-flex justify-content-between align-items-center\"},[a(\"b\",{staticClass:\"pl-2 d-flex align-items-center cursor-pointer w-100\",on:{click:function(e){return t.$refs.tag_input.focus()}}},[a(\"i\",{staticClass:\"fa fa-tags mx-1 text-primary\",staticStyle:{\"font-size\":\"18px\"}}),a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_tag.name,expression:\"current_tag.name\"}],ref:\"tag_input\",staticClass:\"style-input \",attrs:{name:\"name\",placeholder:\"Add a tag\",required:\"\"},domProps:{value:t.current_tag.name},on:{input:function(e){e.target.composing||t.$set(t.current_tag,\"name\",e.target.value)}}})]),a(\"div\",{staticClass:\"d-flex align-items-center border-left pl-3\"},[a(\"input\",{staticClass:\"color-style1 style-input-color\",attrs:{name:\"color\",type:\"color\",value:\"#43da86\"}}),a(\"label\",{staticClass:\"mb-0 text-info pl-2\"},[t._v(\"Pick a Color\")])])]),a(\"div\",{staticClass:\"todo-add px-3 py-2\"},[a(\"button\",{staticClass:\"btn\",attrs:{type:\"submit\"}},[t._v(\"+ Add\")])])])])])],1)],2),a(\"div\",{staticClass:\"separator-breadcrumb border-top\"})]),a(\"b-row\",{staticStyle:{\"margin-top\":\"-20px\"}},[a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"div\",{staticClass:\"mb-2\"},[a(\"div\",{staticClass:\"my-2 row\"},t._l(t.tags,(function(e){return a(\"div\",{staticClass:\"col-md-2 pr-0\"},[a(\"div\",{staticClass:\"card p-2\"},[a(\"div\",{staticClass:\"d-flex mt-1\"},[a(\"button\",{staticClass:\"btn btn-tag w-100\",staticStyle:{padding:\"5px!important\"},style:\"background-color:\"+e.color+\"!important;color:\"+t.bgToTextColor(e.color)},[t._v(\" \"+t._s(e.name)+\" \")]),e.is_delete?a(\"i\",{staticClass:\"fa fa-trash-o cursor-pointer ml-1\",staticStyle:{\"font-size\":\"16px\"},on:{click:function(a){return t.deleteTag(e)}}}):t._e()]),a(\"hr\",{staticClass:\"my-2\"}),a(\"div\",{staticClass:\"sub_tags mx-2\"},t._l(e.sub_tags,(function(e){return a(\"div\",{staticClass:\"d-flex\"},[a(\"button\",{staticClass:\"btn btn-tag mb-1 w-100\",style:\"background-color:\"+e.color+\"!important;color:\"+t.bgToTextColor(e.color)},[t._v(\" \"+t._s(e.name)+\" \")]),e.is_delete?a(\"i\",{staticClass:\"fa fa-trash-o cursor-pointer ml-1\",staticStyle:{\"font-size\":\"16px\"},on:{click:function(a){return t.deleteTag(e)}}}):t._e()])})),0),a(\"hr\",{staticClass:\"my-1\"}),a(\"form\",{staticClass:\"card p-2\",attrs:{id:\"dataForm\"+e.id},on:{submit:function(a){return a.preventDefault(),t.dataForm(e)}}},[a(\"div\",{staticClass:\"d-flex \"},[a(\"i\",{staticClass:\"fa fa-tags ml-1 text-primary\",staticStyle:{\"padding-top\":\"6px\"}}),a(\"input\",{staticClass:\"w-100 border-0\",attrs:{name:\"name\",placeholder:\"Add sub tag\",required:\"\"}}),a(\"input\",{staticClass:\"color-style1 p-0\",staticStyle:{appearance:\"none\",\"background-color\":\"transparent\",border:\"none\"},attrs:{name:\"color\",type:\"color\",value:\"#43da86\"}}),a(\"button\",{staticClass:\"btn btn-tag w-50 m-1\",staticStyle:{\"background-color\":\"#303e70!important\",color:\"#fff\"},attrs:{type:\"submit\"}},[t._v(\" Add \")])])])])])})),0)])])],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Task \"),a(\"span\",{staticClass:\"text-success\"},[t._v(\"/Tags\")])])])}],o=(a(\"d3b7\"),{metaInfo:{},data:function(){return{tags:[],current_tag:{}}},mounted:function(){this.$root.current_section=\"task\",this.getTags()},methods:{getTags:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/?main_tag=true\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.tags=e}))},dataForm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null},a=new FormData(this.$refs[\"dataForm\"]);e.id&&(a=new FormData(document.getElementById(\"dataForm\"+e.id)),a.append(\"main_tag\",e.id)),a.append(\"not_deleted\",1);var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\",{method:\"POST\",body:a,headers:s}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getTags(),t.showAlert(\"Added Successfully!\")):t.showAlert(\"Something Wrong!\")}))},deleteTag:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(a)return this.$swal({title:\"Delete Tag\",text:\"Are you sure?\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",cancelButtonText:\"No\"}).then((function(a){a.value&&e.deleteTag(t,!1)})),!1;var s=new Headers;s.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/task_tags/\"+t.id+\"/\",{method:\"DELETE\",headers:s}).then((function(t){e.showAlert(\"Deleted Successfully!\",\"red\"),e.getTags()}))}}}),r=o,i=(a(\"eecd4\"),a(\"2877\")),l=Object(i[\"a\"])(r,s,n,!1,null,null,null);e[\"default\"]=l.exports},a6d5:function(t,e,a){},eecd4:function(t,e,a){\"use strict\";var s=a(\"a6d5\"),n=a.n(s);n.a}}]);","extractedComments":[]}