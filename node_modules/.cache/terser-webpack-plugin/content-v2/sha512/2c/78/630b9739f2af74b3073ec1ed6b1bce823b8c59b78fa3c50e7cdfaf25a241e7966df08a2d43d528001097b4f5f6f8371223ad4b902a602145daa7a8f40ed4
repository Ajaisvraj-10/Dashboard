{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-3e8b7a00\"],{1148:function(t,e,a){\"use strict\";var s=a(\"a691\"),o=a(\"1d80\");t.exports=\"\".repeat||function(t){var e=String(o(this)),a=\"\",r=s(t);if(r<0||r==1/0)throw RangeError(\"Wrong number of repetitions\");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},\"408a\":function(t,e,a){var s=a(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=s(t))throw TypeError(\"Incorrect invocation\");return+t}},\"476e\":function(t,e,a){},\"4dbf\":function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Category: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.category_id,expression:\"category_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"category\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(1)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a category\")]),t._l(t.categories,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product Types : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_type_id,expression:\"product_type_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product_type\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_type_id=e.target.multiple?a:a[0]},function(e){return t.restProducts(2)}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a type\")]),t._l(t.product_types,(function(e){return e.category.includes(t.category_id)?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" Product : \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.product_id,expression:\"product_id\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"product\",required:\"\",disabled:t.readonly},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.product_id=e.target.multiple?a:a[0]},function(e){return t.selectProduct()}]}},[a(\"option\",{attrs:{selected:\"\",disabled:\"\"}},[t._v(\"Select a product\")]),t._l(t.products,(function(e){return e.category==t.category_id&&e.product_type==t.product_type_id?a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}))],2)])])},o=[],r=(a(\"d3b7\"),{props:[\"product_id\",\"readonly\"],data:function(){return{categories:[],product_types:[],products:[],category_id:null,product_type_id:null}},mounted:function(){this.product_id?this.getProduct():(this.getCategories(),this.getProductTypes(),this.getProducts())},methods:{getProduct:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\"+this.product_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e,t.category_id=e.category_detail.id,t.product_type_id=e.product_type_detail.id,t.getCategories(),t.getProductTypes(),t.getProducts()}))},getCategories:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/categories/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.categories=e}))},getProductTypes:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_types/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.product_types=e}))},getProducts:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/products/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.products=e}))},selectProduct:function(){this.$emit(\"productId\",this.product_id)},restProducts:function(t){this.product_id=null}}}),i=r,n=a(\"2877\"),c=Object(n[\"a\"])(i,s,o,!1,null,null,null);e[\"a\"]=c.exports},\"55ef\":function(t,e,a){\"use strict\";var s=a(\"476e\"),o=a.n(s);o.a},\"6a91\":function(t,e,a){\"use strict\";var s=a(\"7d66\"),o=a.n(s);o.a},\"7d66\":function(t,e,a){},b680:function(t,e,a){\"use strict\";var s=a(\"23e7\"),o=a(\"a691\"),r=a(\"408a\"),i=a(\"1148\"),n=a(\"d039\"),c=1..toFixed,u=Math.floor,d=function(t,e,a){return 0===e?a:e%2===1?d(t,e-1,a*t):d(t*t,e/2,a)},l=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},p=c&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){c.call({})}));s({target:\"Number\",proto:!0,forced:p},{toFixed:function(t){var e,a,s,n,c=r(this),p=o(t),_=[0,0,0,0,0,0],m=\"\",h=\"0\",v=function(t,e){var a=-1,s=e;while(++a<6)s+=t*_[a],_[a]=s%1e7,s=u(s/1e7)},f=function(t){var e=6,a=0;while(--e>=0)a+=_[e],_[e]=u(a/t),a=a%t*1e7},g=function(){var t=6,e=\"\";while(--t>=0)if(\"\"!==e||0===t||0!==_[t]){var a=String(_[t]);e=\"\"===e?a:e+i.call(\"0\",7-a.length)+a}return e};if(p<0||p>20)throw RangeError(\"Incorrect fraction digits\");if(c!=c)return\"NaN\";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m=\"-\",c=-c),c>1e-21)if(e=l(c*d(2,69,1))-69,a=e<0?c*d(2,-e,1):c/d(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),s=p;while(s>=7)v(1e7,0),s-=7;v(d(10,s,1),0),s=e-1;while(s>=23)f(1<<23),s-=23;f(1<<s),v(1,1),f(2),h=g()}else v(0,a),v(1<<-e,0),h=g()+i.call(\"0\",p);return p>0?(n=h.length,h=m+(n<=p?\"0.\"+i.call(\"0\",p-n)+h:h.slice(0,n-p)+\".\"+h.slice(n-p))):h=m+h,h}})},f6fd:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[t._v(t._s(t.processing.name))])]),a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){return t.getProcess()}}},[t._v(\"New Process \")]),a(\"router-link\",{attrs:{to:\"/app/production/process/processing\"}},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"}},[t._v(\"Discard \")])],1),a(\"b-dropdown\",{staticClass:\"action-button mx-1\",attrs:{id:\"dropdown-right\",right:\"\",text:\"Action\",variant:\"default\"}},[a(\"b-dropdown-header\",{attrs:{id:\"dropdown-header-label\"}},[a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Delete\")]),a(\"h6\",{staticClass:\"cursor-pointer my-2\"},[t._v(\"Duplicate\")])])],1)],1)],2),a(\"div\",{staticClass:\"my-2 border-top\"})]),a(\"div\",{staticClass:\"row main-scroll\",staticStyle:{\"overflow-y\":\"hidden\"}},[t._l(t.processing.process_details,(function(e){return e.process_detail==t.processing.id?a(\"div\",{staticClass:\"col-md-3 p-1\",style:\"max-width:\"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[a(\"div\",{staticClass:\"card p-2 m-0 flex-row\"},[t._m(0,!0),a(\"div\",{staticClass:\"col-md-9 align-self-center\"},[a(\"b\",[t._v(t._s(e.name)+\" \")]),e.process_details.length>0?a(\"div\",[a(\"router-link\",{attrs:{to:\"/app/production/process/processing/list/\"+e.id}},[a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm  my-2 \"},[t._v(\"Start\")])])],1):a(\"div\",[a(\"b-button\",{staticClass:\" px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"button\",variant:\"primary\"},on:{click:function(a){return t.getProcess(e)}}},[t._v(\"New\")]),a(\"router-link\",{attrs:{to:\"/app/production/process/processing/break/\"+e.id}},[a(\"b-button\",{staticClass:\"ml-1 px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{variant:\"danger\"}},[t._v(\"Break\")])],1)],1)])]),a(\"div\",{staticClass:\"process_kanban\"},t._l(e.created_process,(function(s){return s.is_show?a(\"div\",{staticClass:\"card px-3 py-2 m-1 mb-0\"},[a(\"table\",[a(\"tr\",[a(\"th\",[t._v(\" LOT \"),t._l(s.process_products_list,(function(e){return a(\"span\",[t._v(\" \"+t._s(e.lot)+\", \")])}))],2),a(\"th\",[t._v(\"#\"+t._s(s.process_number)+\"/Process\")])]),a(\"tr\",[a(\"th\",[t._v(\"PRODUCT\")]),a(\"th\",[t._v(t._s(s.product_detail.name))])]),a(\"tr\",[a(\"th\",[t._v(\"DATE\")]),a(\"th\",[t._v(t._s(t.dateFormate(s.created_on)))])]),a(\"tr\",[a(\"th\",{staticClass:\"text-center\",attrs:{colspan:\"2\"}},[18!=e.id?a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm mt-2 w-100\",on:{click:function(a){return t.startProcess(e,s)}}},[t._v(\"Start Process\")]):a(\"router-link\",{attrs:{to:\"/app/production/process/processing/view/\"+e.id+\"/create/\"+s.id}},[a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm mt-2 w-100\"},[t._v(\"Start Process\")])])],1)])])]):t._e()})),0)])]):t._e()})),t.processing.production_process_detail.is_packing?a(\"div\",{staticClass:\"col-md-3 p-1\",style:\"max-width:\"+t.max_width},[a(\"div\",{staticClass:\"card p-0 pb-2 my-1\"},[a(\"div\",{staticClass:\"card p-2 m-0 flex-row \"},[t._m(1),a(\"div\",{staticClass:\"col-md-9 align-self-center\"},[a(\"b\",[t._v(t._s(t.packing.name)+\" \")]),a(\"div\",[a(\"router-link\",{attrs:{to:\"/app/production/process/processing/view/\"+t.packing.id}},[a(\"b-button\",{staticClass:\" px-1 py-0\",staticStyle:{\"font-size\":\"12px\"},attrs:{variant:\"primary\"}},[t._v(\"View\")])],1)],1)])]),a(\"div\",{staticClass:\"process_kanban\"},t._l(t.packing.created_process,(function(e){return e.is_show?a(\"div\",{staticClass:\"card px-3 py-2 m-1 mb-0\"},[a(\"table\",[a(\"tr\",[a(\"th\",[t._v(\" LOT \"),t._l(e.process_products_list,(function(e){return a(\"span\",[t._v(\" \"+t._s(e.lot)+\", \")])}))],2),a(\"th\",[t._v(\"#\"+t._s(e.process_number)+\"/Process\")])]),a(\"tr\",[a(\"th\",[t._v(\"PRODUCT\")]),a(\"th\",[t._v(t._s(e.product_detail.name))])]),a(\"tr\",[a(\"th\",[t._v(\"DATE\")]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))])]),a(\"tr\",[a(\"th\",{staticClass:\"text-center\",attrs:{colspan:\"2\"}},[a(\"router-link\",{attrs:{to:\"/app/production/process/processing/view/\"+t.packing.id+\"/packing/\"+e.id}},[a(\"button\",{staticClass:\"btn btn-warning px-2 py-1 btn-sm mt-2 w-100\"},[t._v(\"Pack Now\")])])],1)])])]):t._e()})),0)])]):t._e()],2),a(\"div\",[a(\"b-modal\",{attrs:{id:\"list-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.processing.name))]),t._v(\" /\"+t._s(t.current_process_detail.name))])]),t.list_process?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){return t.$bvModal.hide(\"list-process\")}}},[t._v(\"Close\")])],1):a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"success\"},on:{click:function(e){return t.createProcess()}}},[t._v(\"Start Process\")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:\"danger\"},on:{click:function(e){t.list_process=!0}}},[t._v(\"Back\")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[t.list_process?a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"mt-2\"},t._l(t.processing.process_details,(function(e){return a(\"div\",{staticClass:\"card px-2 py-1 mx-0 mt-2\"},[a(\"table\",{},[a(\"tr\",[a(\"th\",[t._v(t._s(e.name))]),a(\"td\",{staticClass:\"text-right pr-2\"},[a(\"button\",{staticClass:\"btn btn-success px-2 py-1 btn-sm  my-2 \",attrs:{type:\"button\"},on:{click:function(a){return t.selectProcess(e)}}},[t._v(\"Start\")])])])])])})),0)],1):a(\"b-col\",{attrs:{lg:\"12\",xl:\"12\"}},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"user-info pt-2\"},[a(\"label\",[t._v(\"Select products\")]),a(\"input\",{attrs:{type:\"hidden\",name:\"product\"},domProps:{value:t.product_id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"process_detail\"},domProps:{value:t.current_process_detail.id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"status\",value:\"Starting\"}}),a(\"table\",{staticClass:\"table mt-2 w-100\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Product\")]),a(\"th\",[t._v(\"Lot\")]),a(\"th\",[t._v(\"Indent\")]),a(\"th\",[t._v(\"Available Qty\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Action\")])])]),a(\"tbody\",t._l(t.stock_parameters,(function(e,s){return a(\"tr\",[a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.parameter_detail.name)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(e.lot)+\"/Lot \"),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"+e.id},domProps:{value:e.lot}})]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.indent,expression:\"stock_parameter.indent\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"indent\"+e.id,disabled:!e.is_added},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(e,\"indent\",a.target.multiple?s:s[0])}}},t._l(t.indents,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.indent_number))])})),0)]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(e.stock_quantity)+\" \")]),a(\"td\",{style:e.is_added?\"opacity:1\":\"opacity:0.5\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"stock_parameter.quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",max:e.stock_quantity,name:\"quantity\"+e.id,disabled:!e.is_added},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)}}}),a(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+e.id+\"lot\"},domProps:{value:e.is_added?\"yes\":\"no\"}})]),a(\"td\",[e.is_added?a(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.removeProduct(e)}}},[t._v(\"Remove\")]):a(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(a){return t.addProduct(e)}}},[t._v(\"Add\")])])])})),0)])])])],1)])],1)],1),a(\"b-modal\",{attrs:{id:\"start-process\",\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[a(\"div\",[t.load_processing_form?a(\"ProcessingForm\",{attrs:{process_id:t.proces_id,processing_id:t.processing_id},on:{closePopup:t.closePopup}}):t._e()],1)])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"col-md-3 align-self-center p-1\"},[a(\"img\",{staticStyle:{\"vertical-align\":\"top\"},attrs:{src:\"/img/website.png\"}})])}],r=(a(\"4160\"),a(\"d3b7\"),a(\"159b\"),a(\"4dbf\")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content create-main\"},[a(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[a(\"div\",[a(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[a(\"h5\",{staticClass:\"mb-0\"},[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.process_detail.name))]),t._v(\" / \"+t._s(t.slugToWord(t.action)))])]),a(\"div\",{staticClass:\"d-flex\"},[\"details\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.form_data.status=\"Starting\",t.action=\"workers\"}}},[t._v(\"Next \")])],1):\"workers\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"details\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"primary\",type:\"button\"},on:{click:function(e){t.form_data.status=\"Stop\",t.dataForm()}}},[t._v(\"Next \")])],1):\"output\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"workers\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Save \")])],1):\"merge\"==t.action?a(\"div\",{staticClass:\"d-flex\"},[a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"info\",type:\"button\"},on:{click:function(e){t.action=\"output\"}}},[t._v(\"Back \")]),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(e){return t.dataForm()}}},[t._v(\"Save \")])],1):t._e(),a(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(e){return t.closePopup()}}},[t._v(\"Discard \")])],1)],2),a(\"div\",{staticClass:\" my-3 border-top\"})]),a(\"b-row\",{staticClass:\"main-scroll\"},[a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"details\"==t.action,expression:\"action=='details'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[t._l(t.form_data.start_process_detail.process_products_list,(function(e,s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" \"+t._s(0==s?\"Product :\":\"\")+\" \")]),a(\"input\",{staticClass:\"ui-autocomplete-input\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"Product\",type:\"text\",readonly:\"\"},domProps:{value:e.parameter_detail.name}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.lot,expression:\"process_product.lot\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"Lot\",type:\"number\",autocomplete:\"off\",name:\"lot\",readonly:\"\"},domProps:{value:e.lot},on:{input:function(a){a.target.composing||t.$set(e,\"lot\",a.target.value)}}}),a(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",max:e.quantity,name:\"quantity\",required:\"\"},domProps:{value:e.quantity}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Qty\")])])})),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Shift: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.shift,expression:\"form_data.shift\"}],staticClass:\"ui-autocomplete-input w-100 ml-1\",attrs:{name:\"shift\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"shift\",e.target.multiple?a:a[0])}}},t._l(t.shifts,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(\" \"+t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Date : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.date,expression:\"form_data.date\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Date\",type:\"date\",autocomplete:\"off\",name:\"date\",required:\"\"},domProps:{value:t.form_data.date},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"date\",e.target.value)}}})]),\"yes\"==t.process_detail.is_machine||\"both\"==t.process_detail.is_machine?a(\"div\",{},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"b\",[t._v(\" Machine Details \")])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Run Time: \")]),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Start\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.start_time,expression:\"form_data.start_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"00:01\",type:\"time\",autocomplete:\"off\",name:\"start_time\"},domProps:{value:t.form_data.start_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"start_time\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"End\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.end_time,expression:\"form_data.end_time\"}],staticClass:\"ui-autocomplete-input append_btn_input_left\",attrs:{placeholder:\"00:10\",type:\"time\",autocomplete:\"off\",name:\"end_time\"},domProps:{value:t.form_data.end_time},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"end_time\",e.target.value)}}})]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Machines: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.machines,expression:\"form_data.machines\"}],staticClass:\"ui-autocomplete-input w-100 ml-1\",attrs:{name:\"machines\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"machines\",e.target.multiple?a:a[0])}}},t._l(t.machines,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" \"+t._s(e.name))])})),0)])]):t._e()],2)])])])],1),a(\"b-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"workers\"==t.action,expression:\"action=='workers'\"}],staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-form-group\",{staticClass:\"work_type_option\"},[a(\"b-form-radio-group\",{staticStyle:{\"font-size\":\"20px\"},attrs:{id:\"work_type\",options:[\"wages\",\"contract\"],\"button-variant\":\"outline-primary\",name:\"work_type\",buttons:\"\"},model:{value:t.form_data.work_type,callback:function(e){t.$set(t.form_data,\"work_type\",e)},expression:\"form_data.work_type\"}})],1),a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Workers: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.workers,expression:\"form_data.workers\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"workers\",multiple:\"\"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"workers\",e.target.multiple?a:a[0])},function(e){t.form_data.total_workers=t.form_data.workers.length}]}},t._l(t.workers,(function(e){return 5==e.job_position?a(\"option\",{domProps:{value:e.id}},[t._v(\" #\"+t._s(e.id)+\"/\"+t._s(e.name))]):t._e()})),0)]),\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\"},domProps:{value:t.form_data.total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.working_hourse,expression:\"form_data.working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"working_hourse\"},domProps:{value:t.form_data.working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hrs\")])]):a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.total_workers,expression:\"form_data.total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"total_workers\"},domProps:{value:t.form_data.total_workers},on:{input:[function(e){e.target.composing||t.$set(t.form_data,\"total_workers\",e.target.value)},function(e){t.form_data.labour_charge=400*t.form_data.total_workers/8}]}})]),\"contract\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Labour Charge : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.labour_charge,expression:\"form_data.labour_charge\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Labour Charge \",type:\"number\",autocomplete:\"off\",name:\"labour_charge\"},domProps:{value:t.form_data.labour_charge},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"labour_charge\",e.target.value)}}})]):t._e(),\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input mt-2\"},[a(\"b\",{staticStyle:{width:\"96px\"}},[t._v(\" Over Time? : \")]),a(\"b-form-checkbox\",{attrs:{name:\"is_over_time\",switch:\"\"},model:{value:t.form_data.is_over_time,callback:function(e){t.$set(t.form_data,\"is_over_time\",e)},expression:\"form_data.is_over_time\"}},[a(\"b\",[t._v(t._s(t.form_data.is_over_time?\"Yes\":\"No\"))])])],1):t._e(),t.form_data.is_over_time&&\"wages\"==t.form_data.work_type?a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Total (overtime) : \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_total_workers,expression:\"form_data.overtime_total_workers\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Total Workers\",type:\"number\",autocomplete:\"off\",name:\"overtime_total_workers\"},domProps:{value:t.form_data.overtime_total_workers},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_total_workers\",e.target.value)}}}),a(\"span\",{staticStyle:{width:\"5px\"}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.overtime_working_hourse,expression:\"form_data.overtime_working_hourse\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Working Hourse\",type:\"number\",autocomplete:\"off\",name:\"overtime_working_hourse\"},domProps:{value:t.form_data.overtime_working_hourse},on:{input:function(e){e.target.composing||t.$set(t.form_data,\"overtime_working_hourse\",e.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"Hrs\")])]):t._e(),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"input\",{attrs:{type:\"hidden\",name:\"product\"},domProps:{value:t.form_data.start_process_detail.product}}),a(\"input\",{attrs:{type:\"hidden\",name:\"start_process\"},domProps:{value:t.processing_id}}),a(\"input\",{attrs:{type:\"hidden\",name:\"lot\"},domProps:{value:t.form_data.lot}}),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.other_lots,expression:\"form_data.other_lots\"},{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],attrs:{name:\"other_lots\",multiple:\"\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"other_lots\",e.target.multiple?a:a[0])}}},t._l(t.form_data.other_lots,(function(e){return a(\"option\",{domProps:{value:e}},[t._v(t._s(e))])})),0)]),a(\"div\",{staticClass:\"o_thread_search_input mt-2\"})])])])],1),\"output\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row mt-2\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"user-info mb-5\"},[t.process_detail.have_barrel?a(\"div\",[a(\"div\",{staticClass:\"row pb-2\"},[t._l(t.barrels,(function(e){return e.available_quantity!=e.max_quantity?a(\"div\",{staticClass:\"col-md-3\",on:{click:function(a){t.barrel_id=e.id}}},[a(\"div\",{staticClass:\"barrel_out\"},[a(\"div\",{staticClass:\"barrel_in\",style:\"height:\"+(100-100/e.max_quantity*e.quantity-100/e.max_quantity*e.available_quantity)+\"%\"},[a(\"div\",{staticClass:\"details text-center\"},[a(\"div\",[t._v(t._s(e.code))]),a(\"span\",[t._v(t._s(e.available_quantity)+\"/\"+t._s(e.max_quantity))]),a(\"div\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"600\"}},[t._v(t._s(e.quantity))])])]),a(\"div\",{staticClass:\"barrel_pepper\",style:\"height:\"+100/e.max_quantity*e.quantity+\"%\"})])]):t._e()})),t._l(t.barrels,(function(e){return a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.barrel_id==e.id,expression:\"barrel_id==barrel.id\"}],staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Barrel : \")]),a(\"select\",{staticClass:\"ui-autocomplete-input\",attrs:{name:\"barrel\"+e.id}},[a(\"option\",{domProps:{value:e.id}},[t._v(t._s(e.code)+\"/\"+t._s(e.name))])])]),a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Quantity: \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"barrel.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\"+e.id,required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(e){return t.calculateQty()}]}}),a(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity (%)\",type:\"text\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,readonly:\"\"},domProps:{value:(100/e.max_quantity*e.quantity).toFixed(2)+\"%\"}})]),t._l(t.process_detail.consumable_items_list,(function(s){return a(\"div\",{staticClass:\"o_thread_search_input\"},[a(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(s.name)+\" (\"+t._s(s.unit)+\") : \")]),a(\"input\",{attrs:{type:\"hidden\",name:\"consumable\"+e.id+\"item_id\"+s.id}}),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e[\"other\"+s.id],expression:\"barrel['other'+consumable_item.id]\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"'consumable'+barrel.id+'quantity'+consumable_item.id\",required:\"\"},domProps:{value:e[\"other\"+s.id]},on:{input:function(a){a.target.composing||t.$set(e,\"other\"+s.id,a.target.value)}}}),a(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"%\")])])}))],2)}))],2)]):t._e(),a(\"table\",{staticClass:\"table\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Parameter\")]),a(\"th\",[t._v(\"Type\")]),a(\"th\",[t._v(\"Quantity\")]),a(\"th\",[t._v(\"Quantity (%)\")]),a(\"th\",[t._v(\"Indent\")])])]),a(\"tbody\",[t._l(t.form_data.process_outputs,(function(e){return t.process_detail.outputs.includes(e.id)?a(\"tr\",[a(\"td\",[t._v(\" \"+t._s(e.name)+\" \")]),a(\"td\",[\"product\"==e.parameter_type?a(\"span\",{staticClass:\"badge badge-info\"},[t._v(t._s(e.parameter_type))]):a(\"span\",{staticClass:\"badge badge-secondary\"},[t._v(t._s(e.parameter_type))]),a(\"input\",{attrs:{type:\"hidden\",name:\"parameter_type\"+e.id},domProps:{value:e.parameter_type}})]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:e.name,type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+e.id,required:\"\"},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,\"quantity\",a.target.value)},function(a){return t.calculation(e)}]}})]),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.quantity_persentage,expression:\"parameter.quantity_persentage\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:e.name,type:\"text\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+e.id,readonly:\"\"},domProps:{value:e.quantity_persentage},on:{input:function(a){a.target.composing||t.$set(e,\"quantity_persentage\",a.target.value)}}})]),a(\"td\")]):t._e()})),a(\"tr\",[a(\"th\",{staticClass:\"text-right\",attrs:{colspan:\"2\"}},[t._v(\"Total Output : \")]),a(\"td\",[t._v(t._s(t.total_output)+\"/\"+t._s(t.total_weight))]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_output)))])]),a(\"tr\",[a(\"th\",{staticClass:\"text-right\",attrs:{colspan:\"2\"}},[t._v(\"Loss : \")]),a(\"td\",[t._v(t._s(t.total_weight-t.total_output))]),a(\"td\",[t._v(t._s(t.CalculatePersentage(t.total_weight-t.total_output)))])])],2)])])])])])],1):t._e(),\"merge\"==t.action?a(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[a(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[a(\"span\",{staticStyle:{width:\"70px\"}},[t._v(\" Merge to: \")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.merge_to,expression:\"form_data.merge_to\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"merge_to\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.form_data,\"merge_to\",e.target.multiple?a:a[0])}}},t._l(t.merge_process,(function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\" #\"+t._s(e.process_number)+\"/Process\")])})),0)])])])])],1):t._e()],1)],1)])},n=[],c=(a(\"b680\"),{metaInfo:{title:\"FPO - ICS\"},props:[\"process_id\",\"processing_id\"],components:{ProductFields:r[\"a\"]},data:function(){return{form_data:{date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],work_type:\"wages\",is_over_time:!1,machines:[],start_process_detail:{process_products_list:[]},other_lots:[],lot:null,process_outputs:[],barrel_detail:{}},process_detail:{outputs:[],consumable_items_list:[]},barrel_id:null,id:null,product_name:\"\",action:\"create\",user_id:6,total_weight:0,total_output:0,machines:[],workers:[],barrels:[],merge_process:[]}},mounted:function(){this.form_data.date=this.currentDate(),this.checkProcess(),this.getEmployees(),this.getMachines()},methods:{checkProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/check_process/\"+this.process_id+\"/\"+this.processing_id+\"/\",{method:\"post\",headers:e}).then((function(t){return t.json()})).then((function(e){if(e.success){t.form_data=e.process,t.merge_process=e.merge_process,t.id=t.form_data.id;var a=0;t.form_data.start_process_detail.process_products_list.forEach((function(t){a+=t.quantity})),t.total_weight=a,0==t.form_data.process_outputs.length&&t.getParameters(),t.action=\"output\"}else t.action=\"details\",t.getStartProcess();t.getForm()}))},getForm:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.process_detail=e,e.have_barrel&&t.getBarrels()}))},getStartProcess:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/start_process/\"+this.processing_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.start_process_detail=e;var a=[],s=null,o=0;e.process_products_list.forEach((function(t,e){0==e&&(s=t.lot),a.push(t.lot),o+=t.quantity})),t.total_weight=o,t.form_data.lot=s,t.form_data.other_lots=a}))},getBarrels:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/barrel/?product=\"+this.form_data.product,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){var a=t;e.forEach((function(t,s){e[s][\"quantity\"]=0,e[s][\"quantity_persentage\"]=0,a.process_detail.consumable_items_list.forEach((function(t,a){e[s][\"other\"+t.id]=0}))})),t.barrels=e}))},getParameters:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?product=\"+this.form_data.product,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.form_data.process_outputs=e;var a=t;t.form_data.process_outputs.forEach((function(t,e){a.form_data.process_outputs[e].quantity=0,a.form_data.process_outputs[e].quantity_persentage=\"0%\"})),t.calculation()}))},getMachines:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/machines/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.machines=e}))},calculateQty:function(){var t=this,e=0;this.barrels.forEach((function(t,a){e+=parseFloat(t.quantity)})),this.form_data.process_outputs.forEach((function(a,s){\"product\"==a.parameter_type&&(t.form_data.process_outputs[s].quantity=e)}))},calculation:function(t){var e=this,a=0,s=this.form_data.process_outputs;this.form_data.process_outputs=[],s.forEach((function(t,o){if(t.quantity){if(0!=e.total_weight){var r=t.quantity/e.total_weight*100;r=r.toFixed(2),s[o].quantity_persentage=r+\"%\"}\"product\"==t.parameter_type&&(a+=parseFloat(t.quantity))}else s[o].quantity_persentage=\"0%\"})),this.form_data.process_outputs=s,this.total_output=a},CalculatePersentage:function(t){if(t&&0!=this.total_weight){var e=t/this.total_weight*100;return e=e.toFixed(2),e+\"%\"}return\"0%\"},getEmployees:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/employee/employees/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.workers=e}))},dataForm:function(){\"workers\"==this.action?this.createFormdata():(\"output\"==this.action||\"merge\"==this.action)&&this.updateFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"status\",this.form_data.status);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.action,t.checkProcess(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id),e.append(\"process_detail\",this.process_detail.id),e.append(\"start_process\",this.form_data.start_process),e.append(\"process\",this.form_data.id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_outputs/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.success?(t.merge_process.length>0?\"merge\"==t.action?t.closePopup():t.action=\"merge\":t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},closePopup:function(){this.$emit(\"closePopup\",!0)}}}),u=c,d=(a(\"6a91\"),a(\"2877\")),l=Object(d[\"a\"])(u,i,n,!1,null,null,null),p=l.exports,_={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:r[\"a\"],ProcessingForm:p},data:function(){return{form_data:{lot:null},process_id:null,processing:{production_process_detail:{is_packing:!1}},product:\"\",processes:[],current_process_detail:[],list_process:!0,stock_parameters:[],user_id:6,product_id:null,lots:[],indents:[],packing:{},proces_id:null,processing_id:null,load_processing_form:!1,max_width:\"25%\",action:\"Details\"}},mounted:function(){this.$root.current_section=\"production\",this.process_id=this.$route.params.process_id,this.getProcesses(),this.getIndents()},methods:{getProcesses:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.processing=e,t.setColSize(),t.getPacking()}))},getIndents:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.indents=e}))},setColSize:function(){var t=this,e=1;this.processing.process_details.forEach((function(a){a.process_detail==t.processing.id&&e++})),this.max_width=\"25%\",e>4&&(this.max_width=100/e+\"%\")},getPacking:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.default_packing_id+\"/?product=\"+this.processing.production_process_detail.product,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.packing=e}))},getProcess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!=t.length?this.selectProcess(t):this.current_process_detail=[],this.$bvModal.show(\"list-process\")},selectProcess:function(t){this.current_process_detail=t,this.list_process=!1,this.stockParameter()},getLots:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/qc/create_lots/?products=\"+this.processing.production_process_detail.product+\"&status=Lot Created\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.lots=e}))},stockParameter:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameter_stock/?products=\"+this.processing.production_process_detail.product+\"&input=\"+this.current_process_detail.inputs,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.stock_parameters=e}))},addProduct:function(t){t.is_added=!0,this.product_id=t.parameter_detail.product,t.quantity=t.stock_quantity},removeProduct:function(t){t.is_added=!1,t.quantity=\"\"},createProcess:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"supervisor\",this.user_id);var a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/start_process/\",{method:\"POST\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getProcesses(),t.list_process=!0,t.$bvModal.hide(\"list-process\"),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},startProcess:function(t,e){this.load_processing_form=!1,this.proces_id=t.id,this.processing_id=e.id,this.load_processing_form=!0,this.$bvModal.show(\"start-process\")},closePopup:function(t){t&&(this.$bvModal.hide(\"start-process\"),this.getProcesses())}}},m=_,h=(a(\"55ef\"),Object(d[\"a\"])(m,s,o,!1,null,null,null));e[\"default\"]=h.exports}}]);","extractedComments":[]}