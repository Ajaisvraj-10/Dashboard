{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-74aca6b8\"],{\"6c10\":function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main-content capcee-profile\",class:\"light\"==t.$root.mode?\"mode_change\":\"\"},[a(\"div\",{staticClass:\"site-wrapper\"},[a(\"MainHeader\",{attrs:{edit:t.edit,blocks:t.blocks,current_block:t.current_block}}),a(\"div\",{staticClass:\"profile-container\"},[a(\"div\",{staticClass:\" profile-body \"},[a(\"b-card\",{attrs:{\"no-body\":\"\"}},[a(\"b-tabs\",{attrs:{pills:\"\",card:\"\",vertical:\"\"}},[a(\"b-tab\",{attrs:{title:\"My Profile\",active:\"\"}},[t.view_profile?a(\"div\",{staticClass:\"profile-tab\"},[a(\"div\",{staticClass:\"pb-4 tabs-heading flex-align\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"My Profile\")]),t.$root.token?a(\"div\",[a(\"button\",{staticClass:\"btn rounded2\",staticStyle:{\"background-color\":\"initial\",color:\"white\",\"font-size\":\"13px\",\"font-weight\":\"500\",border:\"1px solid white\",\"border-radius\":\"5px\"},on:{click:function(e){return t.signOut()}}},[t._v(\"LOGOUT\")])]):t._e()]),a(\"div\",{staticClass:\"flex-align3 py-4\",staticStyle:{gap:\"15px\"}},[a(\"h6\",{staticClass:\"profile-pic\"},[t._v(t._s(t.profile.username?t.profile.username[0]:\"\"))]),a(\"div\",{staticClass:\"profile-head\"},[a(\"h5\",{staticClass:\"text-20 font-weight-600\"},[t._v(t._s(t.profile.username))]),a(\"h6\",{staticClass:\"text-info text-13 mt-1\",on:{click:function(e){t.view_profile=!1}}},[t._v(\"Edit Profile\")])])])]):a(\"div\",{staticClass:\"profile-editing-tab\"},[a(\"div\",{staticClass:\"pb-4 tabs-heading\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"Edit Profile\")])]),a(\"form\",{ref:\"updateProfile\",on:{submit:function(e){return e.preventDefault(),t.updateProfile()}}},[a(\"div\",{staticClass:\"edit-profile col-lg-6\"},[a(\"label\",{staticClass:\"input my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.profile.username,expression:\"profile.username\"}],staticClass:\"input__field\",attrs:{type:\"text\",name:\"username\",placeholder:\" \",required:\"\"},domProps:{value:t.profile.username},on:{input:function(e){e.target.composing||t.$set(t.profile,\"username\",e.target.value)}}}),a(\"span\",{staticClass:\"input__label\"},[t._v(\"Your full name\")])]),a(\"label\",{staticClass:\"input my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.profile.phone,expression:\"profile.phone\"}],staticClass:\"input__field\",attrs:{type:\"number\",name:\"phone\",placeholder:\" \"},domProps:{value:t.profile.phone},on:{input:function(e){e.target.composing||t.$set(t.profile,\"phone\",e.target.value)}}}),a(\"span\",{staticClass:\"input__label\"},[t._v(\"Mobile number\")])]),a(\"label\",{staticClass:\"input my-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.profile.dob,expression:\"profile.dob\"}],staticClass:\"input__field\",attrs:{type:\"date\",name:\"dob\",placeholder:\" \"},domProps:{value:t.profile.dob},on:{input:function(e){e.target.composing||t.$set(t.profile,\"dob\",e.target.value)}}}),a(\"span\",{staticClass:\"input__label\"},[t._v(\"Date of birth\")])]),a(\"div\",{staticClass:\" p-0\"},[a(\"label\",{staticClass:\"text-14\"},[t._v(\"Gender\")]),a(\"div\",{staticClass:\"my-3 d-flex\",staticStyle:{gap:\"10px\"}},[t._l(t.genders,(function(e){return a(\"button\",{staticClass:\"gender-btn btn\",class:t.profile.gender==e?\"active_btn\":\"\",attrs:{type:\"button\"},on:{click:function(a){t.profile.gender=e}}},[t._v(t._s(e))])})),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.profile.gender,expression:\"profile.gender\"}],attrs:{type:\"hidden\",name:\"gender\"},domProps:{value:t.profile.gender},on:{input:function(e){e.target.composing||t.$set(t.profile,\"gender\",e.target.value)}}})],2)])]),a(\"div\",{staticClass:\" col-lg-6\",staticStyle:{\"border-top\":\"0.5px solid #484848!important\"}},[a(\"div\",{staticClass:\"my-3 d-flex\",staticStyle:{gap:\"10px\"}},[a(\"button\",{staticClass:\"gender-btn btn\",staticStyle:{\"aspect-ratio\":\"2/.45\"},attrs:{type:\"button\"},on:{click:function(e){t.view_profile=!0}}},[t._v(\"Go back\")]),a(\"button\",{staticClass:\"gender-btn btn active_btn\",staticStyle:{\"aspect-ratio\":\"2/.45\"},attrs:{type:\"submit\"}},[t._v(\"Save changes\")])])])])])]),a(\"b-tab\",{attrs:{title:\"My Watchlist\"},on:{click:function(e){return t.userWatch()}}},[a(\"div\",{staticClass:\"pb-4 tabs-heading\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"My Watchlist\")])]),a(\"div\",{staticClass:\"profile-tab\"},[a(\"div\",{staticClass:\"row\"},t._l(t.user_watchs,(function(e){return a(\"div\",{staticClass:\"col-2\"},[a(\"div\",{staticClass:\"image-row\"},[a(\"div\",{staticClass:\"hover-modal image mx-0\"},[a(\"router-link\",{attrs:{to:t.edit?\"\":{name:\"video\",params:{type:t.slugify(e.movie_detail.type),category:t.slugify(e.movie_detail.category_detail.name),slug:e.movie_detail.slug},query:{language:e.movie_detail.language_detail.name}}}},[a(\"div\",{staticClass:\"position-relative\"},[a(\"img\",{attrs:{src:t.api_url+e.movie_detail.thumbnail}}),a(\"div\",{staticClass:\"hover-modal-div\"},[a(\"div\",{staticClass:\"small-details\"},[a(\"h5\",{staticClass:\"text-14  mt-1\"},[t._v(t._s(e.movie_detail.name))]),a(\"h5\",{staticClass:\"text-10  mt-1 \"},[t._v(t._s(t.dateFormate(e.created_on)))])])])])])],1)])])})),0)])]),a(\"b-tab\",{attrs:{title:\"My Subcription\"},on:{click:function(e){return t.mySubscription()}}},[a(\"div\",{staticClass:\"pb-4 tabs-heading\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"My Subscription\")])]),a(\"div\",{staticClass:\"profile-tab\"},[a(\"table\",{staticClass:\"table table-striped\"},[a(\"tr\",{staticClass:\"bg-dark\"},[a(\"th\",[t._v(\"Plan\")]),a(\"th\",[t._v(\"Price\")]),a(\"th\",[t._v(\"Validity\")]),a(\"th\",[t._v(\"Date\")]),a(\"th\",[t._v(\"Status\")])]),t._l(t.subscriptions,(function(e,s){return a(\"tr\",[a(\"th\",[t._v(t._s(e.plan_detail.name))]),a(\"th\",[t._v(t._s(e.plan_detail.currency_symbol)+t._s(e.plan_detail.price))]),a(\"th\",[t._v(t._s(e.plan_detail.duration)+t._s(e.plan_detail.date_type)+t._s(t.checkMult(e.plan_detail.duration)))]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))]),a(\"th\",[0==s?a(\"span\",{staticClass:\"badge badge-success\"},[t._v(\"Current\")]):a(\"span\",{staticClass:\"badge badge-danger\"},[t._v(\"Expired\")])])])}))],2)])]),a(\"b-tab\",{attrs:{title:\"My Rentals\"},on:{click:function(e){return t.myRents()}}},[a(\"div\",{staticClass:\"pb-4 tabs-heading\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"My Rentals\")])]),a(\"div\",{staticClass:\"profile-tab\"},[a(\"table\",{staticClass:\"table table-striped\"},[a(\"tr\",{staticClass:\"bg-dark\"},[a(\"th\",[t._v(\"Video\")]),a(\"th\",[t._v(\"Price\")]),a(\"th\",[t._v(\"Validity\")]),a(\"th\",[t._v(\"Date\")]),a(\"th\",[t._v(\"Status\")])]),t._l(t.rents,(function(e,s){return a(\"tr\",[a(\"th\",[t._v(t._s(e.movie_detail.name))]),a(\"th\",[t._v(t._s(e.movie_detail.currency_symbol)+t._s(e.price))]),a(\"th\",[t._v(t._s(e.movie_detail.rent_video.validity)+\" \"+t._s(e.movie_detail.rent_video.duration)+t._s(t.checkMult(e.movie_detail.rent_video.validity)))]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))]),a(\"th\",[e.active?a(\"span\",{staticClass:\"badge badge-success\"},[t._v(\"Active\")]):a(\"span\",{staticClass:\"badge badge-danger\"},[t._v(\"Expired\")])])])}))],2)])]),a(\"b-tab\",{attrs:{title:\"My Transactions\"},on:{click:function(e){return t.myTransactions()}}},[a(\"div\",{staticClass:\"pb-4 tabs-heading\"},[a(\"h4\",{staticClass:\"font-weight-600\"},[t._v(\"My Transactions\")])]),a(\"div\",{staticClass:\"profile-tab\"},[a(\"table\",{staticClass:\"table table-striped\"},[a(\"tr\",{staticClass:\"bg-dark\"},[a(\"th\",[t._v(\"Payment Id\")]),a(\"th\",[t._v(\"Payment\")]),a(\"th\",[t._v(\"Payment Method\")]),a(\"th\",[t._v(\"Amount\")]),a(\"th\",[t._v(\"Date\")]),a(\"th\",[t._v(\"Status\")])]),t._l(t.transactions,(function(e,s){return a(\"tr\",[a(\"th\",[t._v(t._s(e.payment_id))]),a(\"th\",[t._v(t._s(e.name))]),a(\"th\",[t._v(t._s(e.payment_type))]),a(\"th\",[t._v(t._s(e.details?e.details.data.currency+\" \"+e.amount:\"\"))]),a(\"th\",[t._v(t._s(t.dateFormate(e.created_on)))]),a(\"th\",[\"Success\"==e.status?a(\"span\",{staticClass:\"badge badge-success\"},[t._v(t._s(e.status))]):a(\"span\",{staticClass:\"badge badge-danger\"},[t._v(t._s(e.status))])])])}))],2)])])],1)],1)],1),a(\"MainFooter\",{attrs:{edit:t.edit,blocks:t.blocks,current_block:t.current_block}})],1)],1)])},i=[],n=(a(\"d3b7\"),a(\"1522\")),r=a(\"78b9\"),o={props:[\"edit\",\"blocks\",\"current_block\"],metaInfo:{title:\"Movies\"},components:{MainHeader:n[\"a\"],MainFooter:r[\"a\"]},data:function(){return{start:!1,current_page:{},profile:{},subscriptions:[],rents:[],transactions:[],user_watchs:[],view_profile:!0,genders:[\"Male\",\"Female\",\"Other\"]}},mounted:function(){this.getProfile()},methods:{getProfile:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/users/users/\"+this.userId+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.profile=e}))},updateProfile:function(){var t=this,e=new FormData(this.$refs[\"updateProfile\"]),a=new Headers;a.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/customer/profile/\"+this.userId+\"/\",{method:\"put\",body:e,headers:a}).then((function(t){return t.json()})).then((function(e){e.id>0&&(t.showAlert(\"Successfully Saved\"),t.profile=e)}))},mySubscription:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/customer/subscription/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.subscriptions=e}))},myRents:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/customer/rents/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.rents=e}))},myTransactions:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/customer/transactions/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.transactions=e}))},userWatch:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/customer/user_watch/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.user_watchs=e}))}}},l=o,c=(a(\"b381\"),a(\"75a2\"),a(\"2877\")),d=Object(c[\"a\"])(l,s,i,!1,null,\"17a0523e\",null);e[\"default\"]=d.exports},\"74c5\":function(t,e,a){},\"75a2\":function(t,e,a){\"use strict\";var s=a(\"74c5\"),i=a.n(s);i.a},\"8cf6\":function(t,e,a){},b381:function(t,e,a){\"use strict\";var s=a(\"8cf6\"),i=a.n(s);i.a}}]);","extractedComments":[]}