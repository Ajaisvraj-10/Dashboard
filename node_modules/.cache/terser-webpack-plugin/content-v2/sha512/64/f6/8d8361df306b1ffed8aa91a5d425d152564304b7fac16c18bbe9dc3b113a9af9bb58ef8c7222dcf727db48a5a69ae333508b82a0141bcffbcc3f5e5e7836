{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-125a82ad\"],{1148:function(t,a,e){\"use strict\";var i=e(\"a691\"),s=e(\"1d80\");t.exports=\"\".repeat||function(t){var a=String(s(this)),e=\"\",n=i(t);if(n<0||n==1/0)throw RangeError(\"Wrong number of repetitions\");for(;n>0;(n>>>=1)&&(a+=a))1&n&&(e+=a);return e}},\"408a\":function(t,a,e){var i=e(\"c6b6\");t.exports=function(t){if(\"number\"!=typeof t&&\"Number\"!=i(t))throw TypeError(\"Incorrect invocation\");return+t}},\"676f\":function(t,a,e){\"use strict\";var i=e(\"da06\"),s=e.n(i);s.a},\"6b2b\":function(t,a,e){\"use strict\";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[t.is_start?e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.dataForm()}}},[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.process_detail.name))]),t._v(\" / \"+t._s(t.slugToWord(\"indent_packing\"==t.action?\"final packing\":\"direct_packing\"==t.action?\"packing\":t.action)))])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"div\",{staticClass:\"d-flex\"},[t.is_view?t._e():e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"button\"},on:{click:function(a){return t.dataForm()}}},[t._v(\"Save \")])],1),e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"danger\"},on:{click:function(a){return t.closePopup()}}},[t._v(\"Discard \")])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"}),e(\"fieldset\",{attrs:{disabled:t.is_view}},[e(\"b-row\",{staticClass:\"main-scroll\"},[\"consumables\"==t.action?e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"user-info pt-2 mb-5\"},[e(\"div\",{staticClass:\"o_thread_search_input mt-3\"},[e(\"b\",[t._v(\" Consumable Details \")])]),t._l(t.form_data.consumable_items_list,(function(a){return e(\"div\",[a.is_lot_wise?e(\"div\",t._l(a.lots,(function(i){return i.warehouse==t.process_detail.warehouse?e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(a.name)+\" (\"+t._s(a.unit)+\") : \")]),e(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(i.id))]),e(\"input\",{staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+a.id+\"lot\"+i.id,max:i.available_quantity}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(a.unit))])]):t._e()})),0):e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(a.name)+\" (\"+t._s(a.unit)+\") : \")]),a.is_lot?e(\"button\",{staticClass:\"btn btn-white append_btn_left\",attrs:{type:\"button\"}},[t._v(\"Lot: \"+t._s(a.consumable))]):t._e(),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"consumable_item.quantity\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"consumable_qty\"+a.id,max:a.is_free?\"\":a.available_quantity},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(t._s(a.unit))])])])}))],2)])])])],1):t._e(),\"barrel\"==t.action?e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"div\",{staticClass:\"row mt-2\"},[e(\"div\",{staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"user-info mb-5\"},[t.process_detail.have_barrel?e(\"div\",[e(\"div\",{staticClass:\"row pb-2\"},[t._l(t.barrels,(function(a){return a.available_quantity!=a.max_quantity?e(\"div\",{staticClass:\"col-md-3\",on:{click:function(e){t.barrel_id=a.id}}},[e(\"div\",{staticClass:\"barrel_out\"},[e(\"div\",{staticClass:\"barrel_in\",style:\"height:\"+(100-100/a.max_quantity*a.quantity-100/a.max_quantity*a.available_quantity)+\"%\"},[e(\"div\",{staticClass:\"details text-center\"},[e(\"div\",[t._v(t._s(a.code))]),e(\"span\",[t._v(t._s(a.available_quantity)+\"/\"+t._s(a.max_quantity))]),e(\"div\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"600\"}},[t._v(t._s(a.quantity))])])]),e(\"div\",{staticClass:\"barrel_pepper\",style:\"height:\"+100/a.max_quantity*a.quantity+\"%\"})])]):t._e()})),t._l(t.barrels,(function(a){return e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.barrel_id==a.id,expression:\"barrel_id==barrel.id\"}],staticClass:\"col-md-12\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Barrel : \")]),e(\"select\",{staticClass:\"ui-autocomplete-input\",attrs:{name:\"barrel\"+a.id}},[e(\"option\",{domProps:{value:a.id}},[t._v(t._s(a.code)+\"/\"+t._s(a.name))])])]),e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"90px\"}},[t._v(\" Quantity: \")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"barrel.quantity\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity\",type:\"number\",autocomplete:\"off\",name:\"quantity\"+a.id,min:\"0\",required:\"\"},domProps:{value:a.quantity},on:{input:[function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)},function(a){return t.calculateQty()}]}}),e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:\"Quantity (%)\",type:\"text\",autocomplete:\"off\",name:\"quantity_persentage\"+a.id,readonly:\"\"},domProps:{value:(100/a.max_quantity*a.quantity).toFixed(2)+\"%\"}})]),t._l(t.process_detail.consumable_items_list,(function(i){return e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\" \"+t._s(i.name)+\" (\"+t._s(i.unit)+\") : \")]),e(\"input\",{attrs:{type:\"hidden\",name:\"consumable\"+a.id+\"item_id\"+i.id}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a[\"other\"+i.id],expression:\"barrel['other'+consumable_item.id]\"}],staticClass:\"ui-autocomplete-input append_btn_input_right\",attrs:{placeholder:\"Quantity\",type:\"number\",min:\"0\",autocomplete:\"off\",name:\"'consumable'+barrel.id+'quantity'+consumable_item.id\",required:\"\"},domProps:{value:a[\"other\"+i.id]},on:{input:function(e){e.target.composing||t.$set(a,\"other\"+i.id,e.target.value)}}}),e(\"button\",{staticClass:\"btn btn-white append_btn_right\",attrs:{type:\"button\"}},[t._v(\"%\")])])}))],2)}))],2)]):t._e()])])])])],1):t._e(),\"output\"==t.action||\"direct_packing\"==t.action?e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[e(\"div\",{staticClass:\"card-scroll\"},[e(\"table\",{staticClass:\"table\"},[e(\"thead\",{staticClass:\"output-rows\"},[e(\"tr\",[e(\"th\",[t._v(\"#\")]),e(\"th\",{staticClass:\"text-info\"},[t._v(\"Output\")]),e(\"th\",{staticClass:\"text-success\"},[t._v(\"Quantity(KG)\")]),e(\"th\",{staticClass:\"text-primary\"},[t._v(\"Percentage(%)\")]),t.process_detail.direct_packing?e(\"th\",{staticClass:\"text-danger\"},[t._v(\"Packing\")]):e(\"th\")])]),t._l(t.form_data.process_outputs,(function(a,i){return a.parameter_detail.status?e(\"tbody\",{staticClass:\"output-rows\"},[e(\"tr\",[e(\"td\",[t._v(t._s(i+1)+\")\")]),e(\"td\",{staticClass:\"text-info\"},[e(\"b\",[t._v(t._s(a.parameter_detail.name)+\" \")])]),e(\"td\",{staticClass:\"text-success\"},[t.process_detail.direct_packing?e(\"span\",[t._v(t._s(a.quantity.toFixed(2))+\"KG\")]):t._e(),\"checkbox\"===(t.process_detail.direct_packing?\"hidden\":\"number\")?e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:a.name,step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+a.parameter,min:\"0\",type:\"checkbox\"},domProps:{checked:Array.isArray(a.quantity)?t._i(a.quantity,null)>-1:a.quantity},on:{input:function(e){return t.calculation(a)},change:function(e){var i=a.quantity,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,o=t._i(i,r);s.checked?o<0&&t.$set(a,\"quantity\",i.concat([r])):o>-1&&t.$set(a,\"quantity\",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(a,\"quantity\",n)}}}):\"radio\"===(t.process_detail.direct_packing?\"hidden\":\"number\")?e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:a.name,step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+a.parameter,min:\"0\",type:\"radio\"},domProps:{checked:t._q(a.quantity,null)},on:{input:function(e){return t.calculation(a)},change:function(e){return t.$set(a,\"quantity\",null)}}}):e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:a.name,step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+a.parameter,min:\"0\",type:t.process_detail.direct_packing?\"hidden\":\"number\"},domProps:{value:a.quantity},on:{input:[function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)},function(e){return t.calculation(a)}]}})]),e(\"td\",{staticClass:\"text-primary\"},[e(\"span\",[t._v(t._s(a.quantity_persentage))]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity_persentage,expression:\"parameter.quantity_persentage\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:a.name,type:\"hidden\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+a.parameter,min:\"0\",readonly:\"\"},domProps:{value:a.quantity_persentage},on:{input:function(e){e.target.composing||t.$set(a,\"quantity_persentage\",e.target.value)}}})]),t.process_detail.direct_packing?e(\"td\",[a.direct_packing_ids.length>0?e(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-primary\",attrs:{type:\"button\"},on:{click:function(e){return t.$bvModal.show(\"packing-form\"+a.parameter)}}},[t._v(\" Select Materials (\"+t._s(a.direct_packing_ids.length)+\") \")]):e(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-warning\",attrs:{type:\"button\"},on:{click:function(e){return t.$bvModal.show(\"packing-form\"+a.parameter)}}},[t._v(\" Select Materials \")])]):e(\"td\")]),e(\"tr\",{staticClass:\"p-0\"},[e(\"td\",{staticClass:\"p-0\",attrs:{colspan:\"5\"}},[a.direct_packing_ids.length>0?e(\"div\",{staticClass:\"py-0 px-3\"},[e(\"table\",{staticClass:\"w-100\"},[e(\"tr\",[e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"#\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Material\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Specs\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Lot\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Status\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Packing material taken (number)\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Product weight (KG/Bag)\")])]),t._l(a.packing_materials,(function(i,s){return\"direct_packing\"==i.packing_type?e(\"tr\",[e(\"td\",[t._v(t._s(s+1)+\")\")]),e(\"td\",[t._v(\" \"+t._s(i.material_detail.name)+\" \"),e(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+i.id+\"parameter\"+a.parameter},domProps:{value:\"yes\"}})]),e(\"td\",t._l(i.specifications,(function(a){return a.material_ids.includes(i.material)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(a.name))]),t._v(\":\"+t._s(a.value)+\", \")]):t._e()})),0),e(\"td\",[t._v(\"#Lot\"+t._s(i.lot))]),e(\"td\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(i.status))])]),e(\"td\",{staticStyle:{width:\"50%\"},attrs:{colspan:\"2\"}},[t._l(i.qtys,(function(s,n){return e(\"div\",{staticClass:\"d-flex\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.number_of_bags,expression:\"qty.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"number_of_bags\"+i.id+\"parameter\"+a.parameter+\"qtkey\"+n,max:i.quantity},domProps:{value:s.number_of_bags},on:{input:function(a){a.target.composing||t.$set(s,\"number_of_bags\",a.target.value)}}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.packing_quantity,expression:\"qty.packing_quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"packing_quantity\"+i.id+\"parameter\"+a.parameter+\"qtkey\"+n,step:\"0.1\"},domProps:{value:s.packing_quantity},on:{input:function(a){a.target.composing||t.$set(s,\"packing_quantity\",a.target.value)}}}),e(\"div\",{staticClass:\"border pt-1 px-1\"},[t._v(t._s(i.material_detail.unit))])])})),e(\"div\",{staticClass:\"d-flex\"},[e(\"span\",{staticClass:\"pl-1\",staticStyle:{width:\"45%\"}},[e(\"b\",[t._v(t._s(t.totalPackMetQty(i,\"piece\")))]),t._v(\"piece \")]),e(\"span\",{staticClass:\"pl-2\",staticStyle:{width:\"35%\"}},[e(\"b\",[t._v(t._s(t.totalPackMetQty(i,\"weight\"))+t._s(i.material_detail.unit))])]),e(\"div\",{staticClass:\"text-right\",staticStyle:{width:\"20%\"}},[i.qtys.length>1?e(\"button\",{staticClass:\"btn btn-danger btn-sm mt-1 mr-1 px-2 py-1\",attrs:{type:\"button\"},on:{click:function(t){i.qtys.splice(i.qtys.length-1,1)}}},[t._v(\"-\")]):t._e(),e(\"button\",{staticClass:\"btn btn-primary btn-sm mt-1 px-2 py-1\",staticStyle:{\"margin-right\":\"1px\"},attrs:{type:\"button\"},on:{click:function(t){return i.qtys.push({packing_quantity:0,number_of_bags:0})}}},[t._v(\"+\")])])])],2)]):t._e()}))],2),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],staticClass:\"pb-3\"},[e(\"div\",{staticClass:\"text-right text-info\"},[e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Total:\")]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Materials: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"materials\"))+\")\")])]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Bags: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"piece\"))+\")\")])]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Weight: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"weight\"))+\")\")])])])])]):t._e(),e(\"div\",{staticClass:\"packing-form\"},[e(\"b-modal\",{attrs:{id:\"packing-form\"+a.parameter,\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Select Packing Materials/\"),e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(a.parameter_detail.name))])])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:a.direct_packing_ids.length>0?\"success\":\"danger\"},on:{click:function(e){t.totalPackQty(a),t.$bvModal.hide(\"packing-form\"+a.parameter)}}},[t._v(t._s(a.direct_packing_ids.length>0?\"Select\":\"Close\"))])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{staticClass:\"pr-0\",attrs:{lg:\"4\",xl:\"4\"}},[e(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Filter\")]),t.filter_material.material?e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input px-0\"},[e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.filter_material.material_detail,expression:\"filter_material.material_detail\"}],staticClass:\"ui-autocomplete-input w-100 ml-0\",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.filter_material,\"material_detail\",a.target.multiple?e:e[0])},function(a){t.filter_material.material=t.filter_material.material_detail.id}]}},[e(\"option\",{domProps:{value:{id:\"all\",specifications:[]}}},[t._v(\"Select Material\")]),t._l(t.materials,(function(a){return e(\"option\",{domProps:{value:a}},[t._v(t._s(a.name))])}))],2)]),t._l(t.filter_material.specifications,(function(a,i){return a.material_ids.includes(t.filter_material.material)?e(\"div\",{staticClass:\"px-0 mt-1\"},[e(\"span\",[t._v(t._s(a.name))]),e(\"div\",[a.values?e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.value,expression:\"specification.value\"}],staticClass:\"ui-autocomplete-input w-100 ml-0\",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(a,\"value\",e.target.multiple?i:i[0])}}},t._l(a.values,(function(a){return e(\"option\",{domProps:{value:a.value}},[t._v(t._s(a.value))])})),0):e(\"div\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.value,expression:\"specification.value\"}],attrs:{type:\"checkbox\",id:\"checkmet\"},domProps:{checked:Array.isArray(a.value)?t._i(a.value,null)>-1:a.value},on:{change:function(e){var i=a.value,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,o=t._i(i,r);s.checked?o<0&&t.$set(a,\"value\",i.concat([r])):o>-1&&t.$set(a,\"value\",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(a,\"value\",n)}}}),t._v(\" \"),e(\"label\",{attrs:{for:\"checkmet\"}},[t._v(\" YES\")])])])]):t._e()}))],2):t._e()])],1),e(\"b-col\",{attrs:{lg:\"8\",xl:\"8\"}},[e(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Packing Materials\")]),e(\"div\",{staticClass:\"user-info\"},[e(\"table\",{staticClass:\"table\"},[e(\"tr\",[e(\"th\",[t._v(\"Material\")]),e(\"th\",[t._v(\"Specs\")]),e(\"th\",[t._v(\"Lot\")]),e(\"th\",[t._v(\"Status\")]),e(\"th\",[t._v(\"Action\")])]),t._l(t.packing_materials,(function(i){return t.checkMetFilter(i)&&\"direct_packing\"==i.packing_type?e(\"tr\",[e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(t._s(i.material_detail.name))]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},t._l(i.specifications,(function(a){return a.material_ids.includes(i.material)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(a.name))]),t._v(\":\"+t._s(a.value)+\", \")]):t._e()})),0),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\"#Lot\"+t._s(i.lot))]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(i.status))])]),e(\"td\",[a.direct_packing_ids.includes(i.id)?e(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.removeMaterial(a,i)}}},[t._v(\"Remove\")]):e(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.addMaterial(a,i)}}},[t._v(\"Add\")])])]):t._e()}))],2)])])],1)],1)],1)],1)])])]):t._e()})),e(\"tfoot\",{staticClass:\"output-rows\"},[1==t.process_detail.id?e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[e(\"td\"),e(\"td\",[t._v(\" \"+t._s(t.slugToWord(\"robesta_fresh_pulping_output\"))+\" \")]),e(\"td\",[e(\"input\",{staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:t.slugToWord(\"robesta_fresh_pulping_output\"),type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+t.pulping_output_id,min:\"0\",readonly:\"\"},domProps:{value:t.total_weight-t.total_output}})]),e(\"td\",[e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:t.slugToWord(\"percentage\"),type:\"text\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+t.pulping_output_id,min:\"0\",readonly:\"\"},domProps:{value:t.CalculatePersentage(t.total_weight-t.total_output)}})]),e(\"td\")]):t._e(),e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:1!=t.process_detail.id,expression:\"process_detail.id!=1\"}]},[e(\"th\"),e(\"th\",{staticClass:\"text-right\"},[t._v(\"Total Output : \")]),e(\"td\",[e(\"b\",{staticClass:\"text-success h5\"},[t._v(t._s(t.total_output.toFixed(2))+\"KG\")]),t._v(\"/ \"),e(\"span\",{staticClass:\"text-info\"},[t._v(t._s(t.total_weight.toFixed(2))+\"KG\")])]),e(\"td\",{staticClass:\"text-primary\"},[t._v(t._s(t.CalculatePersentage(t.total_output)))]),e(\"td\")]),e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:1!=t.process_detail.id,expression:\"process_detail.id!=1\"}]},[e(\"th\"),e(\"th\",{staticClass:\"text-right\"},[t._v(t._s(t.process_detail.have_husk?\"Husk\":t.process_detail.name+\" Loss\")+\" : \")]),e(\"td\",{staticClass:\"text-danger\"},[t._v(t._s((t.total_weight-t.total_output).toFixed(2))+\"Kg\")]),e(\"td\",{staticClass:\"text-danger\"},[t._v(t._s(t.CalculatePersentage(t.total_weight-t.total_output)))]),e(\"td\")])])],2),e(\"hr\")])]):t._e(),\"indent_packing\"==t.action?e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"12\",xl:\"12\"}},[e(\"div\",{staticClass:\"card-scroll\"},[e(\"table\",{staticClass:\"table\"},[e(\"thead\",{staticClass:\"output-rows\"},[e(\"tr\",[e(\"th\",[t._v(\"#\")]),e(\"th\",{staticClass:\"text-info\"},[t._v(\"Output\")]),e(\"th\",{staticClass:\"text-success\"},[t._v(\"Quantity(KG)\")]),e(\"th\",{staticClass:\"text-primary\"},[t._v(\"Percentage(%)\")]),t.process_detail.indent_packing?e(\"th\",{staticClass:\"text-danger\"},[t._v(\"Packing\")]):e(\"th\")])]),t._l(t.form_data.process_outputs,(function(a,i){return a.parameter_detail.status?e(\"tbody\",{staticClass:\"output-rows\"},[e(\"tr\",[e(\"td\",[t._v(t._s(i+1)+\")\")]),e(\"td\",{staticClass:\"text-info\"},[e(\"b\",[t._v(t._s(a.parameter_detail.name)+\" \")])]),e(\"td\",{staticClass:\"text-success\"},[e(\"span\",[t._v(t._s(a.quantity.toFixed(2))+\"KG\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity,expression:\"parameter.quantity\"}],staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:a.name,type:\"hidden\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+a.parameter,min:\"0\"},domProps:{value:a.quantity},on:{input:[function(e){e.target.composing||t.$set(a,\"quantity\",e.target.value)},function(e){return t.calculation(a)}]}})]),e(\"td\",{staticClass:\"text-primary\"},[e(\"span\",[t._v(t._s(a.quantity_persentage))]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.quantity_persentage,expression:\"parameter.quantity_persentage\"}],staticClass:\"ui-autocomplete-input\",attrs:{placeholder:a.name,type:\"hidden\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+a.parameter,min:\"0\",readonly:\"\"},domProps:{value:a.quantity_persentage},on:{input:function(e){e.target.composing||t.$set(a,\"quantity_persentage\",e.target.value)}}})]),t.process_detail.indent_packing?e(\"td\",[a.indent_packing_ids.length>0?e(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-primary\",attrs:{type:\"button\"},on:{click:function(e){return t.$bvModal.show(\"packing-form\"+a.parameter)}}},[t._v(\" Select Indent (\"+t._s(a.indent_packing_ids.length)+\") \")]):e(\"button\",{staticClass:\"btn btn-sm py-1 px-2 btn-warning\",attrs:{type:\"button\"},on:{click:function(e){return t.$bvModal.show(\"packing-form\"+a.parameter)}}},[t._v(\" Select Indent \")])]):e(\"td\")]),e(\"tr\",{staticClass:\"p-0\"},[e(\"td\",{staticClass:\"p-0\",attrs:{colspan:\"5\"}},[a.indent_packing_ids.length>0?e(\"div\",{staticClass:\"py-0 px-3\"},[e(\"table\",{staticClass:\"w-100\"},[e(\"tr\",[e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"#\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Material\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Specs\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Lot\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Status\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Packing material taken (number)\")]),e(\"th\",{staticClass:\"border-top-0\"},[t._v(\"Product weight (KG/Bag)\")])]),t._l(t.packing_materials,(function(i,s){return\"indent_packing\"==i.packing_type&&a.indent_packing_ids.includes(i.id)?e(\"tr\",[e(\"td\",[t._v(t._s(s+1)+\")\")]),e(\"td\",[t._v(\" \"+t._s(i.material_detail.name)+\" \"),e(\"input\",{attrs:{type:\"hidden\",name:\"is_added\"+i.id+\"parameter\"+a.parameter},domProps:{value:\"yes\"}})]),e(\"td\",t._l(i.specifications,(function(a){return a.material_ids.includes(i.material)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(a.name))]),t._v(\":\"+t._s(a.value)+\", \")]):t._e()})),0),e(\"td\",[t._v(\"#Lot\"+t._s(i.lot))]),e(\"td\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(i.status))])]),e(\"td\",{staticStyle:{width:\"50%\"},attrs:{colspan:\"2\"}},[t._l(i.qtys,(function(s,n){return e(\"div\",{staticClass:\"d-flex\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.number_of_bags,expression:\"qty.number_of_bags\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"number_of_bags\"+i.id+\"parameter\"+a.parameter+\"qtkey\"+n,max:i.quantity},domProps:{value:s.number_of_bags},on:{input:function(a){a.target.composing||t.$set(s,\"number_of_bags\",a.target.value)}}}),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.packing_quantity,expression:\"qty.packing_quantity\"}],staticClass:\"ui-autocomplete-input w-100\",attrs:{type:\"number\",name:\"packing_quantity\"+i.id+\"parameter\"+a.parameter+\"qtkey\"+n,step:\"0.1\"},domProps:{value:s.packing_quantity},on:{input:function(a){a.target.composing||t.$set(s,\"packing_quantity\",a.target.value)}}}),e(\"div\",{staticClass:\"border pt-1 px-1\"},[t._v(t._s(i.material_detail.unit))])])})),e(\"div\",{staticClass:\"d-flex\"},[e(\"span\",{staticClass:\"pl-1\",staticStyle:{width:\"45%\"}},[e(\"b\",[t._v(t._s(t.totalPackMetQty(i,\"piece\")))]),t._v(\"piece \")]),e(\"span\",{staticClass:\"pl-2\",staticStyle:{width:\"35%\"}},[e(\"b\",[t._v(t._s(t.totalPackMetQty(i,\"weight\"))+t._s(i.material_detail.unit))])]),e(\"div\",{staticClass:\"text-right\",staticStyle:{width:\"20%\"}},[i.qtys.length>1?e(\"button\",{staticClass:\"btn btn-danger btn-sm mt-1 mr-1 px-2 py-1\",attrs:{type:\"button\"},on:{click:function(t){i.qtys.splice(i.qtys.length-1,1)}}},[t._v(\"-\")]):t._e(),e(\"button\",{staticClass:\"btn btn-primary btn-sm mt-1 px-2 py-1\",staticStyle:{\"margin-right\":\"1px\"},attrs:{type:\"button\"},on:{click:function(t){return i.qtys.push({packing_quantity:0,number_of_bags:0})}}},[t._v(\"+\")])])])],2)]):t._e()}))],2),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],staticClass:\"pb-3\"},[e(\"div\",{staticClass:\"text-right text-info\"},[e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Total:\")]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Materials: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"materials\"))+\")\")])]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Bags: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"piece\"))+\")\")])]),e(\"span\",{staticClass:\"mx-2\"},[t._v(\"Weight: \"),e(\"b\",[t._v(\"(\"+t._s(t.totalPackQty(a,\"weight\"))+\")\")])])])])]):t._e(),e(\"div\",{staticClass:\"packing-form\"},[e(\"b-modal\",{attrs:{id:\"packing-form\"+a.parameter,\"hide-header\":\"\",\"hide-footer\":\"\",\"no-close-on-backdrop\":!0}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[e(\"h5\",{staticClass:\"mb-0\"},[t._v(\"Select Packing Materials/\"),e(\"span\",{staticClass:\"text-success\"},[t._v(t._s(a.parameter_detail.name))])])]),e(\"div\",{staticClass:\"d-flex\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{type:\"button\",variant:a.indent_packing_ids.length>0?\"success\":\"danger\"},on:{click:function(e){t.totalPackQty(a),t.$bvModal.hide(\"packing-form\"+a.parameter)}}},[t._v(t._s(a.indent_packing_ids.length>0?\"Select\":\"Close\"))])],1)],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{staticClass:\"pr-0\",attrs:{lg:\"6\",xl:\"6\"}},[e(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Select Indent\")]),e(\"div\",{staticClass:\"user-info\"},[e(\"table\",{staticClass:\"table\"},[e(\"tr\",[e(\"th\",[t._v(\"Indent\")]),e(\"th\",[t._v(\"Product\")]),e(\"th\",[t._v(\"Quantity\")]),e(\"th\",[t._v(\"Action\")])]),t._l(t.indent_packings,(function(i){return i.parameter==a.parameter?e(\"tr\",[e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" #\"+t._s(i.main_indent)+\"/Indent \")]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\" \"+t._s(i.product_detail.category_detail.name)+\"> \"+t._s(i.product_detail.name)+\"> \"+t._s(i.parameter_detail.name)+\" \")]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(t._s(i.quantity)+\"KG\")]),e(\"td\",[a.indent_ids.includes(i.id)?e(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.removeIndent(a,i)}}},[t._v(\"Remove\")]):e(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.selectIndent(a,i)}}},[t._v(\"Select\")])])]):t._e()}))],2)])])],1),e(\"b-col\",{attrs:{lg:\"6\",xl:\"6\"}},[e(\"b-card\",{staticClass:\"mt-2\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Packing Materials\")]),e(\"div\",{staticClass:\"user-info\"},[t.packing_note?e(\"div\",{staticClass:\"alert alert-info p-2\"},[e(\"div\",[t._v(\"Packing note\")]),e(\"pre\",{staticClass:\"m-0\",domProps:{innerHTML:t._s(t.packing_note)}})]):t._e(),e(\"table\",{staticClass:\"table\"},[e(\"tr\",[e(\"th\",[t._v(\"Material\")]),e(\"th\",[t._v(\"Specs\")]),e(\"th\",[t._v(\"Lot\")]),e(\"th\",[t._v(\"Status\")]),e(\"th\",[t._v(\"Action\")])]),t._l(t.packing_materials,(function(i){return\"indent_packing\"==i.packing_type&&a.indent_packing_ids.includes(i.id)?e(\"tr\",[e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(t._s(i.material_detail.name))]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},t._l(i.specifications,(function(a){return a.material_ids.includes(i.material)?e(\"small\",[e(\"b\",{staticClass:\"text-primary\"},[t._v(\" \"+t._s(a.name))]),t._v(\":\"+t._s(a.value)+\", \")]):t._e()})),0),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[t._v(\"#Lot\"+t._s(i.lot))]),e(\"td\",{style:i.is_added?\"opacity:1\":\"opacity:0.5\"},[e(\"b\",{staticClass:\"text-primary\"},[t._v(t._s(i.status))])]),e(\"td\",[a.indent_packing_ids.includes(i.id)?e(\"button\",{staticClass:\"btn btn-danger btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.removeMaterial(a,i)}}},[t._v(\"Remove\")]):e(\"button\",{staticClass:\"btn btn-primary btn-sm px-3 py-1 ml-4\",attrs:{type:\"button\"},on:{click:function(e){return t.addMaterial(a,i)}}},[t._v(\"Add\")])])]):t._e()}))],2)])])],1)],1)],1)],1)])])]):t._e()})),e(\"tfoot\",{staticClass:\"output-rows\"},[1==t.process_detail.id?e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}]},[e(\"td\"),e(\"td\",[t._v(\" \"+t._s(t.slugToWord(\"robesta_fresh_pulping_output\"))+\" \")]),e(\"td\",[e(\"input\",{staticClass:\"ui-autocomplete-input ops\",attrs:{placeholder:t.slugToWord(\"robesta_fresh_pulping_output\"),type:\"number\",step:\"0.1\",autocomplete:\"off\",name:\"quantity\"+t.pulping_output_id,min:\"0\",readonly:\"\"},domProps:{value:t.total_weight-t.total_output}})]),e(\"td\",[e(\"input\",{staticClass:\"ui-autocomplete-input\",attrs:{placeholder:t.slugToWord(\"percentage\"),type:\"text\",step:\"0.1\",autocomplete:\"off\",name:\"quantity_persentage\"+t.pulping_output_id,min:\"0\",readonly:\"\"},domProps:{value:t.CalculatePersentage(t.total_weight-t.total_output)}})]),e(\"td\")]):t._e(),e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:1!=t.process_detail.id,expression:\"process_detail.id!=1\"}]},[e(\"th\"),e(\"th\",{staticClass:\"text-right\"},[t._v(\"Total Output : \")]),e(\"td\",[e(\"b\",{staticClass:\"text-success h5\"},[t._v(t._s(t.total_output.toFixed(2))+\"KG\")]),t._v(\"/ \"),e(\"span\",{staticClass:\"text-info\"},[t._v(t._s(t.total_weight.toFixed(2))+\"KG\")])]),e(\"td\",{staticClass:\"text-primary\"},[t._v(t._s(t.CalculatePersentage(t.total_output)))]),e(\"td\")]),e(\"tr\",{directives:[{name:\"show\",rawName:\"v-show\",value:1!=t.process_detail.id,expression:\"process_detail.id!=1\"}]},[e(\"th\"),e(\"th\",{staticClass:\"text-right\"},[t._v(t._s(t.process_detail.have_husk?\"Husk\":t.process_detail.name+\" Loss\")+\" : \")]),e(\"td\",{staticClass:\"text-danger\"},[t._v(t._s((t.total_weight-t.total_output).toFixed(2))+\"Kg\")]),e(\"td\",{staticClass:\"text-danger\"},[t._v(t._s(t.CalculatePersentage(t.total_weight-t.total_output)))]),e(\"td\")])])],2),e(\"hr\")])]):t._e()],1)],1)]):e(\"div\",{staticStyle:{height:\"84vh\"}},[t._m(0)])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"div\",{staticClass:\"loader_logo\"},[e(\"img\",{attrs:{src:\"/img/logo.png\",alt:\"logo\"}})]),e(\"div\",{staticClass:\"loading\"})])}],n=(e(\"4160\"),e(\"caad\"),e(\"c975\"),e(\"a434\"),e(\"b0c0\"),e(\"b680\"),e(\"d3b7\"),e(\"2532\"),e(\"159b\"),e(\"ddb0\"),e(\"4dbf\")),r={props:[\"process_detail_id\",\"start_process_id\",\"processing_id\",\"action\",\"is_view\"],components:{ProductFields:n[\"a\"]},data:function(){return{form_data:{id:null,date:null,product:null,status:\"Draft\",shift:\"DAY\",workers:[],wage_workers:[],work_type:\"wages\",overtime_hourse_st1:2,machines:[],start_process_detail:{process_products_list:[],main_process_detail:{},firewood_details:{},dryer_details:{},attribut:null,attribute_detail:{}},other_lots:[],lot:null,process_outputs:[],barrel_detail:{},next_process:null,consumable_items_list:[],unloading:{workers:[],wage_workers:[],work_type:\"wages\",overtime_hourse_st1:2}},process_detail:{outputs:[],consumable_items_list:[],inputs:[]},packing_materials:[],indent_packings:[],barrel_id:null,id:null,product_name:\"\",total_weight:0,total_output:0,workers:[],barrels:[],next_processes:[],stock_parameters:[],is_start:!1,filter_material:{specifications:[]},materials:[],specifications:[],boilers:[],packing_note:\"\"}},mounted:function(){this.form_data.date=this.currentDate(),this.processing_id?this.getProcess():this.getProcessDetails()},methods:{getProcess:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/processing/\"+this.processing_id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data=a,t.getPackingMaterials(),\"indent_packing\"==t.action&&t.getIndents(),t.getProcessDetails()}))},getProcessDetails:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_details/\"+this.process_detail_id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.process_detail=a,t.form_data.machines=a.machines;t.form_data.contract_labour_charge||(t.form_data.contract_labour_charge=a.production_process_detail.labour_charge),t.form_data.process_outputs.length<=0&&t.getParameters(),t.form_data.consumable_items_list.length<=0&&(t.form_data.consumable_items_list=a.consumable_items_list),a.have_barrel&&t.getBarrels(),t.getStartProcess()}))},getStartProcess:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/start_process/\"+this.start_process_id+\"/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.form_data.start_process_detail=a;a.processes.forEach((function(t,a){t.id}));var e=[],i=null;a.process_products.forEach((function(t,a){0==a&&(i=t.lot),e.push(t.lot)})),t.total_weight=a.total_weight,t.form_data.lot=i,t.form_data.other_lots=e,t.form_data.process_outputs.length>0&&t.calculateQty(),t.is_start=!0}))},getBarrels:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/barrel/?product=\"+this.form_data.product,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){var e=t;a.forEach((function(t,i){a[i][\"quantity\"]=0,a[i][\"quantity_persentage\"]=0,e.process_detail.consumable_items_list.forEach((function(t,e){a[i][\"other\"+t.id]=0}))})),t.barrels=a}))},getParameters:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?outputs=\"+this.process_detail.outputs+\"&start_process=\"+this.start_process_id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){a.forEach((function(t,e){a[e].parameter=t.id,a[e].parameter_detail=t,a[e].quantity=0,a[e].quantity_persentage=\"0%\",a[e][\"direct_packing_ids\"]=[],a[e][\"indent_packing_ids\"]=[],a[e][\"packing_ids\"]=[],a[e][\"packing_materials\"]=[],a[e][\"indent_ids\"]=[]})),t.form_data.process_outputs=a,t.setPackingMaterialFilter(),t.calculateQty()}))},calculateQty:function(){var t=0;this.barrels.forEach((function(a,e){t+=parseFloat(a.quantity)})),this.form_data.process_outputs.forEach((function(a,e){\"semi_finished_product\"!=a.parameter_type&&\"full_finished_product\"!=a.parameter_type&&\"main_product\"!=a.parameter_type||(t+=parseFloat(a.quantity))})),this.total_weight=t+this.total_weight,this.total_output=t},calculation:function(t){var a=this,e=0,i=this.form_data.process_outputs;this.form_data.process_outputs=[],i.forEach((function(t,s){if(t.quantity){if(0!=a.total_weight){var n=t.quantity/a.total_weight*100;n=n.toFixed(2),i[s].quantity_persentage=n+\"%\"}\"semi_finished_product\"!=t.parameter_type&&\"full_finished_product\"!=t.parameter_type&&\"main_product\"!=t.parameter_type||(e+=parseFloat(t.quantity))}else i[s].quantity_persentage=\"0%\"})),this.form_data.process_outputs=i,this.total_output=e},CalculatePersentage:function(t){if(t&&0!=this.total_weight){var a=t/this.total_weight*100;return a=a.toFixed(2),a+\"%\"}return\"0%\"},dataForm:function(){\"consumables\"==this.action?this.consumableStockCreate():\"output\"!=this.action&&\"direct_packing\"!=this.action&&\"indent_packing\"!=this.action||this.createOutput()},consumableStockCreate:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]);a.append(\"process_detail\",this.process_detail.id),a.append(\"start_process\",this.start_process_id),a.append(\"process\",this.form_data.id);var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/consumable_stock_create/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.success?a.out_of_stock?t.showAlert(\"Out of stock!\"):(t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(a.message)}))},getIndents:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/indent/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.indent_packings=a}))},getPackingMaterials:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/packing_material_stock/?warehouse=\"+this.form_data.start_process_detail.main_process_detail.warehouse+\"&in_stock=true\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){var e=t.action;a.forEach((function(t,i){a[i].is_added=!1,a[i].packing_type=e,a[i].qtys=[{packing_quantity:0,number_of_bags:0}]})),t.packing_materials=a}))},totalPackMetQty:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",e=0,i=0;return t.qtys.forEach((function(t){e+=parseInt(t.number_of_bags),i+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),\"piece\"==a?e:\"weight\"==a?i.toFixed(2):0},totalPackQty:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"piece\",e=0,i=0,s=0,n=0,r=\"\",o=this;t.packing_materials.forEach((function(t){if(t.is_added){var a=0,c=0;r=t.material_detail.unit,t.qtys.forEach((function(t){a+=parseInt(t.number_of_bags),c+=parseFloat(t.packing_quantity)*parseInt(t.number_of_bags)})),t.packing_type==o.action&&(e++,i+=a,s+=c),n+=c}})),t.quantity=n;o=this,n=0;var c=this.form_data.process_outputs;return c.forEach((function(t,a){if(t.quantity){if(0!=o.total_weight){var e=t.quantity/o.total_weight*100;e=e.toFixed(2),c[a].quantity_persentage=e+\"%\"}\"semi_finished_product\"!=t.parameter_type&&\"full_finished_product\"!=t.parameter_type&&\"main_product\"!=t.parameter_type||(n+=parseFloat(t.quantity))}else c[a].quantity_persentage=\"0%\"})),this.total_output=n,\"materials\"==a?e:\"piece\"==a?i:\"weight\"==a?s.toFixed(2)+r:0},setPackingMaterialFilter:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/materials/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.materials=a})),fetch(this.api_url+\"/product/specifications/\",{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.specifications=a;var e=[];t.specifications.forEach((function(t,a){\"Packing Material\"==t.specification_for&&e.push({id:t.id,name:t.name,value:\"\",is_values:t.is_values,values:t.values,material_ids:t.material_ids})})),t.filter_material={material:\"all\",requested_quantity:0,price:0,max_quantity:0,stock_quantity:0,print_indent:{id:null},specifications:e,material_detail:{id:\"all\",specifications:[]}}}))},checkMetFilter:function(t){var a=!1;t.material!=this.filter_material.material&&\"all\"!=this.filter_material.material||(a=!0);for(var e=0;e<this.filter_material.specifications.length;e++){var i=this.filter_material.specifications[e];i.material_ids.includes(this.filter_material.material)&&i.value&&(null==t.specifications[e].values?(\"on\"==t.specifications[e].value&&!i.value||\"off\"==t.specifications[e].value&&i.value)&&(a=!1):t.specifications[e].value!=i.value&&(a=!1))}return a},createOutput:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]);a.append(\"process_detail\",this.process_detail.id),a.append(\"start_process\",this.start_process_id),a.append(\"process\",this.form_data.id),a.append(\"packing_type\",this.action);var e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/production/process_outputs/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){a.success?(t.closePopup(),t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},closePopup:function(){this.$emit(\"closePopup\",!0)},addMaterial:function(t,a){a.is_added=!0,t.packing_materials.push(a),t.direct_packing_ids.push(a.id),t.packing_ids.push(a.id)},removeMaterial:function(t,a){a.is_added=!1;var e=t.packing_ids.indexOf(a.id),i=t.direct_packing_ids.indexOf(a.id);t.packing_materials.splice(e,1),t.packing_ids.splice(e,1),t.direct_packing_ids.splice(i,1)},selectIndent:function(t,a){a.is_added=!0,t.indent_ids.push(a.id);for(var e=0;e<a.values.length;e++){var i=this.checkMaterialStock(a.values[e]);i.id&&\"indent_packing\"==i.packing_type&&this.packing_materials.forEach((function(e,s){i.id==e.id&&(e[\"is_added\"]=!0,e[\"indent\"]=a.id,t.packing_materials.push(e),t.packing_ids.push(e.id),t.indent_packing_ids.push(e.id))}))}console.log(t.packing_materials)},removeIndent:function(t,a){a.is_added=!1,this.packing_note=\"\",t.packing_materials.forEach((function(e,i){e.indent==a.id&&\"indent_packing\"==e.packing_type&&(t.packing_materials.splice(i,1),t.packing_ids.splice(i,1),t.indent_packing_ids.splice(t.indent_packing_ids.indexOf(e.id),1))})),t.indent_ids.splice(t.indent_ids.indexOf(a.id),1)},checkMaterialStock:function(t){var a={id:null},e=this.packing_materials;return e.forEach((function(e,i){var s=!0;t.material==e.material?e.specifications.forEach((function(a){var i=!0;if(e.material_detail.specifications.includes(a.id)){var n=!0;t.specifications.forEach((function(e){e.material_ids.includes(t.material)&&a.id==e.id&&(a.value==e.value||null==e.values&&\"on\"==a.value&&e.value||(n=!1))})),n||(i=!1)}i||(s=!1)})):s=!1,s&&(a=e)})),a}}},o=r,c=(e(\"676f\"),e(\"2877\")),l=Object(c[\"a\"])(o,i,s,!1,null,null,null);a[\"default\"]=l.exports},b0c0:function(t,a,e){var i=e(\"83ab\"),s=e(\"9bf2\").f,n=Function.prototype,r=n.toString,o=/^\\s*function ([^ (]*)/,c=\"name\";i&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return\"\"}}})},b680:function(t,a,e){\"use strict\";var i=e(\"23e7\"),s=e(\"a691\"),n=e(\"408a\"),r=e(\"1148\"),o=e(\"d039\"),c=1..toFixed,l=Math.floor,u=function(t,a,e){return 0===a?e:a%2===1?u(t,a-1,e*t):u(t*t,a/2,e)},p=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},d=c&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));i({target:\"Number\",proto:!0,forced:d},{toFixed:function(t){var a,e,i,o,c=n(this),d=s(t),_=[0,0,0,0,0,0],m=\"\",h=\"0\",v=function(t,a){var e=-1,i=a;while(++e<6)i+=t*_[e],_[e]=i%1e7,i=l(i/1e7)},f=function(t){var a=6,e=0;while(--a>=0)e+=_[a],_[a]=l(e/t),e=e%t*1e7},g=function(){var t=6,a=\"\";while(--t>=0)if(\"\"!==a||0===t||0!==_[t]){var e=String(_[t]);a=\"\"===a?e:a+r.call(\"0\",7-e.length)+e}return a};if(d<0||d>20)throw RangeError(\"Incorrect fraction digits\");if(c!=c)return\"NaN\";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m=\"-\",c=-c),c>1e-21)if(a=p(c*u(2,69,1))-69,e=a<0?c*u(2,-a,1):c/u(2,a,1),e*=4503599627370496,a=52-a,a>0){v(0,e),i=d;while(i>=7)v(1e7,0),i-=7;v(u(10,i,1),0),i=a-1;while(i>=23)f(1<<23),i-=23;f(1<<i),v(1,1),f(2),h=g()}else v(0,e),v(1<<-a,0),h=g()+r.call(\"0\",d);return d>0?(o=h.length,h=m+(o<=d?\"0.\"+r.call(\"0\",d-o)+h:h.slice(0,o-d)+\".\"+h.slice(o-d))):h=m+h,h}})},da06:function(t,a,e){}}]);","extractedComments":[]}