{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-65369e2b\"],{4592:function(t,a,e){},\"633d\":function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"main-content create-main\"},[e(\"form\",{ref:\"dataForm\",on:{submit:function(a){return a.preventDefault(),t.getStock()}}},[e(\"div\",[e(\"div\",{staticClass:\"d-flex mb-2 align-items-center  justify-content-between\"},[t._t(\"header\",[t._m(0)])],2),e(\"div\",{staticClass:\" my-3 border-top\"})]),e(\"b-row\",{staticClass:\"main-scroll\"},[e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"4\",xl:\"4\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Select Product\")]),e(\"div\",[e(\"div\",{staticClass:\"ul-contact-detail__timeline\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"o_thread_composer  \"},[e(\"div\",{staticClass:\"o_composer_container my-2 row mx-0\"},[e(\"div\",{staticClass:\" col-md-12\"},[e(\"div\",{staticClass:\"user-info pt-2\"},[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Warehouse: \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.warehouse,expression:\"form_data.warehouse\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"warehouse\"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"warehouse\",a.target.multiple?e:e[0])}}},[e(\"option\",{attrs:{value:\"\"}},[t._v(\"All\")]),t._l(t.warehouses,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)]),t.load_products?e(\"ProductFields\",{attrs:{product_id:t.product_id,readonly:\"edit\"==t.action},on:{productId:t.productId}}):t._e(),e(\"div\",[e(\"div\",{staticClass:\"o_thread_search_input\"},[e(\"span\",{staticStyle:{width:\"120px\"}},[t._v(\"Parameter : \")]),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form_data.parameter,expression:\"form_data.parameter\"}],staticClass:\"ui-autocomplete-input w-100 mx-1\",attrs:{name:\"parameter\"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a=\"_value\"in t?t._value:t.value;return a}));t.$set(t.form_data,\"parameter\",a.target.multiple?e:e[0])},function(a){return t.getStock()}]}},[e(\"option\",{attrs:{value:\"\"}},[t._v(\"No Parameter\")]),t._l(t.parameters,(function(a){return e(\"option\",{domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])])],1)])])])]),e(\"hr\",{staticClass:\"mb-2\"}),e(\"div\",{staticClass:\"float-right\"},[e(\"b-button\",{staticClass:\" px-3 py-1  d-sm-block mx-1\",attrs:{variant:\"success\",type:\"submit\"}},[t._v(\"Filter \")])],1)])])])],1),e(\"b-col\",{staticClass:\"my-3\",attrs:{lg:\"8\",xl:\"8\"}},[e(\"b-card\",{staticClass:\"card-scroll\",attrs:{\"header-bg-variant\":\"transparent\"}},[e(\"h5\",[t._v(\"Stock Details\")]),t._l(t.product_stocks,(function(a,s){return e(\"div\",{staticClass:\"mb-1\"},[e(\"div\",{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:\"accordion-file\"+s,expression:\"'accordion-file'+key\"}],staticClass:\"card p-2\",on:{click:function(t){a.is_show=!a.is_show}}},[e(\"table\",[e(\"tr\",[e(\"td\",[t._v(t._s(s+1)+\")\")]),e(\"td\",[t._v(t._s(a.name))]),e(\"td\",{staticClass:\"text-right\",attrs:{colspan:\"2\"}},[t._v(\"Total: \"),e(\"b\",[t._v(t._s(t.totaQty(a)))]),t._v(\"Kg\")]),e(\"td\",{staticClass:\"text-right\"},[a.is_show?e(\"b\",{staticClass:\" text-danger\"},[t._v(\"Hide\")]):e(\"b\",{staticClass:\" text-info\"},[t._v(\"Show\")])])])])]),e(\"b-collapse\",{staticClass:\"mt-2\",attrs:{id:\"accordion-file\"+s,accordion:\"my-accordion\",role:\"tabpanel\"}},[e(\"table\",{staticClass:\"table\"},[t._l(a.stocks,(function(a,s){return e(\"tr\",{staticClass:\"bg-white\"},[e(\"td\"),e(\"td\",[e(\"small\",[t._v(t._s(s+1)+\")\")])]),e(\"td\"),e(\"td\",[t._v(\" \"+t._s(a.stock_quantity)+\"Kg\")]),e(\"td\",[t._v(\" Lot/\"+t._s(a.lot))]),e(\"td\")])})),a.is_show&&0==a.stocks.length?e(\"tr\",[e(\"td\"),e(\"td\",{attrs:{colspan:\"4\"}},[t._v(\"No stock available!\")]),e(\"td\")]):t._e()],2)])],1)}))],2)],1)],1)],1),e(\"div\")])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"h5\",{staticClass:\"mb-0\"},[e(\"span\",{staticClass:\"text-success\"},[t._v(\"Product Stock\")])])}],o=(e(\"4160\"),e(\"d3b7\"),e(\"159b\"),e(\"4dbf\")),i={metaInfo:{title:\"FPO - ICS\"},components:{ProductFields:o[\"a\"]},data:function(){return{form_data:{parameter:\"\"},id:null,action:\"create\",product_id:null,load_products:!1,product_stocks:[]}},mounted:function(){this.$root.current_section=\"inventory\",this.getWarehouses(),this.load_products=!0},methods:{productId:function(t){this.product_id=t,this.getParameters()},getParameters:function(){var t=this,a=new Headers;a.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/parameters/?product=\"+this.product_id,{method:\"get\",headers:a}).then((function(t){return t.json()})).then((function(a){t.parameters=a}))},getStock:function(){var t=this,a=new FormData(this.$refs[\"dataForm\"]),e=new Headers;e.append(\"Authorization\",\"Token \"+this.$root.token),fetch(this.api_url+\"/product/product_stock/\",{method:\"POST\",body:a,headers:e}).then((function(t){return t.json()})).then((function(a){t.product_stocks=a,t.showAlert(\"Data Fetched Successfully!\")}))},totaQty:function(t){var a=0;return t.stocks.forEach((function(t){a+=t.stock_quantity})),a}}},n=i,c=(e(\"9870\"),e(\"91ee\"),e(\"2877\")),l=Object(c[\"a\"])(n,s,r,!1,null,null,null);a[\"default\"]=l.exports},\"8a80\":function(t,a,e){},\"91ee\":function(t,a,e){\"use strict\";var s=e(\"4592\"),r=e.n(s);r.a},9870:function(t,a,e){\"use strict\";var s=e(\"8a80\"),r=e.n(s);r.a}}]);","extractedComments":[]}