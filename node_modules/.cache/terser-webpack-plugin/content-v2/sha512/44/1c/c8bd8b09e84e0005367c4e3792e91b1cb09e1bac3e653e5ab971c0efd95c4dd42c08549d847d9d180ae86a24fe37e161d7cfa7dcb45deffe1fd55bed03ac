{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-ad02746e\"],{\"1ea4\":function(t,e,i){},\"73af\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"main-content\"},[i(\"main\",[i(\"div\",{staticClass:\"header-bio\"},[i(\"div\",{staticClass:\"container d-flex justify-content-between align-items-center px-4\"},[i(\"div\",{staticClass:\"d-flex\"},[i(\"img\",{attrs:{src:\"/images/left-arrow.png\",width:\"10\"},on:{click:function(e){return t.goBack()}}}),i(\"h4\",{staticClass:\"font-weight-700 px-3\"},[t._v(\" Document\")])])])]),i(\"div\",{staticClass:\"main-body4\",attrs:{id:\"main_body\"}},[i(\"div\",{staticClass:\"mt-4 flex-align px-3\",staticStyle:{gap:\"10px\"}},[i(\"div\",{staticClass:\"input-group input-group-lg mb-0\"},[i(\"input\",{staticClass:\"form-control\",attrs:{type:\"text\",autocomplete:\"off\",placeholder:\"Select Farmer\",readonly:\"\"},domProps:{value:t.farmer.id?t.farmer.name+\" (\"+t.farmer.farmer_code+\")\":\"\"},on:{click:function(e){return t.$bvModal.show(\"select-farmer\")}}})])]),i(\"b-modal\",{attrs:{id:\"select-farmer\",title:\"Select Farmer\",\"hide-footer\":\"\"}},[i(\"div\",[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0==t.input_col,expression:\"input_col==0\"}]},[i(\"h4\",{staticClass:\"text-light pr-4 py-2\"},[t._v(\" ICS: \")]),i(\"div\",{staticClass:\"inspection-btn\"},[t._l(t.all_ics,(function(e,a){return i(\"button\",{staticClass:\"btn\",class:t.filter.ics==e.id?\"active-btn\":\"\",attrs:{type:\"button\"},on:{click:function(i){t.filter.ics=e.id,t.nextCol(),t.changeICS()}}},[t._v(t._s(e.name))])})),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.filter.ics,expression:\"filter.ics\"}],class:\"check_field_0\",attrs:{type:\"hidden\",required:\"\"},domProps:{value:t.filter.ics},on:{input:function(e){e.target.composing||t.$set(t.filter,\"ics\",e.target.value)}}})],2)]),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==t.input_col,expression:\"input_col==1\"}]},[i(\"h4\",{staticClass:\"text-light pr-4 py-2\"},[t._v(\" VFC: \")]),i(\"div\",{staticClass:\"inspection-btn\"},[t._l(t.all_vfc,(function(e,a){return i(\"button\",{staticClass:\"btn\",class:t.filter.vfc==e.id?\"active-btn\":\"\",attrs:{type:\"button\"},on:{click:function(i){t.filter.vfc=e.id,t.nextCol(),t.searchFarmers()}}},[t._v(t._s(e.name))])})),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.filter.vfc,expression:\"filter.vfc\"}],class:\"check_field_1\",attrs:{type:\"hidden\",required:\"\"},domProps:{value:t.filter.vfc},on:{input:function(e){e.target.composing||t.$set(t.filter,\"vfc\",e.target.value)}}})],2)]),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:2==t.input_col,expression:\"input_col==2\"}]},[i(\"h4\",{staticClass:\"text-light pr-4 py-2\"},[t._v(\" Farmers: \")]),i(\"div\",{staticClass:\"inspection-btn\"},[t._l(t.farmers,(function(e,a){return i(\"button\",{staticClass:\"btn\",class:t.farmer.id==e.id?\"active-btn\":\"\",attrs:{type:\"button\"},on:{click:function(i){t.farmer=e,t.nextCol()}}},[t._v(t._s(e.farmer_code)+\"-\"+t._s(e.name)+\" \")])})),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.farmer.id,expression:\"farmer.id\"}],class:\"check_field_2\",attrs:{type:\"hidden\",required:\"\"},domProps:{value:t.farmer.id},on:{input:function(e){e.target.composing||t.$set(t.farmer,\"id\",e.target.value)}}})],2)]),i(\"hr\",{staticClass:\"my-4\"}),i(\"div\",{staticClass:\"filter-item flex-align float-right\"},[i(\"div\",{staticStyle:{display:\"flex\",\"justify-content\":\"flex-end\",gap:\"10px\"}},[i(\"button\",{staticClass:\"btn btn-light\",attrs:{type:\"button\"},on:{click:function(e){t.input_col>0&&t.backCol()}}},[i(\"i\",{staticClass:\"fa fa-angle-left\"}),t._v(\" Back\")]),i(\"button\",{staticClass:\"btn btn-secondary\",attrs:{type:\"button\"},on:{click:function(e){return t.nextCol()}}},[t._v(t._s(2==t.input_col?\"Select\":\"Next\")+\" \"),i(\"i\",{staticClass:\"fa fa-angle-right\",staticStyle:{color:\"white\"}})])])])])]),i(\"div\",{staticClass:\"my-3\"},t._l(t.farmer_files,(function(e){return i(\"div\",{staticClass:\"mx-3 my-2 px-3 py-2 card\",on:{click:function(i){t.crnt_type=e.file_type,t.crnt_file=e}}},[i(\"div\",{staticClass:\"d-flex justify-content-between align-items-center  px-0 py-1\"},[i(\"h4\",{staticClass:\"font-weight-500 text-18 pr-2\"},[t._v(t._s(e.file_type))]),i(\"h4\",{staticClass:\"badge\",class:\"Approved\"==e.status?\"badge-success\":\"Pending\"==e.status?\"badge-warning\":\"Diclined\"==e.status?\"badge-dager\":\"badge-primary\"},[t._v(t._s(e.status))])]),i(\"div\",{staticClass:\"d-flex justify-content-between px-0 py-1 \"},[i(\"div\",[i(\"h5\",{staticClass:\" font-weight-500 text-light\"},[t._v(t._s(t.dateFormate(e.created_on)))])])])])})),0),i(\"form\",{ref:\"dataForm\",on:{submit:function(e){return e.preventDefault(),t.dataForm()}}},[t.farmer.id?i(\"div\",[i(\"div\",{staticClass:\" m-3\"},[i(\"h4\",{staticClass:\"text-light pr-4 pt-2\"},[t._v(t._s(t.crnt_file.id?\"Update\":\"New\")+\" File \"),t.crnt_file.id?i(\"span\",{staticClass:\"badge\",class:\"Approved\"==t.crnt_file.status?\"badge-success\":\"Pending\"==t.crnt_file.status?\"badge-warning\":\"Diclined\"==t.crnt_file.status?\"badge-dager\":\"badge-primary\"},[t._v(t._s(t.crnt_file.status))]):t._e()]),i(\"b-dropdown\",{staticClass:\"dropdown-container\",attrs:{id:\"dropdown-1\",block:\"\",variant:\"primary\",text:t.crnt_type}},t._l(t.file_types,(function(e){return i(\"b-dropdown-item\",{attrs:{active:t.crnt_type==e},on:{click:function(i){t.crnt_type=e,t.clearFileinput()}}},[t._v(t._s(e))])})),1)],1),\"Select file type\"!=t.crnt_type?i(\"div\",{staticClass:\"m-3\"},[i(\"h4\",{staticClass:\"text-light pr-4 py-2\"},[t._v(\"Upload Section\")]),i(\"input\",{attrs:{type:\"hidden\",name:\"file_type\"},domProps:{value:t.crnt_type}}),i(\"label\",{staticClass:\"w-100\"},[i(\"div\",{staticClass:\"attatch-photo\"},[i(\"input\",{staticClass:\"form-control text-center w-100\",attrs:{type:\"file\",id:\"up_input\",name:\"file\"},on:{change:t.selectFile}}),i(\"div\",{staticClass:\"attacth_icon\"},[t.previewFile?i(\"img\",{staticStyle:{height:\"60px\",\"margin-bottom\":\"10px\"},attrs:{src:\"/images/documents.png\"}}):i(\"img\",{attrs:{src:\"/images/upload.png\"}}),i(\"h5\",{staticClass:\"text-light\"},[t._v(t._s(t.previewFile?t.previewFile:\"Upload a photo or Take a picture\"))])])])]),i(\"button\",{staticClass:\"btn btn-primary w-100\",attrs:{type:t.is_upload?\"button\":\"submit\"}},[t._v(t._s(t.is_upload?\"Uploading...\":\"Upload\"))])]):t._e(),i(\"b-modal\",{attrs:{id:\"confirmPopup\",title:\"Alert\",\"hide-footer\":\"\"}},[i(\"div\",{staticClass:\"modal-body p-0 m-0\"},[i(\"div\",{staticClass:\"row mx-0 mb-3\"},[i(\"div\",{staticClass:\"col-md-12\"},[t._v(\" Are you sure want to this action? \")])])]),i(\"div\",{staticClass:\"modal-footer\"},[0==t.is_upload?i(\"button\",{staticClass:\"btn btn-success px-4\",attrs:{type:\"button\"},on:{click:function(e){return t.dataForm(\"yes\")}}},[t._v(\"Yes\")]):t._e(),i(\"button\",{staticClass:\"btn btn-outline-secondary px-4\",attrs:{type:\"button\"},on:{click:function(e){return t.$bvModal.hide(\"confirmPopup\")}}},[t._v(\"No\")])])])],1):t._e()])],1),i(\"div\",{staticClass:\"filter-footer\"},[i(\"div\",{staticClass:\"footer-item2 d-flex align-items-center\",on:{click:function(e){return t.$router.push(\"/\")}}},[i(\"img\",{attrs:{src:\"/images/home.png\",width:\"25\"}}),i(\"h5\",{staticClass:\"m-0 pl-2 text-white\"},[t._v(\"Home\")])])])])])},s=[],n=(i(\"4de4\"),i(\"b0c0\"),i(\"d3b7\"),{metaInfo:{title:\"Home\"},data:function(){return{input_col:0,crnt_type:\"Select file type\",previewFile:\"\",filter:{ics:null,panchayath:null,vfc:null,count:0},farmer:{id:null,name:\"\",farmer_code:\"\"},farmers:[],farmer_files:[],crnt_file:{id:null},is_upload:!1,not_start:!0,action:\"create\",lock_btn:!1}},mounted:function(){this.action=this.$route.params.action,this.checkLogin(),this.getIcs(),\"edit\"==this.action?(this.crnt_file.id=this.$route.params.id,this.getForm()):this.$route.query.farmer?(this.farmer.id=this.$route.query.farmer,this.$route.query.file_type&&(this.crnt_type=this.$route.query.file_type),this.getFarmer()):this.$bvModal.show(\"select-farmer\")},methods:{nextCol:function(){var t=this;if(this.lock_btn)return!1;this.lock_btn=!0,setTimeout((function(){t.lock_btn=!1;for(var e=document.getElementsByClassName(\"check_field_\"+t.input_col),i=!0,a=0;a<e.length;a++)e[a].style.border=\"none\",\"\"==e[a].value&&(e[a].style.border=\"1px red solid\",i=!1);i?(2==t.input_col&&(t.getFarmerFiles(),t.input_col--),t.input_col++):t.showAlert(\"Please select a farmer!\")}),300)},backCol:function(){this.input_col--},getForm:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/farmer_files/\"+this.crnt_file.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.crnt_file=e,t.crnt_type=e.file_type,t.farmer=e.farmer_detail}))},getFarmerFiles:function(){var t=this;this.$bvModal.hide(\"select-farmer\");var e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/farmer_files/?farmer=\"+this.farmer.id,{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.farmer_files=e}))},searchFarmers:function(){var t=this,e=new Headers,i=new FormData;i.append(\"vfc\",this.filter.vfc),i.append(\"search_type\",\"sample_procurement\"),e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/fpo/search_farmers/\",{method:\"post\",headers:e,body:i}).then((function(t){return t.json()})).then((function(e){t.farmers=e}))},getFarmer:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/employee/farmers/\"+this.farmer.id+\"/\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.farmer=e,t.getFarmerFiles()}))},clearFileinput:function(){this.previewFile=\"\",this.crnt_file={id:null},document.getElementById(\"up_input\")&&(document.getElementById(\"up_input\").value=\"\")},selectFile:function(t){var e=t.target.files[0];if(e){this.previewFile=\"\";var i=this;setTimeout((function(){i.previewFile=e.name}),10)}},dataForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"no\";if(\"no\"==t)return this.$bvModal.show(\"confirmPopup\"),!1;this.$bvModal.hide(\"confirmPopup\"),this.is_upload=!0,this.crnt_file.id?this.updateFormdata():this.createFormdata()},createFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"farmer\",this.farmer.id),e.append(\"action\",\"Create\"),e.append(\"year\",this.this_year),e.append(\"aeo\",\"\"),e.append(\"status\",\"Pending\");var i=new Headers;i.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/fpo/farmer_files/\",{method:\"POST\",body:e,headers:i}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getFarmerFiles(),t.is_upload=!1,t.showAlert(\"Saved Successfully!\")):t.showAlert(\"Something Wrong!\")}))},updateFormdata:function(){var t=this,e=new FormData(this.$refs[\"dataForm\"]);e.append(\"farmer\",this.farmer.id),e.append(\"action\",\"Update\"),e.append(\"year\",this.this_year),e.append(\"aeo\",\"\"),e.append(\"status\",\"Pending\");var i=new Headers;i.append(\"Authorization\",\"Bearer \"+this.$root.token),fetch(this.api_url+\"/fpo/farmer_files/\"+this.id+\"/\",{method:\"PUT\",body:e,headers:i}).then((function(t){return t.json()})).then((function(e){e.id>0?(t.getFarmerFiles(),t.is_upload=!1,t.showAlert(\"Updated Successfully!\")):t.showAlert(\"Something Wrong!\")}))}}}),r=n,o=(i(\"b25e\"),i(\"2877\")),c=Object(o[\"a\"])(r,a,s,!1,null,\"626847f3\",null);e[\"default\"]=c.exports},b0c0:function(t,e,i){var a=i(\"83ab\"),s=i(\"9bf2\").f,n=Function.prototype,r=n.toString,o=/^\\s*function ([^ (]*)/,c=\"name\";a&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return\"\"}}})},b25e:function(t,e,i){\"use strict\";var a=i(\"1ea4\"),s=i.n(a);s.a}}]);","extractedComments":[]}