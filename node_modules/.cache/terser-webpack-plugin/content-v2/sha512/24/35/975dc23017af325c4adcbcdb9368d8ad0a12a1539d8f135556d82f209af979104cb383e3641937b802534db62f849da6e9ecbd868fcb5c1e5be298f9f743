{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-14ecad8f\"],{\"04f5\":function(t,e,n){\"use strict\";var o=n(\"af28\"),i=n.n(o);i.a},\"25f0\":function(t,e,n){\"use strict\";var o=n(\"6eeb\"),i=n(\"825a\"),a=n(\"d039\"),s=n(\"ad6d\"),r=\"toString\",c=RegExp.prototype,l=c[r],d=a((function(){return\"/a/b\"!=l.call({source:\"a\",flags:\"b\"})})),u=l.name!=r;(d||u)&&o(RegExp.prototype,r,(function(){var t=i(this),e=String(t.source),n=t.flags,o=String(void 0===n&&t instanceof RegExp&&!(\"flags\"in c)?s.call(t):n);return\"/\"+e+\"/\"+o}),{unsafe:!0})},\"52d6\":function(t,e,n){},\"80ad\":function(t,e,n){\"use strict\";var o=n(\"52d6\"),i=n.n(o);i.a},af28:function(t,e,n){},b3df:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"main-content capcee-login\"},[t.start?n(\"div\",{staticClass:\"site-wrapper\"},[n(\"div\",{staticClass:\"flex-align w-100 p-3 \"},[n(\"img\",{staticStyle:{\"max-width\":\"120px\",\"max-height\":\"60px\"},attrs:{src:\"/all-images/logo.png\"}}),n(\"router-link\",{attrs:{to:t.edit?\"\":{name:\"home\"}}},[n(\"img\",{staticStyle:{width:\"20px\",opacity:\".5\"},attrs:{src:\"/all-images/close.png\"}})])],1),\"login\"==t.crnt_tab?n(\"div\",{staticClass:\"login-am\"},[n(\"div\",{staticClass:\"signin-2\",attrs:{id:\"signInBorder\"}},[t._m(0),n(\"div\",{staticClass:\"or-border\"},[t._v(\"--\")]),t._m(1),n(\"form\",{ref:\"loginUser\",on:{submit:function(e){return e.preventDefault(),t.loginUser()}}},[n(\"div\",{staticClass:\"text-center border-light p-3\"},[n(\"qr-code\",{attrs:{text:t.base_url+\"/sign-in?theme=m1&device_token=\"+t.device_token+\"&login=\"+t.login_code,size:\"400\",color:\"#1c1c1c\",\"bg-color\":\"#f7f9fa\",\"error-level\":\"L\"}}),n(\"p\",[t._v(\"Scan qr code and your account\")])],1),n(\"div\",[n(\"button\",{attrs:{type:\"button\",id:\"capcee\"}},[t._v(t._s(t.login_code))])])])])]):t._e()]):n(\"div\",{staticClass:\"site-wrapper\"},[t._m(2)])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"text-left mb-4\"},[n(\"h5\",{staticClass:\" login-head\"},[t._v(\" Login Account \")]),n(\"p\",[t._v(\"Welcome back. Good to see you again!\")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"google-login\"},[n(\"div\",{staticClass:\"google-login-child\"},[t._v(\" Scan QR Code \")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"flex-align w-100 p-3 \"},[n(\"div\",{staticClass:\"animated-background height4\",staticStyle:{width:\"120px\"}}),n(\"div\",{staticClass:\"animated-background height3 width3\"})])}],a=(n(\"4160\"),n(\"fb6a\"),n(\"d3b7\"),n(\"25f0\"),n(\"159b\"),{props:[\"edit\",\"blocks\",\"current_block\"],components:{},data:function(){return{start:!1,current_page:{},menu_click:!1,crnt_tab:\"login\",device_token:\"\",login_code:\"\"}},mounted:function(){this.edit?this.start=!0:(this.edit=!1,this.blocks=[{},{},{}],this.getPage()),localStorage.getItem(\"device_token\")&&localStorage.getItem(\"device_token\").length>0&&(this.device_token=localStorage.getItem(\"device_token\")),\"\"==this.device_token&&(this.device_token=this.generateToken(),localStorage.setItem(\"device_token\",this.device_token)),this.setLoginCode()},methods:{generateToken:function(){var t=Math.random().toString(36).slice(2);return t},setLoginCode:function(){var t=this,e=new FormData;e.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"post\",headers:n,body:e}).then((function(t){return t.json()})).then((function(e){e.success?(t.login_code=e.code,t.checkLogin()):t.showAlert(\"Something Wrong!\",\"red\")}))},checkLogin:function(){var t=this,e=new FormData;e.append(\"device_token\",this.device_token);var n=new Headers;n.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/users/tv_login/\",{method:\"put\",headers:n,body:e}).then((function(t){return t.json()})).then((function(e){if(e.success)if(e.is_logged){var n=e.data;n.auth_token?(localStorage.setItem(\"userInfo\",JSON.stringify(n)),t.$root.token=n.auth_token,\"\"==t.$root.token?localStorage.removeItem(\"userInfo\"):window.location.href=\"/\"):(t.showAlert(\"Something Wrong!\",\"red\"),localStorage.removeItem(\"userInfo\"))}else{var o=t;setTimeout((function(){o.checkLogin()}),5e3)}else t.showAlert(\"Something Wrong!\",\"red\")}))},getPage:function(){var t=this,e=new Headers;e.append(\"Authorization\",\"Bearer \"+this.$root.admin_token),fetch(this.api_url+\"/content/pages_contents/?theme=\"+theme_name+\"&page=/sign-in\",{method:\"get\",headers:e}).then((function(t){return t.json()})).then((function(e){t.current_page=e,t.blocks=e.blocks,t.start=!0}))},selectContent:function(t){this.edit&&(this.blocks.forEach((function(t){t.is_edit=!1})),t.is_edit=!0,this.$emit(\"selectedContent\",t))}}}),s=a,r=(n(\"04f5\"),n(\"80ad\"),n(\"2877\")),c=Object(r[\"a\"])(s,o,i,!1,null,\"b3a3383a\",null);e[\"default\"]=c.exports},fb6a:function(t,e,n){\"use strict\";var o=n(\"23e7\"),i=n(\"861d\"),a=n(\"e8b5\"),s=n(\"23cb\"),r=n(\"50c4\"),c=n(\"fc6a\"),l=n(\"8418\"),d=n(\"b622\"),u=n(\"1dde\"),g=n(\"ae40\"),h=u(\"slice\"),f=g(\"slice\",{ACCESSORS:!0,0:0,1:2}),v=d(\"species\"),p=[].slice,_=Math.max;o({target:\"Array\",proto:!0,forced:!h||!f},{slice:function(t,e){var n,o,d,u=c(this),g=r(u.length),h=s(t,g),f=s(void 0===e?g:e,g);if(a(u)&&(n=u.constructor,\"function\"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(u,h,f);for(o=new(void 0===n?Array:n)(_(f-h,0)),d=0;h<f;h++,d++)h in u&&l(o,d,u[h]);return o.length=d,o}})}}]);","extractedComments":[]}